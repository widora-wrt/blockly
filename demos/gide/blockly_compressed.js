var e,g=this;function t(a){return"string"==typeof a}function v(a){return"number"==typeof a}function aa(a,b){a=a.split(".");var c=g;a[0]in c||"undefined"==typeof c.execScript||c.execScript("var "+a[0]);for(var d;a.length&&(d=a.shift());)a.length||void 0===b?c[d]&&c[d]!==Object.prototype[d]?c=c[d]:c=c[d]={}:c[d]=b}function ba(){}function ca(a){a.Kj=void 0;a.kd=function(){return a.Kj?a.Kj:a.Kj=new a}}
function da(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";
else if("function"==b&&"undefined"==typeof a.call)return"object";return b}function x(a){return"array"==da(a)}function ea(a){var b=da(a);return"array"==b||"object"==b&&"number"==typeof a.length}function fa(a){return"function"==da(a)}function ha(a){var b=typeof a;return"object"==b&&null!=a||"function"==b}function ia(a){return a[ja]||(a[ja]=++ka)}var ja="closure_uid_"+(1E9*Math.random()>>>0),ka=0;function la(a,b,c){return a.call.apply(a.bind,arguments)}
function ma(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}}function na(a,b,c){Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?na=la:na=ma;return na.apply(null,arguments)}
function oa(a,b){var c=Array.prototype.slice.call(arguments,1);return function(){var b=c.slice();b.push.apply(b,arguments);return a.apply(this,b)}}function y(a,b){function c(){}c.prototype=b.prototype;a.o=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.wt=function(a,c,h){for(var d=Array(arguments.length-2),f=2;f<arguments.length;f++)d[f-2]=arguments[f];return b.prototype[c].apply(a,d)}};/*

 Visual Blocks Editor

 Copyright 2013 Google Inc.
 https://developers.google.com/blockly/

 Licensed under the Apache License, Version 2.0 (the "License");
 you may not use this file except in compliance with the License.
 You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS,
 WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 See the License for the specific language governing permissions and
 limitations under the License.
*/
var z={};z.ec=Object(null);var pa;var qa=Array.prototype.indexOf?function(a,b){return Array.prototype.indexOf.call(a,b,void 0)}:function(a,b){if(t(a))return t(b)&&1==b.length?a.indexOf(b,0):-1;for(var c=0;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},A=Array.prototype.forEach?function(a,b,c){Array.prototype.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,f=t(a)?a.split(""):a,h=0;h<d;h++)h in f&&b.call(c,f[h],h,a)},ra=Array.prototype.filter?function(a,b){return Array.prototype.filter.call(a,b,void 0)}:function(a,b){for(var c=
a.length,d=[],f=0,h=t(a)?a.split(""):a,k=0;k<c;k++)if(k in h){var l=h[k];b.call(void 0,l,k,a)&&(d[f++]=l)}return d},sa=Array.prototype.map?function(a,b,c){return Array.prototype.map.call(a,b,c)}:function(a,b,c){for(var d=a.length,f=Array(d),h=t(a)?a.split(""):a,k=0;k<d;k++)k in h&&(f[k]=b.call(c,h[k],k,a));return f},ta=Array.prototype.every?function(a,b){return Array.prototype.every.call(a,b,void 0)}:function(a,b){for(var c=a.length,d=t(a)?a.split(""):a,f=0;f<c;f++)if(f in d&&!b.call(void 0,d[f],
f,a))return!1;return!0};function ua(a,b){return 0<=qa(a,b)}function va(a,b){b=qa(a,b);var c;(c=0<=b)&&Array.prototype.splice.call(a,b,1);return c}function wa(a){return Array.prototype.concat.apply([],arguments)}function xa(a){var b=a.length;if(0<b){for(var c=Array(b),d=0;d<b;d++)c[d]=a[d];return c}return[]}function ya(a,b){for(var c=1;c<arguments.length;c++){var d=arguments[c];if(ea(d)){var f=a.length||0,h=d.length||0;a.length=f+h;for(var k=0;k<h;k++)a[f+k]=d[k]}else a.push(d)}}
function za(a,b,c,d){Array.prototype.splice.apply(a,Aa(arguments,1))}function Aa(a,b,c){return 2>=arguments.length?Array.prototype.slice.call(a,b):Array.prototype.slice.call(a,b,c)};function Ba(a){return a.replace(/[\t\r\n ]+/g," ").replace(/^[\t\r\n ]+|[\t\r\n ]+$/g,"")}var Ca=String.prototype.trim?function(a){return a.trim()}:function(a){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(a)[1]};
function Da(a){if(!Ea.test(a))return a;-1!=a.indexOf("&")&&(a=a.replace(Fa,"&amp;"));-1!=a.indexOf("<")&&(a=a.replace(Ga,"&lt;"));-1!=a.indexOf(">")&&(a=a.replace(Ha,"&gt;"));-1!=a.indexOf('"')&&(a=a.replace(Ia,"&quot;"));-1!=a.indexOf("'")&&(a=a.replace(Ja,"&#39;"));-1!=a.indexOf("\x00")&&(a=a.replace(Ka,"&#0;"));return a}var Fa=/&/g,Ga=/</g,Ha=/>/g,Ia=/"/g,Ja=/'/g,Ka=/\x00/g,Ea=/[\x00&<>"']/;
function Ma(a){var b={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"'};var c=g.document.createElement("div");return a.replace(Na,function(a,f){var d=b[a];if(d)return d;"#"==f.charAt(0)&&(f=Number("0"+f.substr(1)),isNaN(f)||(d=String.fromCharCode(f)));d||(c.innerHTML=a+" ",d=c.firstChild.nodeValue.slice(0,-1));return b[a]=d})}
function Oa(a){return a.replace(/&([^;]+);/g,function(a,c){switch(c){case "amp":return"&";case "lt":return"<";case "gt":return">";case "quot":return'"';default:return"#"!=c.charAt(0)||(c=Number("0"+c.substr(1)),isNaN(c))?a:String.fromCharCode(c)}})}var Na=/&([^;\s<&]+);?/g;function Pa(a,b){return a<b?-1:a>b?1:0}function Qa(){return"background-color".replace(/\-([a-z])/g,function(a,b){return b.toUpperCase()})}
function Ra(a){var b=t(void 0)?"undefined".replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08"):"\\s";return a.replace(new RegExp("(^"+(b?"|["+b+"]+":"")+")([a-z])","g"),function(a,b,f){return b+f.toUpperCase()})};var Sa;a:{var Ta=g.navigator;if(Ta){var Ua=Ta.userAgent;if(Ua){Sa=Ua;break a}}Sa=""}function B(a){return-1!=Sa.indexOf(a)};function Va(a,b,c){for(var d in a)b.call(c,a[d],d,a)}var Wa="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Xa(a,b){for(var c,d,f=1;f<arguments.length;f++){d=arguments[f];for(c in d)a[c]=d[c];for(var h=0;h<Wa.length;h++)c=Wa[h],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}}
function Ya(a){var b=arguments.length;if(1==b&&x(arguments[0]))return Ya.apply(null,arguments[0]);for(var c={},d=0;d<b;d++)c[arguments[d]]=!0;return c};function Za(a){Za[" "](a);return a}Za[" "]=ba;function $a(a,b){var c=ab;return Object.prototype.hasOwnProperty.call(c,a)?c[a]:c[a]=b(a)};var bb=B("Opera"),C=B("Trident")||B("MSIE"),cb=B("Edge"),E=B("Gecko")&&!(-1!=Sa.toLowerCase().indexOf("webkit")&&!B("Edge"))&&!(B("Trident")||B("MSIE"))&&!B("Edge"),F=-1!=Sa.toLowerCase().indexOf("webkit")&&!B("Edge"),db=F&&B("Mobile"),eb=B("Macintosh"),fb=B("Android"),gb=B("iPhone")&&!B("iPod")&&!B("iPad"),hb=B("iPad");function ib(){var a=g.document;return a?a.documentMode:void 0}var jb;
a:{var kb="",lb=function(){var a=Sa;if(E)return/rv:([^\);]+)(\)|;)/.exec(a);if(cb)return/Edge\/([\d\.]+)/.exec(a);if(C)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(a);if(F)return/WebKit\/(\S+)/.exec(a);if(bb)return/(?:Version)[ \/]?(\S+)/.exec(a)}();lb&&(kb=lb?lb[1]:"");if(C){var mb=ib();if(null!=mb&&mb>parseFloat(kb)){jb=String(mb);break a}}jb=kb}var ab={};
function nb(a){return $a(a,function(){for(var b=0,c=Ca(String(jb)).split("."),d=Ca(String(a)).split("."),f=Math.max(c.length,d.length),h=0;0==b&&h<f;h++){var k=c[h]||"",l=d[h]||"";do{k=/(\d*)(\D*)(.*)/.exec(k)||["","","",""];l=/(\d*)(\D*)(.*)/.exec(l)||["","","",""];if(0==k[0].length&&0==l[0].length)break;b=Pa(0==k[1].length?0:parseInt(k[1],10),0==l[1].length?0:parseInt(l[1],10))||Pa(0==k[2].length,0==l[2].length)||Pa(k[2],l[2]);k=k[3];l=l[3]}while(0==b)}return 0<=b})}var ob;var pb=g.document;
ob=pb&&C?ib()||("CSS1Compat"==pb.compatMode?parseInt(jb,10):5):void 0;var qb=!C||9<=Number(ob),rb=!E&&!C||C&&9<=Number(ob)||E&&nb("1.9.1"),sb=C&&!nb("9");var tb={area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0};function ub(a,b){this.g=a===vb&&b||"";this.j=wb}ub.prototype.fe=!0;ub.prototype.md=function(){return this.g};ub.prototype.toString=function(){return"Const{"+this.g+"}"};function xb(a){return a instanceof ub&&a.constructor===ub&&a.j===wb?a.g:"type_error:Const"}var wb={},vb={};function yb(){this.j=zb}yb.prototype.fe=!0;yb.prototype.md=function(){return""};yb.prototype.Hj=!0;yb.prototype.g=function(){return 1};var zb={};function Ab(){this.j="";this.m=Bb}Ab.prototype.fe=!0;Ab.prototype.md=function(){return this.j};Ab.prototype.Hj=!0;Ab.prototype.g=function(){return 1};function Cb(a){if(a instanceof Ab&&a.constructor===Ab&&a.m===Bb)return a.j;da(a);return"type_error:SafeUrl"}var Db=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function Eb(a){if(a instanceof Ab)return a;a="object"==typeof a&&a.fe?a.md():String(a);Db.test(a)||(a="about:invalid#zClosurez");return Fb(a)}var Bb={};
function Fb(a){var b=new Ab;b.j=a;return b}Fb("about:blank");function Gb(){this.g="";this.j=Hb}Gb.prototype.fe=!0;var Hb={};Gb.prototype.md=function(){return this.g};function Ib(a){var b=new Gb;b.g=a;return b}var Jb=Ib("");function Kb(a){var b="",c;for(c in a){if(!/^[-_a-zA-Z0-9]+$/.test(c))throw Error("Name allows only [-_a-zA-Z0-9], got: "+c);var d=a[c];null!=d&&(d=x(d)?sa(d,Lb).join(" "):Lb(d),b+=c+":"+d+";")}return b?Ib(b):Jb}
function Lb(a){if(a instanceof Ab)a='url("'+Cb(a).replace(/</g,"%3c").replace(/[\\"]/g,"\\$&")+'")';else if(a instanceof ub)a=xb(a);else{a=String(a);var b=a.replace(Mb,"$1").replace(Mb,"$1").replace(Nb,"url");if(Ob.test(b)){if(b=!Pb.test(a)){for(var c=b=!0,d=0;d<a.length;d++){var f=a.charAt(d);"'"==f&&c?b=!b:'"'==f&&b&&(c=!c)}b=b&&c&&Qb(a)}a=b?Rb(a):"zClosurez"}else a="zClosurez"}return a}
function Qb(a){for(var b=!0,c=/^[-_a-zA-Z0-9]$/,d=0;d<a.length;d++){var f=a.charAt(d);if("]"==f){if(b)return!1;b=!0}else if("["==f){if(!b)return!1;b=!1}else if(!b&&!c.test(f))return!1}return b}var Ob=/^[-,."'%_!# a-zA-Z0-9\[\]]+$/,Nb=/\b(url\([ \t\n]*)('[ -&(-\[\]-~]*'|"[ !#-\[\]-~]*"|[!#-&*-\[\]-~]*)([ \t\n]*\))/g,Mb=/\b(hsl|hsla|rgb|rgba|matrix|calc|minmax|fit-content|repeat|(rotate|scale|translate)(X|Y|Z|3d)?)\([-+*/0-9a-z.%\[\], ]+\)/g,Pb=/\/\*/;
function Rb(a){return a.replace(Nb,function(a,c,d,f){var b="";d=d.replace(/^(['"])(.*)\1$/,function(a,c,d){b=c;return d});a=Eb(d).md();return c+b+a+b+f})};function Sb(){this.j="";this.w=Tb;this.m=null}Sb.prototype.Hj=!0;Sb.prototype.g=function(){return this.m};Sb.prototype.fe=!0;Sb.prototype.md=function(){return this.j};function Ub(a){if(a instanceof Sb&&a.constructor===Sb&&a.w===Tb)return a.j;da(a);return"type_error:SafeHtml"}function Vb(a){if(a instanceof Sb)return a;var b="object"==typeof a,c=null;b&&a.Hj&&(c=a.g());a=Da(b&&a.fe?a.md():String(a));return Wb(a,c)}
var Xb=/^[a-zA-Z0-9-]+$/,Yb={action:!0,cite:!0,data:!0,formaction:!0,href:!0,manifest:!0,poster:!0,src:!0},Zb={APPLET:!0,BASE:!0,EMBED:!0,IFRAME:!0,LINK:!0,MATH:!0,META:!0,OBJECT:!0,SCRIPT:!0,STYLE:!0,SVG:!0,TEMPLATE:!0};
function $b(a,b,c){var d=String(a);if(!Xb.test(d))throw Error("Invalid tag name <"+d+">.");if(d.toUpperCase()in Zb)throw Error("Tag name <"+d+"> is not allowed for SafeHtml.");a=String(a);d=null;var f="<"+a,h="";if(b)for(n in b){if(!Xb.test(n))throw Error('Invalid attribute name "'+n+'".');var k=b[n];if(null!=k){var l=a;var m=n;if(k instanceof ub)k=xb(k);else if("style"==m.toLowerCase()){if(!ha(k))throw Error('The "style" attribute requires goog.html.SafeStyle or map of style properties, '+typeof k+
" given: "+k);k instanceof Gb||(k=Kb(k));k instanceof Gb&&k.constructor===Gb&&k.j===Hb?k=k.g:(da(k),k="type_error:SafeStyle")}else{if(/^on/i.test(m))throw Error('Attribute "'+m+'" requires goog.string.Const value, "'+k+'" given.');if(m.toLowerCase()in Yb)if(k instanceof yb)k instanceof yb&&k.constructor===yb&&k.j===zb?k="":(da(k),k="type_error:TrustedResourceUrl");else if(k instanceof Ab)k=Cb(k);else if(t(k))k=Eb(k).md();else throw Error('Attribute "'+m+'" on tag "'+l+'" requires goog.html.SafeUrl, goog.string.Const, or string, value "'+
k+'" given.');}k.fe&&(k=k.md());m=m+'="'+Da(String(k))+'"';h+=" "+m}}var n=f+h;null!=c?x(c)||(c=[c]):c=[];!0===tb[a.toLowerCase()]?n+=">":(c=ac(c),n+=">"+Ub(c)+"</"+a+">",d=c.g());(b=b&&b.dir)&&(/^(ltr|rtl|auto)$/i.test(b)?d=0:d=null);return Wb(n,d)}function ac(a){function b(a){x(a)?A(a,b):(a=Vb(a),d+=Ub(a),a=a.g(),0==c?c=a:0!=a&&c!=a&&(c=null))}var c=0,d="";A(arguments,b);return Wb(d,c)}var Tb={};function Wb(a,b){var c=new Sb;c.j=a;c.m=b;return c}Wb("<!DOCTYPE html>",0);
var bc=Wb("",0),cc=Wb("<br>",0);var dc=function(a){var b=!1,c;return function(){b||(c=a(),b=!0);return c}}(function(){var a=document.createElement("div");a.innerHTML="<div><div></div></div>";var b=a.firstChild.firstChild;a.innerHTML="";return!b.parentElement});function ec(a,b){b=Ub(b);if(dc())for(;a.lastChild;)a.removeChild(a.lastChild);a.innerHTML=b};function G(a,b){this.x=void 0!==a?a:0;this.y=void 0!==b?b:0}e=G.prototype;e.clone=function(){return new G(this.x,this.y)};function fc(a,b){return a==b?!0:a&&b?a.x==b.x&&a.y==b.y:!1}function gc(a,b){var c=a.x-b.x;a=a.y-b.y;return Math.sqrt(c*c+a*a)}function hc(a,b){return new G(a.x-b.x,a.y-b.y)}function ic(a,b){return new G(a.x+b.x,a.y+b.y)}e.ceil=function(){this.x=Math.ceil(this.x);this.y=Math.ceil(this.y);return this};e.floor=function(){this.x=Math.floor(this.x);this.y=Math.floor(this.y);return this};
e.round=function(){this.x=Math.round(this.x);this.y=Math.round(this.y);return this};e.translate=function(a,b){a instanceof G?(this.x+=a.x,this.y+=a.y):(this.x+=Number(a),v(b)&&(this.y+=b));return this};e.scale=function(a,b){b=v(b)?b:a;this.x*=a;this.y*=b;return this};function jc(a,b){this.width=a;this.height=b}e=jc.prototype;e.clone=function(){return new jc(this.width,this.height)};e.wn=function(){return this.width*this.height};e.aspectRatio=function(){return this.width/this.height};e.cm=function(){return!this.wn()};e.ceil=function(){this.width=Math.ceil(this.width);this.height=Math.ceil(this.height);return this};e.floor=function(){this.width=Math.floor(this.width);this.height=Math.floor(this.height);return this};
e.round=function(){this.width=Math.round(this.width);this.height=Math.round(this.height);return this};e.scale=function(a,b){b=v(b)?b:a;this.width*=a;this.height*=b;return this};function kc(a){return a?new lc(mc(a)):pa||(pa=new lc)}
function nc(a,b){var c=document;b=b||c;if(b.querySelectorAll&&b.querySelector)return b.querySelectorAll("TBODY"+(a?"."+a:""));if(a&&b.getElementsByClassName){b=b.getElementsByClassName(a);c={};for(var d=0,f=0,h;h=b[f];f++)"TBODY"==h.nodeName&&(c[d++]=h);c.length=d;return c}b=b.getElementsByTagName("TBODY");if(a){c={};for(f=d=0;h=b[f];f++){var k=h.className;"function"==typeof k.split&&ua(k.split(/\s+/),a)&&(c[d++]=h)}c.length=d;return c}return b}
function oc(a,b){Va(b,function(b,d){b&&"object"==typeof b&&b.fe&&(b=b.md());"style"==d?a.style.cssText=b:"class"==d?a.className=b:"for"==d?a.htmlFor=b:pc.hasOwnProperty(d)?a.setAttribute(pc[d],b):0==d.lastIndexOf("aria-",0)||0==d.lastIndexOf("data-",0)?a.setAttribute(d,b):a[d]=b})}
var pc={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function qc(){var a=window.document;a="CSS1Compat"==a.compatMode?a.documentElement:a.body;return new jc(a.clientWidth,a.clientHeight)}
function rc(a){var b=sc(a);a=a.parentWindow||a.defaultView;return C&&nb("10")&&a.pageYOffset!=b.scrollTop?new G(b.scrollLeft,b.scrollTop):new G(a.pageXOffset||b.scrollLeft,a.pageYOffset||b.scrollTop)}function sc(a){return a.scrollingElement?a.scrollingElement:F||"CSS1Compat"!=a.compatMode?a.body||a.documentElement:a.documentElement}function H(a,b,c){return tc(document,arguments)}
function tc(a,b){var c=String(b[0]),d=b[1];if(!qb&&d&&(d.name||d.type)){c=["<",c];d.name&&c.push(' name="',Da(d.name),'"');if(d.type){c.push(' type="',Da(d.type),'"');var f={};Xa(f,d);delete f.type;d=f}c.push(">");c=c.join("")}c=a.createElement(c);d&&(t(d)?c.className=d:x(d)?c.className=d.join(" "):oc(c,d));2<b.length&&uc(a,c,b);return c}
function uc(a,b,c){function d(c){c&&b.appendChild(t(c)?a.createTextNode(c):c)}for(var f=2;f<c.length;f++){var h=c[f];!ea(h)||ha(h)&&0<h.nodeType?d(h):A(vc(h)?xa(h):h,d)}}function wc(a){for(var b;b=a.firstChild;)a.removeChild(b)}function xc(a){return a&&a.parentNode?a.parentNode.removeChild(a):null}
function yc(a,b){if(!a||!b)return!1;if(a.contains&&1==b.nodeType)return a==b||a.contains(b);if("undefined"!=typeof a.compareDocumentPosition)return a==b||!!(a.compareDocumentPosition(b)&16);for(;b&&a!=b;)b=b.parentNode;return b==a}function mc(a){return 9==a.nodeType?a:a.ownerDocument||a.document}
function zc(a,b){if("textContent"in a)a.textContent=b;else if(3==a.nodeType)a.data=String(b);else if(a.firstChild&&3==a.firstChild.nodeType){for(;a.lastChild!=a.firstChild;)a.removeChild(a.lastChild);a.firstChild.data=String(b)}else wc(a),a.appendChild(mc(a).createTextNode(String(b)))}var Ac={SCRIPT:1,STYLE:1,HEAD:1,IFRAME:1,OBJECT:1},Bc={IMG:" ",BR:"\n"};function Cc(a){return C&&!nb("9")?(a=a.getAttributeNode("tabindex"),null!=a&&a.specified):a.hasAttribute("tabindex")}
function Dc(a){a=a.tabIndex;return v(a)&&0<=a&&32768>a}function Ec(a){if(sb&&null!==a&&"innerText"in a)a=a.innerText.replace(/(\r\n|\r|\n)/g,"\n");else{var b=[];Fc(a,b,!0);a=b.join("")}a=a.replace(/ \xAD /g," ").replace(/\xAD/g,"");a=a.replace(/\u200B/g,"");sb||(a=a.replace(/ +/g," "));" "!=a&&(a=a.replace(/^\s*/,""));return a}function Gc(a){var b=[];Fc(a,b,!1);return b.join("")}
function Fc(a,b,c){if(!(a.nodeName in Ac))if(3==a.nodeType)c?b.push(String(a.nodeValue).replace(/(\r\n|\r|\n)/g,"")):b.push(a.nodeValue);else if(a.nodeName in Bc)b.push(Bc[a.nodeName]);else for(a=a.firstChild;a;)Fc(a,b,c),a=a.nextSibling}function vc(a){if(a&&"number"==typeof a.length){if(ha(a))return"function"==typeof a.item||"string"==typeof a.item;if(fa(a))return"function"==typeof a.item}return!1}function lc(a){this.g=a||g.document||document}e=lc.prototype;e.Mb=kc;
e.H=function(a){return t(a)?this.g.getElementById(a):a};e.getElementsByTagName=function(a,b){return(b||this.g).getElementsByTagName(String(a))};e.S=function(a,b,c){return tc(this.g,arguments)};e.createElement=function(a){return this.g.createElement(String(a))};e.createTextNode=function(a){return this.g.createTextNode(String(a))};e.appendChild=function(a,b){a.appendChild(b)};e.canHaveChildren=function(a){if(1!=a.nodeType)return!1;switch(a.tagName){case "APPLET":case "AREA":case "BASE":case "BR":case "COL":case "COMMAND":case "EMBED":case "FRAME":case "HR":case "IMG":case "INPUT":case "IFRAME":case "ISINDEX":case "KEYGEN":case "LINK":case "NOFRAMES":case "NOSCRIPT":case "META":case "OBJECT":case "PARAM":case "SCRIPT":case "SOURCE":case "STYLE":case "TRACK":case "WBR":return!1}return!0};
e.Gm=wc;e.removeNode=xc;e.ce=function(a){return rb&&void 0!=a.children?a.children:ra(a.childNodes,function(a){return 1==a.nodeType})};e.contains=yc;/*

 Visual Blocks Editor

 Copyright 2012 Google Inc.
 https://developers.google.com/blockly/

 Licensed under the Apache License, Version 2.0 (the "License");
 you may not use this file except in compliance with the License.
 You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS,
 WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 See the License for the specific language governing permissions and
 limitations under the License.
*/
z.h={};z.h.removeAttribute=function(a,b){C&&nb("10.0")?a.setAttribute(b,null):a.removeAttribute(b)};z.h.Ma=function(a,b){var c=a.getAttribute("class")||"";if(-1!=(" "+c+" ").indexOf(" "+b+" "))return!1;c&&(c+=" ");a.setAttribute("class",c+b);return!0};
z.h.ib=function(a,b){var c=a.getAttribute("class");if(-1==(" "+c+" ").indexOf(" "+b+" "))return!1;c=c.split(/\s+/);for(var d=0;d<c.length;d++)c[d]&&c[d]!=b||(c.splice(d,1),d--);c.length?a.setAttribute("class",c.join(" ")):z.h.removeAttribute(a,"class");return!0};z.h.Wl=function(a,b){return-1!=(" "+a.getAttribute("class")+" ").indexOf(" "+b+" ")};z.h.gp=function(a){a.preventDefault();a.stopPropagation()};
z.h.li=function(a){return"textarea"==a.target.type||"text"==a.target.type||"number"==a.target.type||"email"==a.target.type||"password"==a.target.type||"search"==a.target.type||"tel"==a.target.type||"url"==a.target.type||a.target.isContentEditable};
z.h.Pb=function(a){var b=new G(0,0),c=a.getAttribute("x");c&&(b.x=parseInt(c,10));if(c=a.getAttribute("y"))b.y=parseInt(c,10);if(c=(c=a.getAttribute("transform"))&&c.match(z.h.Pb.m))b.x+=parseFloat(c[1]),c[3]&&(b.y+=parseFloat(c[3]));(a=a.getAttribute("style"))&&-1<a.indexOf("translate")&&((c=a.match(z.h.Pb.g))||(c=a.match(z.h.Pb.j)),c&&(b.x+=parseFloat(c[1]),c[3]&&(b.y+=parseFloat(c[3]))));return b};
z.h.Xh=function(a){for(var b=0,c=0;a;){var d=z.h.Pb(a);b+=d.x;c+=d.y;if(-1!=(" "+(a.getAttribute("class")||"")+" ").indexOf(" injectionDiv "))break;a=a.parentNode}return new G(b,c)};z.h.Pb.m=/translate\(\s*([-+\d.e]+)([ ,]\s*([-+\d.e]+)\s*\))?/;z.h.Pb.j=/transform:\s*translate3d\(\s*([-+\d.e]+)px([ ,]\s*([-+\d.e]+)\s*)px([ ,]\s*([-+\d.e]+)\s*)px\)?/;z.h.Pb.g=/transform:\s*translate\(\s*([-+\d.e]+)px([ ,]\s*([-+\d.e]+)\s*)px\)?/;
z.h.C=function(a,b,c){a=document.createElementNS(z.Si,a);for(var d in b)a.setAttribute(d,b[d]);document.body.runtimeStyle&&(a.runtimeStyle=a.currentStyle=a.style);c&&c.appendChild(a);return a};z.h.Se=function(a){return a.ctrlKey&&eb?!0:2==a.button};z.h.Tg=function(a,b,c){var d=b.createSVGPoint();d.x=a.clientX;d.y=a.clientY;c||(c=b.getScreenCTM().inverse());return d.matrixTransform(c)};z.h.vk=function(a){return a.length?a.reduce(function(a,c){return a.length<c.length?a:c}).length:0};
z.h.Qn=function(a,b){if(!a.length)return 0;if(1==a.length)return a[0].length;var c=0;b=b||z.h.vk(a);for(var d=0;d<b;d++){for(var f=a[0][d],h=1;h<a.length;h++)if(f!=a[h][d])return c;" "==f&&(c=d+1)}for(h=1;h<a.length;h++)if((f=a[h][d])&&" "!=f)return c;return b};
z.h.Rn=function(a,b){if(!a.length)return 0;if(1==a.length)return a[0].length;var c=0;b=b||z.h.vk(a);for(var d=0;d<b;d++){for(var f=a[0].substr(-d-1,1),h=1;h<a.length;h++)if(f!=a[h].substr(-d-1,1))return c;" "==f&&(c=d+1)}for(h=1;h<a.length;h++)if((f=a[h].charAt(a[h].length-d-1))&&" "!=f)return c;return b};z.h.Pp=function(a){return z.h.Bk(a,!0)};z.h.vb=function(a){if("string"!=typeof a)return a;a=z.h.Bk(a,!1);return a.length?a[0]:""};
z.h.dl=function(a){for(var b=z.U,c=/%{(BKY_[A-Z][A-Z0-9_]*)}/gi,d=c.exec(a);d;){var f=d[1];f=f.toUpperCase();"BKY_"!=f.substr(0,4)?console.log("WARNING: Unsupported message table prefix in %{"+d[1]+"}."):void 0==b[f.substr(4)]&&console.log("WARNING: No message string for %{"+d[1]+"}.");a=a.substring(d.index+f.length+1);d=c.exec(a)}};
z.h.Bk=function(a,b){var c=[],d=a.split("");d.push("");var f=0;a=[];for(var h=null,k=0;k<d.length;k++){var l=d[k];0==f?"%"==l?((l=a.join(""))&&c.push(l),a.length=0,f=1):a.push(l):1==f?"%"==l?(a.push(l),f=0):b&&"0"<=l&&"9">=l?(f=2,h=l,(l=a.join(""))&&c.push(l),a.length=0):"{"==l?f=3:(a.push("%",l),f=0):2==f?"0"<=l&&"9">=l?h+=l:(c.push(parseInt(h,10)),k--,f=0):3==f&&(""==l?(a.splice(0,0,"%{"),k--,f=0):"}"!=l?a.push(l):(f=a.join(""),/[a-zA-Z][a-zA-Z0-9_]*/.test(f)?(l=f.toUpperCase(),(l=z.h.startsWith(l,
"BKY_")?l.substring(4):null)&&l in z.U?(f=z.U[l],"string"==typeof f?Array.prototype.push.apply(c,z.h.Bk(f,b)):b?c.push(String(f)):c.push(f)):c.push("%{"+f+"}")):c.push("%{"+f+"}"),f=a.length=0))}(l=a.join(""))&&c.push(l);b=[];for(k=a.length=0;k<c.length;++k)"string"==typeof c[k]?a.push(c[k]):((l=a.join(""))&&b.push(l),a.length=0,b.push(c[k]));(l=a.join(""))&&b.push(l);a.length=0;return b};z.h.gd=function(){for(var a=z.h.gd.g.length,b=[],c=0;20>c;c++)b[c]=z.h.gd.g.charAt(Math.random()*a);return b.join("")};
z.h.gd.g="!#$%()*+,-./:;=?@[]^_`{|}~ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";z.h.aq=function(a){var b=z.D.ln;a=a.split("\n");for(var c=0;c<a.length;c++)a[c]=z.h.bq(a[c],b);return a.join("\n")};
z.h.bq=function(a,b){if(a.length<=b)return a;for(var c=a.trim().split(/\s+/),d=0;d<c.length;d++)c[d].length>b&&(b=c[d].length);d=-Infinity;var f=1;do{var h=d;var k=a;a=[];var l=c.length/f,m=1;for(d=0;d<c.length-1;d++)m<(d+1.5)/l?(m++,a[d]=!0):a[d]=!1;a=z.h.Zm(c,a,b);d=z.h.Dk(c,a,b);a=z.h.cq(c,a);f++}while(d>h);return k};
z.h.Dk=function(a,b,c){for(var d=[0],f=[],h=0;h<a.length;h++)d[d.length-1]+=a[h].length,!0===b[h]?(d.push(0),f.push(a[h].charAt(a[h].length-1))):!1===b[h]&&d[d.length-1]++;a=Math.max.apply(Math,d);for(h=b=0;h<d.length;h++)b-=2*Math.pow(Math.abs(c-d[h]),1.5),b-=Math.pow(a-d[h],1.5),-1!=".?!".indexOf(f[h])?b+=c/3:-1!=",;)]}".indexOf(f[h])&&(b+=c/4);1<d.length&&d[d.length-1]<=d[d.length-2]&&(b+=.5);return b};
z.h.Zm=function(a,b,c){for(var d=z.h.Dk(a,b,c),f,h=0;h<b.length-1;h++)if(b[h]!=b[h+1]){var k=[].concat(b);k[h]=!k[h];k[h+1]=!k[h+1];var l=z.h.Dk(a,k,c);l>d&&(d=l,f=k)}return f?z.h.Zm(a,f,c):b};z.h.cq=function(a,b){for(var c=[],d=0;d<a.length;d++)c.push(a[d]),void 0!==b[d]&&c.push(b[d]?"\n":" ");return c.join("")};
z.h.je=function(){if(void 0!==z.h.je.g)return z.h.je.g;if(!g.getComputedStyle)return!1;var a=document.createElement("p"),b="none",c={webkitTransform:"-webkit-transform",OTransform:"-o-transform",msTransform:"-ms-transform",MozTransform:"-moz-transform",transform:"transform"};document.body.insertBefore(a,null);for(var d in c)if(void 0!==a.style[d]){a.style[d]="translate3d(1px,1px,1px)";b=g.getComputedStyle(a);if(!b)return document.body.removeChild(a),!1;b=b.getPropertyValue(c[d])}document.body.removeChild(a);
z.h.je.g="none"!==b;return z.h.je.g};z.h.Of=function(a,b){var c=b.nextSibling;b=b.parentNode;if(!b)throw Error("Reference node has no parent.");c?b.insertBefore(a,c):b.appendChild(a)};z.h.Im=function(a){if("object"!=typeof document)throw Error("Blockly.utils.runAfterPageLoad() requires browser document.");if("complete"===document.readyState)a();else var b=setInterval(function(){"complete"===document.readyState&&(clearInterval(b),a())},10)};
z.h.ah=function(a,b){a.style.transform=b;a.style["-webkit-transform"]=b};z.h.yj=function(){var a=qc(),b=Hc();return{right:a.width+b.x,bottom:a.height+b.y,top:b.y,left:b.x}};z.h.startsWith=function(a,b){return 0==a.lastIndexOf(b,0)};z.h.Ah=function(a,b){b=a.indexOf(b);if(-1==b)return!1;a.splice(b,1);return!0};z.h.hh=function(a){return a*Math.PI/180};z.h.Op=function(a){return 180*a/Math.PI};z.h.containsNode=function(a,b){return!!(a.compareDocumentPosition(b)&Node.DOCUMENT_POSITION_CONTAINED_BY)};var Ic=!C||9<=Number(ob),Jc=!C||9<=Number(ob),Kc=C&&!nb("9"),Lc="ontouchstart"in g||!!(g.document&&document.documentElement&&"ontouchstart"in document.documentElement)||!(!g.navigator||!g.navigator.maxTouchPoints&&!g.navigator.msMaxTouchPoints),Mc=function(){if(!g.addEventListener||!Object.defineProperty)return!1;var a=!1,b=Object.defineProperty({},"passive",{get:function(){a=!0}});try{g.addEventListener("test",ba,b),g.removeEventListener("test",ba,b)}catch(c){}return a}();/*

 Visual Blocks Editor

 Copyright 2016 Google Inc.
 https://developers.google.com/blockly/

 Licensed under the Apache License, Version 2.0 (the "License");
 you may not use this file except in compliance with the License.
 You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS,
 WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 See the License for the specific language governing permissions and
 limitations under the License.
*/
z.Touch={};z.Touch.jh=null;z.Touch.bd={};g.PointerEvent?z.Touch.bd={mousedown:["pointerdown"],mouseenter:["pointerenter"],mouseleave:["pointerleave"],mousemove:["pointermove"],mouseout:["pointerout"],mouseover:["pointerover"],mouseup:["pointerup","pointercancel"],touchend:["pointerup"],touchcancel:["pointercancel"]}:Lc&&(z.Touch.bd={mousedown:["touchstart"],mousemove:["touchmove"],mouseup:["touchend","touchcancel"]});z.pi=0;
z.$o=function(a,b){z.me();a.changedTouches&&1!=a.changedTouches.length||(z.pi=setTimeout(function(){a.changedTouches&&(a.button=2,a.clientX=a.changedTouches[0].clientX,a.clientY=a.changedTouches[0].clientY);b&&Nc(b,a)},z.mn))};z.me=function(){z.pi&&(clearTimeout(z.pi),z.pi=0)};z.Touch.Dd=function(){z.Touch.jh=null};z.Touch.wk=function(a){return!z.Touch.Xo(a)||z.Touch.Jn(a)};
z.Touch.bi=function(a){return void 0!=a.pointerId?a.pointerId:a.changedTouches&&a.changedTouches[0]&&void 0!=a.changedTouches[0].identifier&&null!=a.changedTouches[0].identifier?a.changedTouches[0].identifier:"mouse"};z.Touch.Jn=function(a){var b=z.Touch.bi(a);return void 0!=z.Touch.jh&&null!=z.Touch.jh?z.Touch.jh==b:"mousedown"==a.type||"touchstart"==a.type||"pointerdown"==a.type?(z.Touch.jh=b,!0):!1};
z.Touch.Ep=function(a){if(z.h.startsWith(a.type,"touch")){var b=a.changedTouches[0];a.clientX=b.clientX;a.clientY=b.clientY}};z.Touch.Xo=function(a){return z.h.startsWith(a.type,"touch")||z.h.startsWith(a.type,"mouse")||z.h.startsWith(a.type,"pointer")};z.Touch.mi=function(a){return z.h.startsWith(a.type,"touch")||z.h.startsWith(a.type,"pointer")};
z.Touch.Hp=function(a){var b=[];if(a.changedTouches)for(var c=0;c<a.changedTouches.length;c++)b[c]={type:a.type,changedTouches:[a.changedTouches[c]],target:a.target,stopPropagation:function(){a.stopPropagation()},preventDefault:function(){a.preventDefault()}};else b.push(a);return b};z.i={};z.i.ei="";z.i.Gb=!0;z.i.hj=0;z.i.uh="create";z.i.uq=z.i.uh;z.i.Oi="delete";z.i.vq=z.i.Oi;z.i.mf="change";z.i.tq=z.i.mf;z.i.lg="move";z.i.wq=z.i.lg;z.i.Uk="var_create";z.i.Vk="var_delete";z.i.Wk="var_rename";z.i.Ti="ui";z.i.Hk="comment_create";z.i.Ik="comment_delete";z.i.Gk="comment_change";z.i.Jk="comment_move";z.i.hg=[];z.i.O=function(a){z.i.isEnabled()&&(z.i.hg.length||setTimeout(z.i.uo,0),z.i.hg.push(a))};
z.i.uo=function(){for(var a=z.i.filter(z.i.hg,!0),b=z.i.hg.length=0,c;c=a[b];b++){var d=Oc[c.g]||null;if(d){var f=c;f.Gb&&(d.jf.push(f),d.Xg.length=0,d.jf.length>d.nn&&d.jf.unshift());for(var h=0;c=d.Rb[h];h++)c(f)}}};
z.i.filter=function(a,b){a=a.slice();b||a.reverse();for(var c=[],d=Object.create(null),f=0,h;h=a[f];f++)if(!h.Pf()){var k=[h.type,h.Bb,h.g].join(" "),l=d[k],m=l?l.event:null;l?h.type==z.i.lg&&l.index==f-1?(m.Ve=h.Ve,m.Ue=h.Ue,m.oe=h.oe,l.index=f):h.type==z.i.mf&&h.element==m.element&&h.name==m.name?m.newValue=h.newValue:h.type!=z.i.Ti||"click"!=h.element||"commentOpen"!=m.element&&"mutatorOpen"!=m.element&&"warningOpen"!=m.element?(d[k]={event:h,index:1},c.push(h)):m.newValue=h.newValue:(d[k]={event:h,
index:f},c.push(h))}a=c.filter(function(a){return!a.Pf()});b||a.reverse();for(f=1;h=a[f];f++)h.type==z.i.mf&&"mutation"==h.element&&a.unshift(a.splice(f,1)[0]);return a};z.i.Ln=function(){for(var a=0,b;b=z.i.hg[a];a++)b.Gb=!1};z.i.disable=function(){z.i.hj++};z.i.enable=function(){z.i.hj--};z.i.isEnabled=function(){return 0==z.i.hj};z.i.Ob=function(){return z.i.ei};z.i.W=function(a){z.i.ei="boolean"==typeof a?a?z.h.gd():"":a};
z.i.Ll=function(a){var b=[];a=I(a,!1);for(var c=0,d;d=a[c];c++)b[c]=d.id;return b};
z.i.ca=function(a){switch(a.type){case z.i.uh:var b=new Pc(null);break;case z.i.Oi:b=new Qc(null);break;case z.i.mf:b=new Rc(null,"","","","");break;case z.i.lg:b=new Sc(null);break;case z.i.Uk:b=new Tc(null);break;case z.i.Vk:b=new Uc(null);break;case z.i.Wk:b=new Vc(null,"");break;case z.i.Ti:b=new J(null);break;case z.i.Hk:b=new Wc(null);break;case z.i.Gk:b=new Xc(null);break;case z.i.Jk:b=new Yc(null);break;case z.i.Ik:b=new Zc(null);break;default:throw Error("Unknown event type.");}b.ca(a);b.g=
(void 0).id;return b};z.i.Gt=function(a){if(a.type==z.i.lg||a.type==z.i.uh){var b=Oc[a.g]||null;if(a=$c(b,a.Bb))if(a.getParent()&&!a.getParent().disabled){b=I(a,!1);a=0;for(var c;c=b[a];a++)c.ue(!1)}else if((a.V||a.X)&&!b.tb()){do a.ue(!0),a=ad(a);while(a)}}};/*

 Visual Blocks Editor

 Copyright 2018 Google Inc.
 https://developers.google.com/blockly/

 Licensed under the Apache License, Version 2.0 (the "License");
 you may not use this file except in compliance with the License.
 You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS,
 WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 See the License for the specific language governing permissions and
 limitations under the License.
*/
function bd(){this.g=void 0;this.j=z.i.ei;this.Gb=z.i.Gb}bd.prototype.ra=function(){var a={type:this.type};this.j&&(a.group=this.j);return a};bd.prototype.ca=function(a){this.j=a.group};bd.prototype.Pf=function(){return!1};bd.prototype.Gc=function(){};function cd(a){a=Oc[a.g]||null;if(!a)throw Error("Workspace is null. Event must have been generated from real Blockly events.");return a};function dd(a){dd.o.constructor.call(this);this.m=a.ha();this.g=a.s.id}y(dd,bd);dd.prototype.ra=function(){var a=dd.o.ra.call(this);a.varId=this.m;return a};dd.prototype.ca=function(a){dd.o.ra.call(this);this.m=a.varId};function Tc(a){a&&(Tc.o.constructor.call(this,a),this.F=a.type,this.w=a.name)}y(Tc,dd);Tc.prototype.type=z.i.Uk;Tc.prototype.ra=function(){var a=Tc.o.ra.call(this);a.varType=this.F;a.varName=this.w;return a};
Tc.prototype.ca=function(a){Tc.o.ca.call(this,a);this.F=a.varType;this.w=a.varName};Tc.prototype.Gc=function(a){var b=cd(this);a?b.Ac(this.w,this.F,this.m):b.Je(this.m)};function Uc(a){a&&(Uc.o.constructor.call(this,a),this.F=a.type,this.w=a.name)}y(Uc,dd);Uc.prototype.type=z.i.Vk;Uc.prototype.ra=function(){var a=Uc.o.ra.call(this);a.varType=this.F;a.varName=this.w;return a};Uc.prototype.ca=function(a){Uc.o.ca.call(this,a);this.F=a.varType;this.w=a.varName};
Uc.prototype.Gc=function(a){var b=cd(this);a?b.Je(this.m):b.Ac(this.w,this.F,this.m)};function Vc(a,b){a&&(Vc.o.constructor.call(this,a),this.F=a.name,this.w=b)}y(Vc,dd);Vc.prototype.type=z.i.Wk;Vc.prototype.ra=function(){var a=Vc.o.ra.call(this);a.oldName=this.F;a.newName=this.w;return a};Vc.prototype.ca=function(a){Vc.o.ca.call(this,a);this.F=a.oldName;this.w=a.newName};Vc.prototype.Gc=function(a){var b=cd(this);a?b.Ze(this.m,this.w):b.Ze(this.m,this.F)};/*

 Visual Blocks Editor

 Copyright 2017 Google Inc.
 https://developers.google.com/blockly/

 Licensed under the Apache License, Version 2.0 (the "License");
 you may not use this file except in compliance with the License.
 You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS,
 WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 See the License for the specific language governing permissions and
 limitations under the License.
*/
function ed(a){this.ua={};this.s=a}e=ed.prototype;e.clear=function(){this.ua=Object(null)};e.bk=function(a,b){var c=this.Oc(b,a.type),d=fd(this.s);z.i.W(!0);try{if(c&&c.ha()!=a.ha()){var f=a.type;b!=c.name&&gd(c,b,d);for(b=0;b<d.length;b++)for(var h=void 0,k=d[b],l=a.ha(),m=c.ha(),n=0;h=k.da[n];n++)for(var q=0,r;r=h.Ia[q];q++)r.Tf()&&l==r.ab()&&r.xa(m);z.i.O(new Uc(a));this.ua[f].splice(this.Dg(f).indexOf(a),1)}else gd(a,b,d)}finally{z.i.W(!1)}};
e.Ze=function(a,b){var c=this.de(a);if(!c)throw Error("Tried to rename a variable that didn't exist. ID: "+a);this.bk(c,b)};function gd(a,b,c){z.i.O(new Vc(a,b));a.name=b;for(b=0;b<c.length;b++)for(var d,f=c[b],h=a,k=0;d=f.da[k];k++)for(var l=0,m;m=d.Ia[l];l++)m.Tf()&&h.ha()==m.ab()&&m.ob(h.name)}
e.Ac=function(a,b,c){var d=this.Oc(a,b);if(d){if(c&&d.ha()!=c)throw Error('Variable "'+a+'" is already in use and its id is "'+d.ha()+'" which conflicts with the passed in id, "'+c+'".');return d}if(c&&this.de(c))throw Error('Variable id, "'+c+'", is already in use.');c=c||z.h.gd();b=b||"";d=new hd(this.s,a,b,c);this.ua[b]?this.ua[b].push(d):this.ua[b]=[d];return d};
e.Je=function(a){var b=this.de(a);if(b){var c=b.name,d=this.xj(a);a=0;for(var f;f=d[a];a++)if("procedures_defnoreturn"==f.type||"procedures_defreturn"==f.type){a=id(f,"NAME");c=z.U.CANNOT_DELETE_VARIABLE_PROCEDURE.replace("%1",c).replace("%2",a);z.alert(c);return}var h=this;1<d.length?(c=z.U.DELETE_VARIABLE_CONFIRMATION.replace("%1",String(d.length)).replace("%2",c),z.confirm(c,function(a){a&&h.Kh(b,d)})):h.Kh(b,d)}else console.warn("Can't delete non-existent variable: "+a)};
e.Kh=function(a,b){var c=z.i.Ob();c||z.i.W(!0);try{for(var d=0;d<b.length;d++)b[d].B(!0,!1);var f=this.ua[a.type];b=0;for(var h;h=f[b];b++)if(h.ha()==a.ha()){f.splice(b,1);z.i.O(new Uc(a));break}}finally{c||z.i.W(!1)}};e.Oc=function(a,b){if(b=this.ua[b||""])for(var c=0,d;d=b[c];c++)if(d.name.toLowerCase()==a.toLowerCase())return d;return null};e.de=function(a){for(var b=Object.keys(this.ua),c=0;c<b.length;c++)for(var d=b[c],f=0,h;h=this.ua[d][f];f++)if(h.ha()==a)return h;return null};
e.Dg=function(a){return(a=this.ua[a||""])?a.slice():[]};e.wj=function(){for(var a=Object.keys(this.ua),b=!1,c=0;c<a.length;c++)""==a[c]&&(b=!0);b||a.push("");return a};e.Fd=function(){for(var a=[],b=Object.keys(this.ua),c=0;c<b.length;c++)a=a.concat(this.ua[b[c]]);return a};e.xj=function(a){for(var b=[],c=fd(this.s),d=0;d<c.length;d++){var f=jd(c[d]);if(f)for(var h=0;h<f.length;h++)f[h].ha()==a&&b.push(c[d])}return b};function kd(a){this.Ed=a.id;this.g=a.s.id;this.j=z.i.ei;this.Gb=z.i.Gb}y(kd,bd);kd.prototype.ra=function(){var a={type:this.type};this.j&&(a.group=this.j);this.Ed&&(a.commentId=this.Ed);return a};kd.prototype.ca=function(a){this.Ed=a.commentId;this.j=a.group};function Xc(a,b,c){a&&(Xc.o.constructor.call(this,a),this.w=b,this.m=c)}y(Xc,kd);e=Xc.prototype;e.type=z.i.Gk;e.ra=function(){var a=Xc.o.ra.call(this);a.newContents=this.m;return a};e.ca=function(a){Xc.o.ca.call(this,a);this.m=a.newValue};
e.Pf=function(){return this.w==this.m};e.Gc=function(a){var b;(b=cd(this).Ge[this.Ed]||null)?b.mc(a?this.m:this.w):console.warn("Can't change non-existent comment: "+this.Ed)};function Wc(a){a&&(Wc.o.constructor.call(this,a),this.xml=a.ih())}y(Wc,kd);Wc.prototype.type=z.i.Hk;Wc.prototype.ra=function(){var a=Wc.o.ra.call(this);a.xml=z.G.fd(this.xml);return a};Wc.prototype.ca=function(a){Wc.o.ca.call(this,a);this.xml=z.G.Xc("<xml>"+a.xml+"</xml>").firstChild};Wc.prototype.Gc=function(a){z.i.Kk(a)};
z.i.Kk=function(a){var b=cd(this);a?(a=H("xml"),a.appendChild(this.xml),z.G.zf(a,b)):(b=b.Ge[this.Ed]||null)?b.B(!1,!1):console.warn("Can't uncreate non-existent comment: "+this.Ed)};function Zc(a){a&&(Zc.o.constructor.call(this,a),this.xml=a.ih())}y(Zc,kd);Zc.prototype.type=z.i.Ik;Zc.prototype.ra=function(){return Zc.o.ra.call(this)};Zc.prototype.ca=function(a){Zc.o.ca.call(this,a)};Zc.prototype.Gc=function(a){z.i.Kk(!a)};
function Yc(a){a&&(Yc.o.constructor.call(this,a),this.w=a,this.F=a.tc.clone(),this.m=null)}y(Yc,kd);function ld(a){if(!a.w)throw Error("Tried to record the new position of a comment on the same event twice.");a.m=a.w.tc.clone();a.w=null}e=Yc.prototype;e.type=z.i.Jk;e.ra=function(){var a=Yc.o.ra.call(this);this.m&&(a.newCoordinate=Math.round(this.m.x)+","+Math.round(this.m.y));return a};
e.ca=function(a){Yc.o.ca.call(this,a);a.newCoordinate&&(a=a.newCoordinate.split(","),this.m=new G(parseFloat(a[0]),parseFloat(a[1])))};e.Pf=function(){return fc(this.F,this.m)};e.Gc=function(a){var b;if(b=cd(this).Ge[this.Ed]||null){a=a?this.m:this.F;var c=b.tc.clone();b.moveBy(a.x-c.x,a.y-c.y)}else console.warn("Can't move non-existent comment: "+this.Ed)};function md(a,b,c,d,f){this.id=f&&!a.Ge[f]?f:z.h.gd();a.ag.push(this);a.Ge[this.id]&&console.warn('Overriding an existing comment on this workspace, with id "'+this.id+'"');a.Ge[this.id]=this;this.tc=new G(0,0);this.wa=c;this.ea=d;this.s=a;this.u=a.u;this.Ug=this.ug=!0;this.gc=b;this.am=!0;nd(this)}e=md.prototype;
e.B=function(){if(this.s){z.i.isEnabled()&&z.i.O(new Zc(this));var a=this.s;if(!z.h.Ah(a.ag,this))throw Error("Comment not present in workspace's list of top-most comments.");delete a.Ge[this.id];this.s=null}};e.Df=function(){return this.wa};e.jc=function(){return this.ea};e.moveBy=function(a,b){var c=new Yc(this);this.tc.translate(a,b);ld(c);z.i.O(c)};e.Fb=function(){return this.ug&&!(this.s&&this.s.options.readOnly)};e.lk=function(a){this.ug=a};e.Qc=function(){return this.Ug&&!(this.s&&this.s.options.readOnly)};
e.bf=function(a){this.Ug=a};e.ic=function(){return this.gc};e.mc=function(a){this.gc!=a&&(z.i.O(new Xc(this,this.gc,a)),this.gc=a)};e.ih=function(a){a=od(this,a);a.setAttribute("x",Math.round(this.tc.x));a.setAttribute("y",Math.round(this.tc.y));a.setAttribute("h",this.wa);a.setAttribute("w",this.ea);return a};function od(a,b){var c=H("comment");b||c.setAttribute("id",a.id);c.textContent=a.ic();return c}
function nd(a){if(z.i.isEnabled()){var b=z.i.Ob();b||z.i.W(!0);try{z.i.O(new Wc(a))}finally{b||z.i.W(!1)}}}function pd(a){var b=a.getAttribute("h"),c=a.getAttribute("w");return{id:a.getAttribute("id"),Tl:b?parseInt(b,10):100,Wm:c?parseInt(c,10):100,x:parseInt(a.getAttribute("x"),10),y:parseInt(a.getAttribute("y"),10),content:a.textContent}};function qd(a){this.id=z.h.gd();Oc[this.id]=this;this.options=a||{};this.u=!!this.options.u;this.nd=!!this.options.nd;this.ta=this.options.ta;this.$f=[];this.ag=[];this.Ge=Object.create(null);this.Rb=[];this.jf=[];this.Xg=[];this.Xi=Object.create(null);this.ua=new ed(this);this.Sf=null}e=qd.prototype;e.R=!1;e.Lj=!1;e.nn=1024;e.B=function(){this.Rb.length=0;this.clear();delete Oc[this.id]};
function rd(a,b){if(!z.h.Ah(a.$f,b))throw Error("Block not present in workspace's list of top-most blocks.");}function sd(a,b){var c=[].concat(a.$f);if(b&&1<c.length){var d=Math.sin(z.h.hh(3));a.u&&(d*=-1);c.sort(function(a,b){a=a.ia();b=b.ia();return a.y+d*a.x-(b.y+d*b.x)})}return c}function td(a,b){var c=[].concat(a.ag);if(b&&1<c.length){var d=Math.sin(z.h.hh(3));a.u&&(d*=-1);c.sort(function(a,b){a=a.ia();b=b.ia();return a.y+d*a.x-(b.y+d*b.x)})}return c}
function fd(a){var b=sd(a,!1);for(a=0;a<b.length;a++)b.push.apply(b,b[a].ce(!1));return b}e.clear=function(){this.Lj=!0;try{var a=z.i.Ob();for(a||z.i.W(!0);this.$f.length;)this.$f[0].B();for(;this.ag.length;)this.ag[this.ag.length-1].B();a||z.i.W(!1);this.ua.clear();this.Sf&&this.Sf.clear()}finally{this.Lj=!1}};e.Ze=function(a,b){this.ua.Ze(a,b)};e.Ac=function(a,b,c){return this.ua.Ac(a,b,c)};e.xj=function(a){return this.ua.xj(a)};e.Je=function(a){this.ua.Je(a)};e.Kh=function(a,b){this.ua.Kh(a,b)};
e.Oc=function(a,b){return this.ua.Oc(a,b)};e.de=function(a){return this.ua.de(a)};e.Dg=function(a){return this.ua.Dg(a)};e.wj=function(){return this.ua.wj()};e.Fd=function(){return this.ua.Fd()};e.jc=function(){return 0};e.qm=function(a,b){return new ud(this,a,b)};function vd(a){return isNaN(a.options.hm)?Infinity:a.options.hm-fd(a).length}
e.Ck=function(a){var b=a?this.Xg:this.jf,c=a?this.jf:this.Xg,d=b.pop();if(d){for(var f=[d];b.length&&d.j&&d.j==b[b.length-1].j;)f.push(b.pop());for(b=0;d=f[b];b++)c.push(d);f=z.i.filter(f,a);z.i.Gb=!1;try{for(b=0;d=f[b];b++)d.Gc(a)}finally{z.i.Gb=!0}}};e.Mn=function(){this.jf.length=0;this.Xg.length=0;z.i.Ln()};e.xc=function(a){this.Rb.push(a);return a};e.qe=function(a){z.h.Ah(this.Rb,a)};function $c(a,b){return a.Xi[b]||null}var Oc=Object.create(null);qd.prototype.clear=qd.prototype.clear;
qd.prototype.clearUndo=qd.prototype.Mn;qd.prototype.addChangeListener=qd.prototype.xc;qd.prototype.removeChangeListener=qd.prototype.qe;function wd(a,b,c,d,f,h){this.l=a;this.gc=b;this.Mm=c;c=xd;this.l.u&&(c=-c);this.xn=z.h.hh(c);a.Wc.appendChild(this.rg(b,!(!f||!h)));this.yc=d;this.se&&yd(this);f&&h||(b=this.gc.getBBox(),f=b.width+2*K,h=b.height+2*K);this.te(f,h);yd(this);zd(this);this.se=!0;a.options.readOnly||(z.K(this.ng,"mousedown",this,this.Cn),this.jb&&z.K(this.jb,"mousedown",this,this.dk))}var K=6,xd=20,Ad=null,Bd=null;e=wd.prototype;e.ck=null;function Cd(){Ad&&(z.La(Ad),Ad=null);Bd&&(z.La(Bd),Bd=null)}
function Dd(){z.Touch.Dd();Cd()}e.se=!1;e.yc=null;e.Uf=0;e.Yg=0;e.ea=0;e.wa=0;e.Bh=!0;
e.rg=function(a,b){this.Vb=z.h.C("g",{},null);var c={filter:"url(#"+this.l.options.po+")"};-1!=Sa.indexOf("JavaFX")&&(c={});c=z.h.C("g",c,this.Vb);this.Zi=z.h.C("path",{},c);this.ng=z.h.C("rect",{"class":"blocklyDraggable",x:0,y:0,rx:K,ry:K},c);b?(this.jb=z.h.C("g",{"class":this.l.u?"blocklyResizeSW":"blocklyResizeSE"},this.Vb),b=2*K,z.h.C("polygon",{points:"0,x x,x x,0".replace(/x/g,b.toString())},this.jb),z.h.C("line",{"class":"blocklyResizeLine",x1:b/3,y1:b-1,x2:b-1,y2:b/3},this.jb),z.h.C("line",
{"class":"blocklyResizeLine",x1:2*b/3,y1:b-1,x2:b-1,y2:2*b/3},this.jb)):this.jb=null;this.Vb.appendChild(a);return this.Vb};e.$=function(){return this.Vb};function Ed(a,b){a.Vb.dataset&&(a.Vb.dataset.Bb=b)}e.Cn=function(a){var b=this.l.jd(a);b&&Fd(b,a,this)};e.Yf=function(){};e.Fb=function(){return!1};e.dk=function(a){Gd(this);Cd();z.h.Se(a)||(this.l.Gi(a,new G(this.l.u?-this.ea:this.ea,this.wa)),Ad=z.K(document,"mouseup",this,Dd),Bd=z.K(document,"mousemove",this,this.ek),z.Eb());a.stopPropagation()};
e.ek=function(a){this.Bh=!1;a=Hd(this.l,a);this.te(this.l.u?-a.x:a.x,a.y);this.l.u&&yd(this)};function Gd(a){var b=a.Vb.parentNode;return b.lastChild!==a.Vb?(b.appendChild(a.Vb),!0):!1}function yd(a){var b=a.yc.x;b=a.l.u?b-(a.Uf+a.ea):b+a.Uf;a.moveTo(b,a.Yg+a.yc.y)}e.moveTo=function(a,b){this.Vb.setAttribute("transform","translate("+a+","+b+")")};e.Le=function(){return{width:this.ea,height:this.wa}};
e.te=function(a,b){var c=2*K;a=Math.max(a,c+45);b=Math.max(b,c+20);this.ea=a;this.wa=b;this.ng.setAttribute("width",a);this.ng.setAttribute("height",b);this.jb&&(this.l.u?this.jb.setAttribute("transform","translate("+2*K+","+(b-c)+") scale(-1 1)"):this.jb.setAttribute("transform","translate("+(a-c)+","+(b-c)+")"));if(this.se){if(this.Bh){a=-this.ea/4;b=-this.wa-25;c=this.l.$a();c.sa/=this.l.scale;c.eb/=this.l.scale;var d=this.yc.x;this.l.u?d-c.eb-a-this.ea<L?a=d-c.eb-this.ea-L:d-c.eb-a>c.sa&&(a=d-
c.eb-c.sa):d+a<c.eb?a=c.eb-d:c.eb+c.sa<d+a+this.ea+10+L&&(a=c.eb+c.sa-d-this.ea-L);this.yc.y+b<c.vd&&(b=this.Mm.getBBox().height);this.Uf=a;this.Yg=b}yd(this);zd(this)}this.ck&&this.ck()};
function zd(a){var b=[],c=a.ea/2,d=a.wa/2,f=-a.Uf,h=-a.Yg;if(c==f&&d==h)b.push("M "+c+","+d);else{h-=d;f-=c;a.l.u&&(f*=-1);var k=Math.sqrt(h*h+f*f),l=Math.acos(f/k);0>h&&(l=2*Math.PI-l);var m=l+Math.PI/2;m>2*Math.PI&&(m-=2*Math.PI);var n=Math.sin(m),q=Math.cos(m),r=a.Le();m=(r.width+r.height)/5;m=Math.min(m,r.width,r.height)/4;r=1-8/k;f=c+r*f;h=d+r*h;r=c+m*q;var u=d+m*n;c-=m*q;d-=m*n;n=l+a.xn;n>2*Math.PI&&(n-=2*Math.PI);l=Math.sin(n)*k/4;k=Math.cos(n)*k/4;b.push("M"+r+","+u);b.push("C"+(r+k)+","+
(u+l)+" "+f+","+h+" "+f+","+h);b.push("C"+f+","+h+" "+(c+k)+","+(d+l)+" "+c+","+d)}b.push("z");a.Zi.setAttribute("d",b.join(" "))}e.Zg=function(a){this.ng.setAttribute("fill",a);this.Zi.setAttribute("fill",a)};e.B=function(){Cd();this.Vb.parentNode.removeChild(this.Vb);this.Mm=this.gc=this.l=this.jb=this.ng=this.Zi=this.Vb=null};e.ti=function(a,b){a?a.Nd(b.x,b.y):this.moveTo(b.x,b.y);this.Uf=this.l.u?this.yc.x-b.x-this.ea:b.x-this.yc.x;this.Yg=b.y-this.yc.y;zd(this)};
e.ia=function(){return new G(this.yc.x+this.Uf,this.yc.y+this.Yg)};e.Km=function(a){this.Bh=a};function Id(a){Id.o.constructor.call(this);this.Bb=a.id;this.g=a.s.id}y(Id,bd);Id.prototype.ra=function(){var a=Id.o.ra.call(this);a.blockId=this.Bb;return a};Id.prototype.ca=function(a){Id.o.ra.call(this);this.Bb=a.blockId};function Rc(a,b,c,d,f){a&&(Rc.o.constructor.call(this,a),this.element=b,this.name=c,this.m=d,this.newValue=f)}y(Rc,Id);z.i.Tb=Rc;e=Rc.prototype;e.type=z.i.mf;
e.ra=function(){var a=Rc.o.ra.call(this);a.element=this.element;this.name&&(a.name=this.name);a.newValue=this.newValue;return a};e.ca=function(a){Rc.o.ca.call(this,a);this.element=a.element;this.name=a.name;this.newValue=a.newValue};e.Pf=function(){return this.m==this.newValue};
e.Gc=function(a){var b=$c(cd(this),this.Bb);if(b)switch(b.Kd&&b.Kd.ja(!1),a=a?this.newValue:this.m,this.element){case "field":(b=Jd(b,this.name))?(Kd(b,a),b.xa(a)):console.warn("Can't set non-existent field: "+this.name);break;case "comment":b.$g(a||null);break;case "collapsed":b.$e(a);break;case "disabled":b.ue(a);break;case "inline":b.Xf(a);break;case "mutation":var c="";b.Fc&&(c=(c=b.Fc())&&z.G.fd(c));if(b.ae){a=a||"<mutation></mutation>";var d=z.G.Xc("<xml>"+a+"</xml>");b.ae(d.firstChild)}z.i.O(new Rc(b,
"mutation",null,c,a));break;default:console.warn("Unknown change type: "+this.element)}else console.warn("Can't change non-existent block: "+this.Bb)};function Pc(a){a&&(Pc.o.constructor.call(this,a),this.xml=a.s.R?z.G.Yi(a):z.G.Yd(a),this.m=z.i.Ll(a))}y(Pc,Id);z.i.rh=Pc;Pc.prototype.type=z.i.uh;Pc.prototype.ra=function(){var a=Pc.o.ra.call(this);a.xml=z.G.fd(this.xml);a.ids=this.m;return a};
Pc.prototype.ca=function(a){Pc.o.ca.call(this,a);this.xml=z.G.Xc("<xml>"+a.xml+"</xml>").firstChild;this.m=a.ids};Pc.prototype.Gc=function(a){var b=cd(this);if(a)a=H("xml"),a.appendChild(this.xml),z.G.zf(a,b);else{a=0;for(var c;c=this.m[a];a++){var d=$c(b,c);d?d.B(!1,!1):c==this.Bb&&console.warn("Can't uncreate non-existent block: "+c)}}};
function Qc(a){if(a){if(a.getParent())throw Error("Connected blocks cannot be deleted.");Qc.o.constructor.call(this,a);this.w=a.s.R?z.G.Yi(a):z.G.Yd(a);this.m=z.i.Ll(a)}}y(Qc,Id);z.i.$m=Qc;Qc.prototype.type=z.i.Oi;Qc.prototype.ra=function(){var a=Qc.o.ra.call(this);a.ids=this.m;return a};Qc.prototype.ca=function(a){Qc.o.ca.call(this,a);this.m=a.ids};
Qc.prototype.Gc=function(a){var b=cd(this);if(a){a=0;for(var c;c=this.m[a];a++){var d=$c(b,c);d?d.B(!1,!1):c==this.Bb&&console.warn("Can't delete non-existent block: "+c)}}else a=H("xml"),a.appendChild(this.w),z.G.zf(a,b)};function Sc(a){a&&(Sc.o.constructor.call(this,a),a=Ld(this),this.F=a.zm,this.w=a.Zl,this.m=a.kl)}y(Sc,Id);z.i.fg=Sc;e=Sc.prototype;e.type=z.i.lg;
e.ra=function(){var a=Sc.o.ra.call(this);this.Ve&&(a.newParentId=this.Ve);this.Ue&&(a.newInputName=this.Ue);this.oe&&(a.newCoordinate=Math.round(this.oe.x)+","+Math.round(this.oe.y));return a};e.ca=function(a){Sc.o.ca.call(this,a);this.Ve=a.newParentId;this.Ue=a.newInputName;a.newCoordinate&&(a=a.newCoordinate.split(","),this.oe=new G(parseFloat(a[0]),parseFloat(a[1])))};function Md(a){var b=Ld(a);a.Ve=b.zm;a.Ue=b.Zl;a.oe=b.kl}
function Ld(a){var b=$c(Oc[a.g]||null,a.Bb);a={};var c=b.getParent();if(c){a.zm=c.id;a:{for(var d=0,f;f=c.da[d];d++)if(f.connection&&M(f.connection)==b){b=f;break a}b=null}b&&(a.Zl=b.name)}else a.kl=b.ia();return a}e.Pf=function(){return this.F==this.Ve&&this.w==this.Ue&&fc(this.m,this.oe)};
e.Gc=function(a){var b=cd(this),c=$c(b,this.Bb);if(c){var d=a?this.Ve:this.F,f=a?this.Ue:this.w;a=a?this.oe:this.m;var h=null;if(d&&(h=$c(b,d),!h)){console.warn("Can't connect to non-existent block: "+d);return}c.getParent()&&Nd(c);if(a)f=c.ia(),c.moveBy(a.x-f.x,a.y-f.y);else{c=c.V||c.X;if(f){if(b=Od(h,f))var k=b.connection}else c.type==z.Td&&(k=h.T);k?Pd(c,k):console.warn("Can't connect to non-existent input: "+f)}}else console.warn("Can't move non-existent block: "+this.Bb)};function J(a,b,c,d){J.o.constructor.call(this);this.Bb=a?a.id:null;this.g=a?a.s.id:null;this.element=b;this.newValue=d;this.Gb=!1}y(J,bd);J.prototype.type=z.i.Ti;J.prototype.ra=function(){var a=J.o.ra.call(this);a.element=this.element;void 0!==this.newValue&&(a.newValue=this.newValue);this.Bb&&(a.blockId=this.Bb);return a};J.prototype.ca=function(a){J.o.ca.call(this,a);this.element=a.element;this.newValue=a.newValue;this.Bb=a.blockId};function Qd(a){this.N=a}e=Qd.prototype;e.il=!0;e.Ja=null;e.Qe=null;function Rd(a){a.g||(a.g=z.h.C("g",{"class":"blocklyIconGroup"},null),a.N.Zb&&z.h.Ma(a.g,"blocklyIconGroupReadonly"),a.nj(a.g),a.N.$().appendChild(a.g),z.K(a.g,"mouseup",a,a.Gj),a.Qd())}e.B=function(){this.g.parentNode.removeChild(this.g);this.g=null;this.ja(!1);this.N=null};e.Qd=function(){};e.aa=function(){return!!this.Ja};e.Gj=function(a){this.N.s.tb()||this.N.Zb||z.h.Se(a)||this.ja(!this.aa())};e.Pd=function(){this.aa()&&this.Ja.Zg(this.N.ed)};
function Sd(a){var b=a.N.ia(),c=z.h.Pb(a.g);b=new G(b.x+c.x+8.5,b.y+c.y+8.5);fc(a.Qe,b)||(a.Qe=b,a.aa()&&(a=a.Ja,a.yc=b,a.se&&yd(a)))};/*

 Visual Blocks Editor

 Copyright 2011 Google Inc.
 https://developers.google.com/blockly/

 Licensed under the Apache License, Version 2.0 (the "License");
 you may not use this file except in compliance with the License.
 You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS,
 WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 See the License for the specific language governing permissions and
 limitations under the License.
*/
function Td(a){Td.o.constructor.call(this,a);Rd(this)}y(Td,Qd);e=Td.prototype;e.oa="";e.ea=160;e.wa=80;e.nj=function(a){z.h.C("circle",{"class":"blocklyIconShape",r:"8",cx:"8",cy:"8"},a);z.h.C("path",{"class":"blocklyIconSymbol",d:"m6.8,10h2c0.003,-0.617 0.271,-0.962 0.633,-1.266 2.875,-2.4050.607,-5.534 -3.765,-3.874v1.7c3.12,-1.657 3.698,0.118 2.336,1.25-1.201,0.998 -1.201,1.528 -1.204,2.19z"},a);z.h.C("rect",{"class":"blocklyIconSymbol",x:"6.8",y:"10.78",height:"2",width:"2"},a)};
e.sg=function(){this.hc=z.h.C("foreignObject",{x:K,y:K},null);var a=document.createElementNS(z.Sd,"body");a.setAttribute("xmlns",z.Sd);a.className="blocklyMinimalBody";var b=document.createElementNS(z.Sd,"textarea");b.className="blocklyCommentTextarea";b.setAttribute("dir",this.N.u?"RTL":"LTR");a.appendChild(b);this.Va=b;this.hc.appendChild(a);z.K(b,"mouseup",this,this.Np,!0,!0);z.K(b,"wheel",this,function(a){a.stopPropagation()});z.K(b,"change",this,function(){this.oa!=b.value&&(z.i.O(new z.i.Tb(this.N,
"comment",null,this.oa,b.value)),this.oa=b.value)});setTimeout(function(){b.focus()},0);return this.hc};e.Qd=function(){this.aa()&&(this.ja(!1),this.ja(!0));Qd.prototype.Qd.call(this)};e.zi=function(){if(this.aa()){var a=this.Ja.Le(),b=2*K;this.hc.setAttribute("width",a.width-b);this.hc.setAttribute("height",a.height-b);this.Va.style.width=a.width-b-4+"px";this.Va.style.height=a.height-b-4+"px"}};
e.ja=function(a){if(a!=this.aa())if(z.i.O(new J(this.N,"commentOpen",!a,a)),!Ud(this.N)&&!this.Va||C)Vd.prototype.ja.call(this,a);else{var b=this.mb(),c=this.Le();a?(this.Ja=new wd(this.N.s,this.sg(),this.N.td,this.Qe,this.ea,this.wa),Ed(this.Ja,this.N.id),this.Ja.ck=this.zi.bind(this),this.Pd()):(this.Ja.B(),this.hc=this.Va=this.Ja=null);this.ob(b);this.te(c.width,c.height)}};e.Np=function(){Gd(this.Ja)&&this.Va.focus()};e.Le=function(){return this.aa()?this.Ja.Le():{width:this.ea,height:this.wa}};
e.te=function(a,b){this.Va?this.Ja.te(a,b):(this.ea=a,this.wa=b)};e.mb=function(){return this.Va?this.Va.value:this.oa};e.ob=function(a){this.oa!=a&&(z.i.O(new z.i.Tb(this.N,"comment",null,this.oa,a)),this.oa=a);this.Va&&(this.Va.value=a)};e.B=function(){z.i.isEnabled()&&this.ob("");this.N.Ga=null;Qd.prototype.B.call(this)};function Wd(a,b){this.A=a;this.type=b;a.s.cj&&(this.Zd=a.s.cj[b],this.Ih=a.s.cj[z.pf[b]],this.Fj=!this.Zd)}e=Wd.prototype;e.cb=null;e.Ad=null;e.sd=null;e.dc=0;e.Fa=0;e.ge=!1;e.Zd=null;e.Ih=null;e.Fj=null;
e.Gh=function(a){var b=this,c=b.A,d=a.A;a.isConnected()&&Xd(a);if(b.isConnected()){var f=M(b),h=b.sd;b.sd=null;if(f.Pa)h=z.G.Yd(f),f.B(),f=null;else if(b.type==z.Wa){if(!f.V)throw Error("Orphan block does not have an output connection.");var k=Yd(d,f);k&&(Pd(f.V,k),f=null)}else if(b.type==z.Xa){if(!f.X)throw Error("Orphan block does not have a previous connection.");for(k=d;k.T;){var l=ad(k);if(l&&!l.Pa)k=l;else{Zd(f.X,k.T)&&(Pd(k.T,f.X),f=null);break}}}if(f&&(Xd(b),z.i.Gb)){var m=z.i.Ob();setTimeout(function(){f.s&&
!f.getParent()&&(z.i.W(m),f.V?$d(f.V,b):f.X&&$d(f.X,b),z.i.W(!1))},z.qh)}b.sd=h}var n;z.i.isEnabled()&&(n=new z.i.fg(d));ae(b,a);d.cf(c);n&&(Md(n),z.i.O(n))};e.B=function(){if(this.isConnected())throw Error("Disconnect connection before disposing of it.");this.ge&&be(this.Zd,this);this.Ih=this.Zd=null};function ce(a){return a.type==z.Wa||a.type==z.Xa}e.isConnected=function(){return!!this.cb};
function de(a,b){if(!b)return 3;if(ce(a))var c=a.A,d=b.A;else d=a.A,c=b.A;return c&&c==d?1:b.type!=z.pf[a.type]?2:c&&d&&c.s!==d.s?5:Zd(a,b)?c.Pa&&!d.Pa?6:0:4}e.ii=function(a){if(0!=de(this,a))return!1;if(a.type==z.qf||a.type==z.Td)if(a.isConnected()||this.isConnected())return!1;return a.type==z.Wa&&a.isConnected()&&!M(a).Qc()&&!M(a).Pa||this.type==z.Td&&a.isConnected()&&!this.A.T&&!M(a).Pa&&M(a).T||-1!=z.Nh.indexOf(a)?!1:!0};
function Pd(a,b){if(a.cb!=b){switch(de(a,b)){case 0:break;case 1:throw Error("Attempted to connect a block to itself.");case 5:throw Error("Blocks not on same workspace.");case 2:throw Error("Attempt to connect incompatible types.");case 3:throw Error("Target connection is null.");case 4:throw Error("Connection checks failed. "+(a+" expected "+a.Ad+", found "+b.Ad));case 6:throw Error("Connecting non-shadow to shadow block.");default:throw Error("Unknown connection failure: this should never happen!");
}ce(a)?a.Gh(b):b.Gh(a)}}function ae(a,b){if(!a||!b)throw Error("Cannot connect null connections.");a.cb=b;b.cb=a}function ee(a,b){for(var c=!1,d=0;d<a.da.length;d++){var f=a.da[d].connection;if(f&&f.type==z.Wa&&Zd(b.V,f)){if(c)return null;c=f}}return c}function Yd(a,b){for(var c;c=ee(a,b);)if(a=M(c),!a||a.Pa)return c;return null}
function Xd(a){var b=a.cb;if(!b)throw Error("Source connection not connected.");if(b.cb!=a)throw Error("Target connection not connected to source connection.");if(ce(a)){var c=a.A;var d=b.A;b=a}else c=b.A,d=a.A;a.ij(c,d);b.gk()}e.ij=function(a,b){var c;z.i.isEnabled()&&(c=new z.i.fg(b));this.cb=this.cb.cb=null;b.cf(null);c&&(Md(c),z.i.O(c))};
e.gk=function(){var a=this.A,b=this.sd;if(a.s&&b&&z.i.Gb)if(a=z.G.yf(b,a.s),a.V)Pd(this,a.V);else if(a.X)Pd(this,a.X);else throw Error("Child block does not have output or previous statement.");};function M(a){return a.isConnected()?a.cb.A:null}function Zd(a,b){if(!a.Ad||!b.Ad)return!0;for(var c=0;c<a.Ad.length;c++)if(-1!=b.Ad.indexOf(a.Ad[c]))return!0;return!1}e.sm=function(){this.isConnected()&&!Zd(this,this.cb)&&Nd(ce(this)?M(this):this.A)};
e.Wf=function(a){a?(Array.isArray(a)||(a=[a]),this.Ad=a,this.sm()):this.Ad=null};e.pm=function(){return[]};
e.toString=function(){var a=this.A;if(a)if(a.V==this)var b="Output Connection of ";else if(a.X==this)b="Previous Connection of ";else if(a.T==this)b="Next Connection of ";else{b=null;for(var c=0,d;d=a.da[c];c++)if(d.connection==this){b=d;break}if(b)b='Input "'+b.name+'" connection on ';else return console.warn("Connection not actually connected to sourceBlock_"),"Orphan Connection"}else return"Orphan Connection";c=a.type?'"'+a.type+'" block':"Block";a.id&&(c+=' (id="'+a.id+'")');return b+c};function fe(){}fe.prototype=[];function ge(a,b){if(b.ge)throw Error("Connection already in database.");b.A.Zb||(a.splice(he(a,b),0,b),b.ge=!0)}function ie(a,b){if(!a.length)return-1;var c=he(a,b);if(c>=a.length)return-1;for(var d=b.Fa,f=c;0<=f&&a[f].Fa==d;){if(a[f]==b)return f;f--}for(;c<a.length&&a[c].Fa==d;){if(a[c]==b)return c;c++}return-1}
function he(a,b){if(!a.length)return 0;for(var c=0,d=a.length;c<d;){var f=Math.floor((c+d)/2);if(a[f].Fa<b.Fa)c=f+1;else if(a[f].Fa>b.Fa)d=f;else{c=f;break}}return c}function be(a,b){if(!b.ge)throw Error("Connection not in database.");var c=ie(a,b);if(-1==c)throw Error("Unable to find connection in connectionDB.");b.ge=!1;a.splice(c,1)}
function je(a,b,c){function d(a){var b=h-f[a].dc,d=k-f[a].Fa;Math.sqrt(b*b+d*d)<=c&&m.push(f[a]);return d<c}var f=a,h=b.dc,k=b.Fa;a=0;for(var l=b=f.length-2;a<l;)f[l].Fa<k?a=l:b=l,l=Math.floor((a+b)/2);var m=[];b=a=l;if(f.length){for(;0<=a&&d(a);)a--;do b++;while(b<f.length&&d(b))}return m};z.Dt={};z.Ok=5;z.dn=10;z.Kc=20;z.qh=250;z.an=30;z.mn=750;z.qn=100;z.cn=!0;z.jn=.45;z.kn=.65;z.Jb={width:96,height:124,url:"sprites.png"};z.Si="http://www.w3.org/2000/svg";z.Sd="http://www.w3.org/1999/xhtml";z.Wa=1;z.qf=2;z.Xa=3;z.Td=4;z.Zc=5;z.eg=-1;z.oh=0;z.ph=1;z.fr=0;z.gr=1;z.dr=1;z.er=2;z.pf=[];z.pf[z.Wa]=z.qf;z.pf[z.qf]=z.Wa;z.pf[z.Xa]=z.Td;z.pf[z.Td]=z.Xa;z.Vd=0;z.Ee=1;z.Ud=2;z.ad=3;z.Lk=null;z.Pi=1;z.Mk=2;z.Tk="VARIABLE";z.rn="VARIABLE_DYNAMIC";z.Rk="PROCEDURE";z.Sk="RENAME_VARIABLE_ID";
z.Nk="DELETE_VARIABLE_ID";z.za={};z.za.jj=0;z.za.Mh=null;z.za.ko=function(a){var b=a.s,c=a.$();b.Xd.play("delete");a=ke(b,c);c=c.cloneNode(!0);c.Sp=a.x;c.Tp=a.y;c.setAttribute("transform","translate("+a.x+","+a.y+")");O(b).appendChild(c);c.Zk=c.getBBox();z.za.Al(c,b.u,new Date,b.scale)};z.za.Al=function(a,b,c,d){var f=(new Date-c)/150;1<f?a.parentNode.removeChild(a):(a.setAttribute("transform","translate("+(a.Sp+(b?-1:1)*a.Zk.width*d/2*f)+","+(a.Tp+a.Zk.height*d*f)+") scale("+(1-f)*d+")"),setTimeout(z.za.Al,10,a,b,c,d))};
z.za.Sn=function(a){var b=a.s,c=b.scale;b.Xd.play("click");if(!(1>c)){var d=ke(b,a.$());a.V?(d.x+=(a.u?3:-3)*c,d.y+=13*c):a.X&&(d.x+=(a.u?-23:23)*c,d.y+=3*c);a=z.h.C("circle",{cx:d.x,cy:d.y,r:0,fill:"none",stroke:"#888","stroke-width":10},O(b));z.za.jl(a,new Date,c)}};z.za.jl=function(a,b,c){var d=(new Date-b)/150;1<d?a.parentNode.removeChild(a):(a.setAttribute("r",25*d*c),a.style.opacity=1-d,z.za.jj=setTimeout(z.za.jl,10,a,b,c))};
z.za.jo=function(a){a.s.Xd.play("disconnect");if(!(1>a.s.scale)){var b=a.lb().height;b=Math.atan(10/b)/Math.PI*180;a.u||(b*=-1);z.za.zl(a.$(),b,new Date)}};z.za.zl=function(a,b,c){var d=(new Date-c)/200;1<d?a.df="":(a.df="skewX("+Math.round(Math.sin(d*Math.PI*3)*(1-d)*b)+")",z.za.Mh=a,z.za.jj=setTimeout(z.za.zl,10,a,b,c));a.setAttribute("transform",a.Od+a.df)};z.za.kj=function(){if(z.za.Mh){clearTimeout(z.za.jj);var a=z.za.Mh;a.df="";a.setAttribute("transform",a.Od);z.za.Mh=null}};function le(a,b){le.o.constructor.call(this,a,b);this.g=new G(0,0)}y(le,Wd);function me(a,b){var c=a.dc-b.dc;a=a.Fa-b.Fa;return Math.sqrt(c*c+a*a)}function $d(a,b){if(!a.A.s.tb()){var c=ne(a.A);if(!c.Zb){var d=!1;if(!c.Qc()){c=ne(b.A);if(!c.Qc())return;b=a;d=!0}var f=z.selected==c;f||c.sf();var h=b.dc+z.Kc-a.dc;a=b.Fa+z.Kc-a.Fa;d&&(a=-a);c.u&&(h=-h);c.moveBy(h,a);f||c.Ye()}}}e=le.prototype;e.moveTo=function(a,b){this.ge&&be(this.Zd,this);this.dc=a;this.Fa=b;this.Fj||ge(this.Zd,this)};
e.moveBy=function(a,b){this.moveTo(this.dc+a,this.Fa+b)};function oe(a,b){a.moveTo(b.x+a.g.x,b.y+a.g.y)}function pe(a,b,c){a.g.x=b;a.g.y=c}function qe(a){var b=a.cb.dc-a.dc,c=a.cb.Fa-a.Fa;if(0!=b||0!=c){a=M(a);var d=a.$();if(!d)throw Error("block is not rendered.");d=z.h.Pb(d);a.$().setAttribute("transform","translate("+(d.x-b)+","+(d.y-c)+")");re(a,-b,-c)}}
e.closest=function(a,b){var c=this.Ih;if(c.length){var d=this.Fa,f=this.dc;this.dc=f+b.x;this.Fa=d+b.y;var h=he(c,this);b=null;for(var k=a,l,m=h-1;0<=m&&Math.abs(c[m].Fa-this.Fa)<=a;)l=c[m],this.ii(l,k)&&(b=l,k=me(l,this)),m--;for(;h<c.length&&Math.abs(c[h].Fa-this.Fa)<=a;)l=c[h],this.ii(l,k)&&(b=l,k=me(l,this)),h++;this.dc=f;this.Fa=d;a={connection:b,Em:k}}else a={connection:null,Em:a};return a};
function se(a){te(a,!1);var b=[];if(a.type!=z.Wa&&a.type!=z.Xa)return b;if(a=M(a)){if(a.isCollapsed()){var c=[];a.V&&c.push(a.V);a.T&&c.push(a.T);a.X&&c.push(a.X)}else c=a.hd(!0);for(var d=0;d<c.length;d++)b.push.apply(b,se(c[d]));b.length||(b[0]=a)}return b}function ue(){Wd.g.parentNode.removeChild(Wd.g);delete Wd.g}function te(a,b){(a.Fj=b)&&a.ge?be(a.Zd,a):b||a.ge||ge(a.Zd,a)}e.ii=function(a,b){return me(this,a)>b?!1:le.o.ii.call(this,a)};
e.ij=function(a,b){le.o.ij.call(this,a,b);a.R&&a.ba();b.R&&(ve(b),b.ba())};e.gk=function(){var a=this.A,b=this.sd;if(a.s&&b&&z.i.Gb){le.o.gk.call(this);b=M(this);if(!b)throw Error("Couldn't respawn the shadow block that should exist here.");b.he();b.ba(!1);a.R&&a.ba()}};e.pm=function(a){return je(this.Ih,this,a)};e.Gh=function(a){le.o.Gh.call(this,a);var b=this.A;a=a.A;b.R&&ve(b);a.R&&ve(a);b.R&&a.R&&(this.type==z.Xa||this.type==z.Td?a.ba():b.ba())};
e.sm=function(){this.isConnected()&&!Zd(this,this.cb)&&(Nd(ce(this)?M(this):this.A),this.A.Kb())};function we(a){this.j=z.selected=a;this.l=a.s;a=this.j.hd(!1);var b;a:{for(b=this.j.T;b;){var c=M(b);if(!c)break a;b=c.T}b=null}b&&b!=this.j.T&&a.push(b);this.F=a;this.m=this.g=null;this.P=0;this.w=!1}we.prototype.B=function(){this.l=this.j=null;this.F.length=0;this.m=this.g=null};function xe(a,b){this.g=a;this.l=b;this.m=new we(this.g);this.Ba=null;this.F=!1;this.w=this.g.ia();b=[];a=I(a,!1);for(var c=0,d;d=a[c];c++){d=ye(d);for(var f=0;f<d.length;f++)b.push({location:d[f].Qe,icon:d[f]})}this.P=b}xe.prototype.B=function(){this.j=this.l=this.g=null;this.P.length=0;this.m&&(this.m.B(),this.m=null)};
function ze(a,b,c){c=Ae(a,c);a.g.ti(ic(a.w,c));for(var d=0;d<a.P.length;d++){var f=a.P[d],h=f.icon;f=ic(f.location,c);h.Qe=f;h.aa()&&(h=h.Ja,h.yc=f,h.se&&yd(h))}a.Ba=Be(a.l,b);b=a.m;d=a.Ba;f=h=b.g;b.g=null;b.m=null;b.P=z.Kc;for(var k=0;k<b.F.length;k++){var l=b.F[k],m=l.closest(b.P,c);m.connection&&(b.g=m.connection,b.m=l,b.P=m.Em)}(c=f!=b.g)&&h&&ue();h=!!b.g&&d!=z.Mk;d=!!d&&!b.j.getParent()&&b.j.Fb();b.w=d&&!h;d&&b.g&&(ue(),b.g=null);!b.w&&c&&b.g&&b.g&&(c=b.g,b=c.type==z.Wa||c.type==z.qf?"m 0,0 "+
Ce+" v 5":"m -20,0 h 5 l 6,4 3,0 6,-4 h 5",d=c.A.ia(),Wd.g=z.h.C("path",{"class":"blocklyHighlightedConnectionPath",d:b,transform:"translate("+(c.dc-d.x)+","+(c.Fa-d.y)+")"+(c.A.u?" scale(-1 1)":"")},c.A.$()));a.F=a.m.w;c=a.l.bc;a.F?(a.g.bh(!0),a.Ba==z.Pi&&c&&De(c,!0)):(a.g.bh(!1),c&&De(c,!1))}
function Ee(a,b,c){ze(a,b,c);a.P=[];z.za.kj();b=Ae(a,c);a.g.mm(ic(a.w,b));c=a.l.bc;a.F?(c&&setTimeout(c.close.bind(c),100),Fe(a),a.g.B(!1,!0)):c&&c.close();a.F||(re(a.g,b.x,b.y),a.g.ve(!1),Fe(a),a.m.g?(b=a.m,b.g&&(Pd(b.m,b.g),b.j.R&&(z.za.Sn((ce(b.m)?b.g:b.m).A),Ge(ne(b.j))),b.g&&ue())):a.g.ba(),He(a.g));a.l.nb(!0);(b=a.l.Y)&&z.h.ib(b.Ab,a.g.Fb()?"blocklyToolboxDelete":"blocklyToolboxGrab");z.i.W(!1)}function Fe(a){var b=new z.i.fg(a.g);b.m=a.w;Md(b);z.i.O(b)}
function Ae(a,b){b=new G(b.x/a.l.scale,b.y/a.l.scale);a.l.Mg&&(b=b.scale(1/a.l.options.lc.scale));return b};function Ie(a,b,c,d,f){this.v=z.h.C("g",{"class":"blocklyComment"},null);this.v.Od="";this.gh=z.h.C("rect",{"class":"blocklyCommentRect",x:0,y:0,rx:3,ry:3});this.v.appendChild(this.gh);this.se=!1;this.ud=z.h.je()&&!!a.Za;Ie.o.constructor.call(this,a,b,c,d,f);this.ba()}y(Ie,md);e=Ie.prototype;
e.B=function(){if(this.s){if(z.selected==this){this.kf();var a=this.s;a.fb&&a.fb.cancel()}z.i.isEnabled()&&z.i.O(new Zc(this));this.v.parentNode.removeChild(this.v);this.gf=this.ze=this.hc=this.Va=this.gh=this.v=null;z.i.disable();Ie.o.B.call(this);z.i.enable()}};e.he=function(){if(!this.s.R)throw TypeError("Workspace is headless.");this.s.options.readOnly||this.pj||(z.K(this.ze,"mousedown",this,this.Am),z.K(this.gf,"mousedown",this,this.Am));this.pj=!0;this.lh();this.$().parentNode||this.s.Wc.appendChild(this.$())};
e.Am=function(a){var b=this.s.jd(a);b&&Fd(b,a,this)};e.Yf=function(a){if(!this.s.options.readOnly){var b=[];this.Fb()&&this.Qc()&&(b.push(z.fa.On(this)),b.push(z.fa.Nn(this)));z.fa.show(a,b,this.u)}};e.select=function(){if(z.selected!=this){var a=null;if(z.selected){a=z.selected.id;z.i.disable();try{z.selected.kf()}finally{z.i.enable()}}a=new J(null,"selected",a,this.id);a.g=this.s.id;z.i.O(a);z.selected=this;this.sf()}};
e.kf=function(){if(z.selected==this){var a=new J(null,"selected",this.id,null);a.g=this.s.id;z.i.O(a);z.selected=null;this.Ye();Je(this)}};e.sf=function(){z.h.Ma(this.v,"blocklySelected");this.nk()};e.Ye=function(){z.h.ib(this.v,"blocklySelected");Je(this)};
e.ia=function(){var a=0,b=0,c=this.ud?this.s.Za.Ob():null,d=this.$();if(d){do{var f=z.h.Pb(d);a+=f.x;b+=f.y;this.ud&&this.s.Za.Jc.firstChild==d&&(f=this.s.Za.ai(),a+=f.x,b+=f.y);d=d.parentNode}while(d&&d!=this.s.Wc&&d!=c)}return this.tc=new G(a,b)};e.moveBy=function(a,b){var c=new Yc(this),d=this.ia();this.translate(d.x+a,d.y+b);this.tc=new G(d.x+a,d.y+b);ld(c);z.i.O(c);Ke(this.s)};e.translate=function(a,b){this.tc=new G(a,b);this.$().setAttribute("transform","translate("+a+","+b+")")};
e.ui=function(){if(this.ud){var a=this.ia();this.aj();this.s.Za.Nd(a.x,a.y);Le(this.s.Za,this.$())}};e.mm=function(a){this.ud&&(this.translate(a.x,a.y),this.s.Za.pg(this.s.Da))};e.ti=function(a,b){a?a.Nd(b.x,b.y):(this.v.Od="translate("+b.x+","+b.y+")",this.v.setAttribute("transform",this.v.Od+this.v.df))};e.moveTo=function(a,b){this.translate(a,b)};e.aj=function(){z.h.removeAttribute(this.$(),"transform")};
e.sj=function(){var a=this.ia(),b=this.lb();if(this.u){var c=new G(a.x-b.width,a.y);a=new G(a.x,a.y+b.height)}else c=new G(a.x,a.y),a=new G(a.x+b.width,a.y+b.height);return{rc:c,Mc:a}};e.lh=function(){this.Qc()?z.h.Ma(this.v,"blocklyDraggable"):z.h.ib(this.v,"blocklyDraggable")};e.bf=function(a){Ie.o.bf.call(this,a);this.lh()};e.ve=function(a){a?(a=this.$(),a.Od="",a.df="",z.h.Ma(this.v,"blocklyDragging")):z.h.ib(this.v,"blocklyDragging")};e.$=function(){return this.v};
e.ic=function(){return this.Va?this.Va.value:this.gc};e.mc=function(a){Ie.o.mc.call(this,a);this.Va&&(this.Va.value=a)};e.bh=function(a){a?z.h.Ma(this.v,"blocklyDraggingDelete"):z.h.ib(this.v,"blocklyDraggingDelete")};e.Km=function(){};function Me(a,b,c){z.i.disable();try{var d=pd(a),f=new Ie(b,d.content,d.Tl,d.Wm,d.id);b.R&&(f.he(),f.ba(!1));if(!isNaN(d.x)&&!isNaN(d.y))if(b.u){var h=c||b.jc();f.moveBy(h-d.x,d.y)}else f.moveBy(d.x,d.y)}finally{z.i.enable()}nd(f);return f}
e.ih=function(a){var b;this.s.u&&(b=this.s.jc());a=od(this,a);var c=this.ia();a.setAttribute("x",Math.round(this.s.u?b-c.x:c.x));a.setAttribute("y",Math.round(c.y));a.setAttribute("h",this.Df());a.setAttribute("w",this.jc());return a};function Ne(a,b){this.g=a;this.l=b;this.F=null;this.w=!1;this.m=this.g.ia();this.j=z.h.je()&&b.Za?b.Za:null}Ne.prototype.B=function(){this.j=this.l=this.g=null};function Oe(a,b,c){c=Pe(a,c);a.g.ti(a.j,ic(a.m,c));a.g.Fb()&&(a.F=Be(a.l,b),a.w=a.F!=z.Lk,b=a.l.bc,a.w?(a.g.bh(!0),a.F==z.Pi&&b&&De(b,!0)):(a.g.bh(!1),b&&De(b,!1)))}
function Qe(a,b,c){Oe(a,b,c);b=Pe(a,c);b=ic(a.m,b);a.g.moveTo(b.x,b.y);b=a.l.bc;a.w?(b&&setTimeout(b.close.bind(b),100),Re(a),a.g.B(!1,!0)):b&&b.close();a.w||(a.j&&a.j.pg(a.l.Wc),a.g.ve&&a.g.ve(!1),Re(a));a.l.nb(!0);a.l.Y&&z.h.ib(a.l.Y.Ab,a.g.Fb()?"blocklyToolboxDelete":"blocklyToolboxGrab");z.i.W(!1)}function Re(a){if(a.g.am){var b=new Yc(a.g);b.F=a.m;ld(b);z.i.O(b)}}function Pe(a,b){b=new G(b.x/a.l.scale,b.y/a.l.scale);a.l.Mg&&(b=b.scale(1/a.l.options.lc.scale));return b}
Ne.prototype.ui=function(){this.g.moveTo(0,0);this.j.Nd(this.m.x,this.m.y);Le(this.j,this.g.$())};function Se(a){this.l=a;this.Ip=a.$a();this.Kp=new G(a.scrollX,a.scrollY)}Se.prototype.B=function(){this.l=null};Se.prototype.Gi=function(){z.selected&&z.selected.kf();Te(this.l)};function Ue(a,b){var c=a.Ip,d=ic(a.Kp,b);b=Math.min(d.x,-c.fc);d=Math.min(d.y,-c.Wb);b=Math.max(b,c.sa-c.fc-c.Xb);d=Math.max(d,c.Qa-c.Wb-c.Lb);b=-b-c.fc;d=-d-c.Wb;a.Um(b,d)}Se.prototype.Um=function(a,b){this.l.Ua.set(a,b)};function Ve(a){Ve.o.constructor.call(this,a.l);this.wb=a.wb;this.Pc=a.Pc}y(Ve,Se);Ve.prototype.Um=function(a,b){this.Pc?this.wb.set(a):this.wb.set(b)};z.D={};z.D.visible=!1;z.D.vf=!1;z.D.ln=50;z.D.lm=0;z.D.eh=0;z.D.Pj=0;z.D.Qj=0;z.D.M=null;z.D.wi=null;z.D.Pk=0;z.D.Qk=10;z.D.pn=10;z.D.hn=750;z.D.Qi=5;z.D.Z=null;z.D.S=function(){z.D.Z||(z.D.Z=document.createElement("div"),z.D.Z.className="blocklyTooltipDiv",document.body.appendChild(z.D.Z))};z.D.Fe=function(a){z.Lc(a,"mouseover",null,z.D.wp);z.Lc(a,"mouseout",null,z.D.vp);a.addEventListener("mousemove",z.D.up,!1)};
z.D.wp=function(a){if(!z.D.vf){for(a=a.target;"string"!=typeof a.qc&&"function"!=typeof a.qc;)a=a.qc;z.D.M!=a&&(z.D.Aa(),z.D.wi=null,z.D.M=a);clearTimeout(z.D.lm)}};z.D.vp=function(){z.D.vf||(z.D.lm=setTimeout(function(){z.D.M=null;z.D.wi=null;z.D.Aa()},1),clearTimeout(z.D.eh))};
z.D.up=function(a){if(z.D.M&&z.D.M.qc&&!z.I.aa()&&!z.D.vf)if(z.D.visible){var b=z.D.Pj-a.pageX;a=z.D.Qj-a.pageY;Math.sqrt(b*b+a*a)>z.D.pn&&z.D.Aa()}else z.D.wi!=z.D.M&&(clearTimeout(z.D.eh),z.D.Pj=a.pageX,z.D.Qj=a.pageY,z.D.eh=setTimeout(z.D.Fp,z.D.hn))};z.D.Aa=function(){z.D.visible&&(z.D.visible=!1,z.D.Z&&(z.D.Z.style.display="none"));z.D.eh&&clearTimeout(z.D.eh)};z.D.block=function(){z.D.Aa();z.D.vf=!0};z.D.Vp=function(){z.D.vf=!1};
z.D.Fp=function(){if(!z.D.vf&&(z.D.wi=z.D.M,z.D.Z)){z.D.Z.innerHTML="";for(var a=z.D.M.qc;"function"==typeof a;)a=a();a=z.h.aq(a);a=a.split("\n");for(var b=0;b<a.length;b++){var c=document.createElement("div");c.appendChild(document.createTextNode(a[b]));z.D.Z.appendChild(c)}a=z.D.M.u;b=qc();z.D.Z.style.direction=a?"rtl":"ltr";z.D.Z.style.display="block";z.D.visible=!0;c=z.D.Pj;c=a?c-(z.D.Pk+z.D.Z.offsetWidth):c+z.D.Pk;var d=z.D.Qj+z.D.Qk;d+z.D.Z.offsetHeight>b.height+window.scrollY&&(d-=z.D.Z.offsetHeight+
2*z.D.Qk);a?c=Math.max(z.D.Qi-window.scrollX,c):c+z.D.Z.offsetWidth>b.width+window.scrollX-2*z.D.Qi&&(c=b.width-z.D.Z.offsetWidth-2*z.D.Qi);z.D.Z.style.top=d+"px";z.D.Z.style.left=c+"px"}};function We(a,b){this.j=this.g=this.Sa=this.ef=this.w=this.m=this.xh=null;this.Ri=b;this.sb=this.qb=this.Hb=this.yb=!1;this.Rc=a;this.J=this.Ca=this.P=this.Ba=this.$c=this.zd=null;this.Ub=this.Pe=this.nf=!1;this.wh=!z.cn}e=We.prototype;e.B=function(){z.Touch.Dd();z.D.Vp();this.Ri.fb=null;this.zd&&z.La(this.zd);this.$c&&z.La(this.$c);this.J=this.j=this.g=this.Sa=this.ef=null;this.P&&(this.P.B(),this.P=null);this.Ca&&(this.Ca.B(),this.Ca=null);this.Ba&&(this.Ba.B(),this.Ba=null)};
function Xe(a,b){a.m=hc(new G(b.clientX,b.clientY),a.xh);if(a.yb)var c=!1;else c=a.m,a.yb=Math.sqrt(c.x*c.x+c.y*c.y)>(a.J?z.dn:z.Ok),c=a.yb;if(c){if(a.nf)throw Error("updateIsDragging_ should only be called once per gesture.");a.nf=!0;if(a.w){a.sb=!0;a.Ba=new Ne(a.w,a.j);c=a.Ba;z.i.Ob()||z.i.W(!0);c.l.nb(!1);c.g.Km(!1);c.j&&c.ui();c.g.ve&&c.g.ve(!0);var d=c.l.Y;d&&z.h.Ma(d.Ab,c.g.Fb()?"blocklyToolboxDelete":"blocklyToolboxGrab");Oe(a.Ba,a.Rc,a.m);c=!0}else c=!1;if(!c){if(a.g)if(a.J?(a.g.disabled?
c=!1:!Ye(a.J)||a.J.bm(a.m)?(a.j=a.J.ma,Ze(a.j),z.i.Ob()||z.i.W(!0),a.Sa=null,a.g=$e(a.J,a.g),a.g.select(),c=!0):c=!1,a.qb=c):a.g.Qc()&&(a.qb=!0),a.qb){a.P=new xe(a.g,a.j);c=a.P;d=a.m;var f=a.wh;z.i.Ob()||z.i.W(!0);c.l.nb(!1);z.za.kj();if(c.g.getParent()||f&&c.g.T&&M(c.g.T))Nd(c.g,f),d=Ae(c,d),d=ic(c.w,d),c.g.translate(d.x,d.y),z.za.jo(c.g);c.g.ve(!0);c.g.ui();(d=c.l.Y)&&z.h.Ma(d.Ab,c.g.Fb()?"blocklyToolboxDelete":"blocklyToolboxGrab");ze(a.P,a.Rc,a.m);c=!0}else c=!1;else c=!1;!c&&(a.J?Ye(a.J):a.j&&
a.j.Ua)&&(a.J?a.Ca=new Ve(a.J):a.Ca=new Se(a.j),a.Hb=!0,a.Ca.Gi())}z.me()}a.Rc=b}e.lj=function(a){z.h.li(a)?this.cancel():(this.Pe=!0,z.za.kj(),Ze(this.j),this.j.Mg&&this.j.resize(),af(this.j),this.Rc=a,z.Eb(!!this.J),z.D.block(),this.g&&this.g.select(),z.h.Se(a)?Nc(this,a):("touchstart"!=a.type.toLowerCase()&&"pointerdown"!=a.type.toLowerCase()||"mouse"==a.pointerType||z.$o(a,this),this.xh=new G(a.clientX,a.clientY),this.wh=a.altKey||a.ctrlKey||a.metaKey,this.Fe(a)))};
e.Fe=function(a){this.zd=z.K(document,"mousemove",null,this.Gg.bind(this));this.$c=z.K(document,"mouseup",null,this.fi.bind(this));a.preventDefault();a.stopPropagation()};e.Gg=function(a){Xe(this,a);this.Hb?Ue(this.Ca,this.m):this.qb?ze(this.P,this.Rc,this.m):this.sb&&Oe(this.Ba,this.Rc,this.m);a.preventDefault();a.stopPropagation()};
e.fi=function(a){Xe(this,a);z.me();if(this.Ub)console.log("Trying to end a gesture recursively.");else{this.Ub=!0;if(this.sb)Qe(this.Ba,a,this.m);else if(this.qb)Ee(this.P,a,this.m);else if(this.Hb){var b=this.Ca;Ue(b,this.m);bf(b.l)}else this.w&&!this.yb?(this.w.nk&&this.w.nk(),this.w.select&&this.w.select()):cf(this)?(this.ef.ye(),df(this)):!this.Sa||this.yb||cf(this)?this.Sa||this.w||this.ef||this.yb||z.selected&&z.selected.kf():(this.J&&this.J.uf?this.g.disabled||(z.i.Ob()||z.i.W(!0),He($e(this.J,
this.g))):z.i.O(new J(this.Sa,"click",void 0,void 0)),df(this),z.i.W(!1));a.preventDefault();a.stopPropagation();this.B()}};e.cancel=function(){if(!this.Ub){z.me();if(this.sb)Qe(this.Ba,this.Rc,this.m);else if(this.qb)Ee(this.P,this.Rc,this.m);else if(this.Hb){var a=this.Ca;Ue(a,this.m);bf(a.l)}this.B()}};function Nc(a,b){a.g?(df(a),z.Eb(a.J),a.g.Yf(b)):a.w?a.w.Yf(b):a.j&&!a.J&&(z.Eb(),a.j.Yf(b));b.preventDefault();b.stopPropagation();a.B()}
function ef(a,b,c){if(a.Pe)throw Error("Tried to call gesture.handleWsStart, but the gesture had already been started.");a.j||(a.j=c);a.Rc=b;a.lj(b)}function ff(a,b,c){if(a.Pe)throw Error("Tried to call gesture.handleFlyoutStart, but the gesture had already been started.");a.J||(a.J=c);ef(a,b,c.l)}function Fd(a,b,c){if(a.Pe)throw Error("Tried to call gesture.handleBubbleStart, but the gesture had already been started.");a.w||(a.w=c);a.Rc=b}function df(a){a.g&&!a.J&&Ge(a.g)}
function gf(a,b){a.Sa||a.w||(a.Sa=b,b.Zb&&b!=ne(b)?hf(a,ne(b)):hf(a,b))}function hf(a,b){b.Pa?hf(a,b.getParent()):a.g=b}function cf(a){if(a.ef){var b=a.ef;b=b.Be&&!!b.A&&Ud(b.A)}else b=!1;return b&&!a.yb&&(!a.J||!a.J.uf)}e.tb=function(){return this.Hb||this.qb||this.sb};function jf(a,b){this.g=a;this.xk=b.spacing;this.w=b.length;this.F=(this.j=a.firstChild)&&this.j.nextSibling;this.Gp=b.snap}jf.prototype.m=1;jf.prototype.B=function(){this.g=null};function kf(a,b){a.m=b;var c=a.xk*b||100;a.g.setAttribute("width",c);a.g.setAttribute("height",c);c=Math.floor(a.xk/2)+.5;var d=c-a.w/2,f=c+a.w/2;c*=b;d*=b;f*=b;lf(a.j,b,d,f,c,c);lf(a.F,b,c,c,d,f)}
function lf(a,b,c,d,f,h){a&&(a.setAttribute("stroke-width",b),a.setAttribute("x1",c),a.setAttribute("y1",f),a.setAttribute("x2",d),a.setAttribute("y2",h))}jf.prototype.moveTo=function(a,b){this.g.setAttribute("x",a);this.g.setAttribute("y",b);(C||cb)&&kf(this,this.m)};function mf(a){var b=!!a.readOnly;if(b)var c=null,d=!1,f=!1,h=!1,k=!1,l=!1,m=!1;else c=nf(a.toolbox),d=!(!c||!c.getElementsByTagName("category").length),f=a.trashcan,void 0===f&&(f=d),h=a.collapse,void 0===h&&(h=d),k=a.comments,void 0===k&&(k=d),l=a.disable,void 0===l&&(l=d),m=a.sounds,void 0===m&&(m=!0);var n=!!a.rtl,q=a.horizontalLayout;void 0===q&&(q=!1);var r=a.toolboxPosition;r="end"===r?!1:!0;r=q?r?z.Vd:z.Ee:r==n?z.ad:z.Ud;var u=a.scrollbars;void 0===u&&(u=d);var p=a.css;void 0===p&&(p=!0);
var w="https://blockly-demo.appspot.com/static/media/";a.media?w=a.media:a.path&&(w=a.path+"media/");var D=void 0===a.oneBasedIndex?!0:!!a.oneBasedIndex;this.u=n;this.vi=D;this.collapse=h;this.Pn=k;this.disable=l;this.readOnly=b;this.hm=a.maxBlocks||Infinity;this.Tc=w;this.Vl=d;this.Xl=u;this.So=f;this.Ro=m;this.Qo=p;this.nd=q;this.pd=c;b=a.grid||{};c={};c.spacing=parseFloat(b.spacing)||0;c.Ct=b.colour||"#888";c.length=parseFloat(b.length)||1;c.Ut=0<c.spacing&&!!b.snap;this.Rl=c;a=a.zoom||{};b={};
b.controls=void 0===a.controls?!1:!!a.controls;b.Yp=void 0===a.wheel?!1:!!a.wheel;b.Qm=void 0===a.startScale?1:parseFloat(a.startScale);b.Rg=void 0===a.maxScale?3:parseFloat(a.maxScale);b.Sg=void 0===a.minScale?.3:parseFloat(a.minScale);b.Dp=void 0===a.scaleSpeed?1.2:parseFloat(a.scaleSpeed);this.zb=b;this.ta=r}mf.prototype.lc=null;mf.prototype.we=null;mf.prototype.$a=null;
function nf(a){a?("string"!=typeof a&&("undefined"==typeof XSLTProcessor&&a.outerHTML?a=a.outerHTML:a instanceof Element||(a=null)),"string"==typeof a&&(a=z.G.Xc(a))):a=null;return a};function of(a){this.l=a;this.j=new pf(a,!0,!0,"blocklyMainWorkspaceScrollbar");this.m=new pf(a,!1,!0,"blocklyMainWorkspaceScrollbar");this.w=z.h.C("rect",{height:L,width:L,"class":"blocklyScrollbarBackground"},null);z.h.Of(this.w,a.Wc)}of.prototype.g=null;of.prototype.B=function(){this.w.parentNode.removeChild(this.w);this.g=this.l=this.w=null;this.j.B();this.j=null;this.m.B();this.m=null};
of.prototype.resize=function(){var a=this.l.$a();if(a){var b=!1,c=!1;this.g&&this.g.sa==a.sa&&this.g.Qa==a.Qa&&this.g.Ya==a.Ya&&this.g.Ra==a.Ra?(this.g&&this.g.Xb==a.Xb&&this.g.eb==a.eb&&this.g.fc==a.fc||(b=!0),this.g&&this.g.Lb==a.Lb&&this.g.vd==a.vd&&this.g.Wb==a.Wb||(c=!0)):c=b=!0;b&&this.j.resize(a);c&&this.m.resize(a);this.g&&this.g.sa==a.sa&&this.g.Ra==a.Ra||this.w.setAttribute("x",this.m.ac.x);this.g&&this.g.Qa==a.Qa&&this.g.Ya==a.Ya||this.w.setAttribute("y",this.j.ac.y);this.g=a}};
of.prototype.set=function(a,b){var c={};a*=this.j.g;b*=this.m.g;var d=this.m.Hc,f=a/this.j.Hc;c.x=isNaN(f)?0:f;d=b/d;c.y=isNaN(d)?0:d;this.l.we(c);qf(this.j,a);qf(this.m,b)};
function pf(a,b,c,d){this.l=a;this.F=c||!1;this.w=b;this.Ba=null;this.rg(d);this.ac=new G(0,0);a=L;b?(this.pc.setAttribute("height",a),this.j.setAttribute("height",a),this.m.setAttribute("height",a-5),this.m.setAttribute("y",2.5),this.P="width",this.qb="x"):(this.pc.setAttribute("width",a),this.j.setAttribute("width",a),this.m.setAttribute("width",a-5),this.m.setAttribute("x",2.5),this.P="height",this.qb="y");this.Ca=z.K(this.pc,"mousedown",this,this.rp);this.yb=z.K(this.m,"mousedown",this,this.sp)}
var rf,sf;e=pf.prototype;e.Vj=new G(0,0);e.Pm=0;e.Hc=0;e.ee=0;e.Hg=0;e.Og=!0;e.He=!0;var L=15;Lc&&(L=25);pf.prototype.B=function(){tf();z.La(this.Ca);this.Ca=null;z.La(this.yb);this.yb=null;this.j.parentNode.removeChild(this.j);this.l=this.m=this.pc=this.v=this.j=null};function qf(a,b){a.Hg=b;a.m.setAttribute(a.qb,a.Hg)}function uf(a,b){a.Hc=b;a.j.setAttribute(a.P,a.Hc);a.pc.setAttribute(a.P,a.Hc)}of.prototype.af=function(a){this.j.af(a);this.m.af(a)};
function vf(a,b,c){a.ac.x=b;a.ac.y=c;z.h.ah(a.j,"translate("+(a.ac.x+a.Vj.x)+"px,"+(a.ac.y+a.Vj.y)+"px)")}e=pf.prototype;
e.resize=function(a){if(!a&&(a=this.l.$a(),!a))return;var b=this.Ba;if(!a||!b||a.sa!=b.sa||a.Qa!=b.Qa||a.eb!=b.eb||a.vd!=b.vd||a.Ya!=b.Ya||a.Ra!=b.Ra||a.Xb!=b.Xb||a.Lb!=b.Lb||a.fc!=b.fc||a.Wb!=b.Wb){this.Ba=a;if(this.w){b=a.sa-1;this.F&&(b-=L);uf(this,Math.max(0,b));b=a.Ra+.5;this.F&&this.l.u&&(b+=L);vf(this,b,a.Ya+a.Qa-L-.5);this.F||this.ja(this.Hc<a.Xb);this.g=this.Hc/a.Xb;if(-Infinity==this.g||Infinity==this.g||isNaN(this.g))this.g=0;this.ee=Math.max(0,a.sa*this.g);this.m.setAttribute(this.P,this.ee);
qf(this,wf(this,(a.eb-a.fc)*this.g))}else{b=a.Qa-1;this.F&&(b-=L);uf(this,Math.max(0,b));b=a.Ra+.5;this.l.u||(b+=a.sa-L-1);vf(this,b,a.Ya+.5);this.F||this.ja(this.Hc<a.Lb);this.g=this.Hc/a.Lb;if(-Infinity==this.g||Infinity==this.g||isNaN(this.g))this.g=0;this.ee=Math.max(0,a.Qa*this.g);this.m.setAttribute(this.P,this.ee);qf(this,wf(this,(a.vd-a.Wb)*this.g))}xf(this)}};
e.rg=function(a){var b="blocklyScrollbar"+(this.w?"Horizontal":"Vertical");a&&(b+=" "+a);this.j=z.h.C("svg",{"class":b},null);this.v=z.h.C("g",{},this.j);this.pc=z.h.C("rect",{"class":"blocklyScrollbarBackground"},this.v);a=Math.floor((L-5)/2);this.m=z.h.C("rect",{"class":"blocklyScrollbarHandle",rx:a,ry:a},this.v);z.h.Of(this.j,O(this.l))};e.aa=function(){return this.Og};e.af=function(a){var b=a!=this.He;this.He=a;b&&this.kh()};
e.ja=function(a){var b=a!=this.aa();if(this.F)throw Error("Unable to toggle visibility of paired scrollbars.");this.Og=a;b&&this.kh()};e.kh=function(){this.He&&this.aa()?this.j.setAttribute("display","block"):this.j.setAttribute("display","none")};
e.rp=function(a){af(this.l);z.Touch.Dd();tf();if(z.h.Se(a))a.stopPropagation();else{var b=z.h.Tg(a,O(this.l),yf(this.l));b=this.w?b.x:b.y;var c=z.h.Xh(this.m);c=this.w?c.x:c.y;var d=this.Hg,f=.95*this.ee;b<=c?d-=f:b>=c+this.ee&&(d+=f);qf(this,wf(this,d));xf(this);a.stopPropagation();a.preventDefault()}};
e.sp=function(a){af(this.l);tf();z.h.Se(a)?a.stopPropagation():(this.Sa=this.Hg,Te(this.l),this.Pm=this.w?a.clientX:a.clientY,rf=z.K(document,"mouseup",this,this.xp),sf=z.K(document,"mousemove",this,this.tp),a.stopPropagation(),a.preventDefault())};e.tp=function(a){qf(this,wf(this,this.Sa+((this.w?a.clientX:a.clientY)-this.Pm)));xf(this)};e.xp=function(){bf(this.l);z.Touch.Dd();tf()};function tf(){z.Eb(!0);rf&&(z.La(rf),rf=null);sf&&(z.La(sf),sf=null)}
function wf(a,b){return b=0>=b||isNaN(b)||a.Hc<a.ee?0:Math.min(b,a.Hc-a.ee)}function xf(a){var b=a.Hg/a.Hc;isNaN(b)&&(b=0);var c={};a.w?c.x=b:c.y=b;a.l.we(c)}e.set=function(a){qf(this,wf(this,a*this.g));xf(this)};function zf(a,b){zf.o.constructor.call(this,a,b);this.yd=!1;this.F={};this.yh=this.Ib=0;this.Ce=null}y(zf,We);e=zf.prototype;e.lj=function(a){zf.o.lj.call(this,a);!this.Ub&&z.Touch.mi(a)&&Af(this,a)};e.Fe=function(a){this.Ce=z.K(document,"mousedown",null,this.Oo.bind(this),!0);this.zd=z.K(document,"mousemove",null,this.Gg.bind(this),!0);this.$c=z.K(document,"mouseup",null,this.fi.bind(this),!0);a.preventDefault();a.stopPropagation()};
e.Oo=function(a){!this.tb()&&z.Touch.mi(a)&&(Af(this,a),this.yd&&z.me())};e.Gg=function(a){if(this.tb())z.Touch.wk(a)&&zf.o.Gg.call(this,a);else if(this.yd){if(z.Touch.mi(a)){this.F[z.Touch.bi(a)]=Bf(this,a);var b=Object.keys(this.F);if(2==b.length){b=gc(this.F[b[0]],this.F[b[1]])/this.yh;if(0<this.Ib&&Infinity>this.Ib){var c=b-this.Ib;c=0<c?5*c:6*c;var d=this.j,f=z.h.Tg(a,O(d),yf(d));Cf(d,f.x,f.y,c)}this.Ib=b;a.preventDefault()}}z.me()}else zf.o.Gg.call(this,a)};
e.fi=function(a){if(z.Touch.mi(a)&&!this.tb()){var b=z.Touch.bi(a);this.F[b]&&delete this.F[b];2>Object.keys(this.F).length&&(this.F={},this.Ib=0)}!this.yd||this.tb()?z.Touch.wk(a)&&zf.o.fi.call(this,a):(a.preventDefault(),a.stopPropagation(),this.B())};e.B=function(){zf.o.B.call(this);this.Ce&&z.La(this.Ce)};function Af(a,b){a.F[z.Touch.bi(b)]=Bf(a,b);var c=Object.keys(a.F);2==c.length&&(a.yh=gc(a.F[c[0]],a.F[c[1]]),a.yd=!0,b.preventDefault())}
function Bf(a,b){return a.j?new G(b.pageX?b.pageX:b.changedTouches[0].pageX,b.pageY?b.pageY:b.changedTouches[0].pageY):null};function Df(a,b,c,d){this.top=a;this.right=b;this.bottom=c;this.left=d}e=Df.prototype;e.jc=function(){return this.right-this.left};e.Df=function(){return this.bottom-this.top};e.clone=function(){return new Df(this.top,this.right,this.bottom,this.left)};e.contains=function(a){return this&&a?a instanceof Df?a.left>=this.left&&a.right<=this.right&&a.top>=this.top&&a.bottom<=this.bottom:a.x>=this.left&&a.x<=this.right&&a.y>=this.top&&a.y<=this.bottom:!1};
e.expand=function(a,b,c,d){ha(a)?(this.top-=a.top,this.right+=a.right,this.bottom+=a.bottom,this.left-=a.left):(this.top-=a,this.right+=Number(b),this.bottom+=Number(c),this.left-=Number(d));return this};e.ceil=function(){this.top=Math.ceil(this.top);this.right=Math.ceil(this.right);this.bottom=Math.ceil(this.bottom);this.left=Math.ceil(this.left);return this};
e.floor=function(){this.top=Math.floor(this.top);this.right=Math.floor(this.right);this.bottom=Math.floor(this.bottom);this.left=Math.floor(this.left);return this};e.round=function(){this.top=Math.round(this.top);this.right=Math.round(this.right);this.bottom=Math.round(this.bottom);this.left=Math.round(this.left);return this};e.translate=function(a,b){a instanceof G?(this.left+=a.x,this.right+=a.x,this.top+=a.y,this.bottom+=a.y):(this.left+=a,this.right+=a,v(b)&&(this.top+=b,this.bottom+=b));return this};
e.scale=function(a,b){b=v(b)?b:a;this.left*=a;this.right*=a;this.top*=b;this.bottom*=b;return this};function Ef(a,b,c,d){this.left=a;this.top=b;this.width=c;this.height=d}e=Ef.prototype;e.clone=function(){return new Ef(this.left,this.top,this.width,this.height)};e.contains=function(a){return a instanceof G?a.x>=this.left&&a.x<=this.left+this.width&&a.y>=this.top&&a.y<=this.top+this.height:this.left<=a.left&&this.left+this.width>=a.left+a.width&&this.top<=a.top&&this.top+this.height>=a.top+a.height};e.Hd=function(){return new jc(this.width,this.height)};
e.ceil=function(){this.left=Math.ceil(this.left);this.top=Math.ceil(this.top);this.width=Math.ceil(this.width);this.height=Math.ceil(this.height);return this};e.floor=function(){this.left=Math.floor(this.left);this.top=Math.floor(this.top);this.width=Math.floor(this.width);this.height=Math.floor(this.height);return this};e.round=function(){this.left=Math.round(this.left);this.top=Math.round(this.top);this.width=Math.round(this.width);this.height=Math.round(this.height);return this};
e.translate=function(a,b){a instanceof G?(this.left+=a.x,this.top+=a.y):(this.left+=a,v(b)&&(this.top+=b));return this};e.scale=function(a,b){b=v(b)?b:a;this.left*=a;this.width*=a;this.top*=b;this.height*=b;return this};function Ff(a){this.l=a}e=Ff.prototype;e.Ni=!1;e.v=null;e.Ii=null;e.Rj=0;e.le=0;e.wd=0;e.sh=0;
e.S=function(){this.v=z.h.C("g",{"class":"blocklyTrash"},null);var a=String(Math.random()).substring(2);var b=z.h.C("clipPath",{id:"blocklyTrashBodyClipPath"+a},this.v);z.h.C("rect",{width:47,height:44,y:16},b);z.h.C("image",{width:z.Jb.width,x:-0,height:z.Jb.height,y:-32,"clip-path":"url(#blocklyTrashBodyClipPath"+a+")"},this.v).setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",this.l.options.Tc+z.Jb.url);b=z.h.C("clipPath",{id:"blocklyTrashLidClipPath"+a},this.v);z.h.C("rect",{width:47,
height:16},b);this.Ii=z.h.C("image",{width:z.Jb.width,x:-0,height:z.Jb.height,y:-32,"clip-path":"url(#blocklyTrashLidClipPath"+a+")"},this.v);this.Ii.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",this.l.options.Tc+z.Jb.url);z.K(this.v,"mouseup",this,this.click);this.Vi();return this.v};e.qa=function(a){this.g=20+a;De(this,!1);return this.g+60};e.B=function(){this.v&&(this.v.parentNode.removeChild(this.v),this.v=null);this.l=this.Ii=null;clearTimeout(this.Rj)};
e.position=function(){var a=this.l.$a();a&&(this.l.u?(this.wd=20+L,a.ta==z.Ud&&(this.wd+=a.Rh,this.l.Y&&(this.wd+=a.Ra))):(this.wd=a.sa+a.Ra-47-20-L,a.ta==z.ad&&(this.wd-=a.Rh)),this.sh=a.Qa+a.Ya-60-this.g,a.ta==z.Ee&&(this.sh-=a.Il),this.v.setAttribute("transform","translate("+this.wd+","+this.sh+")"))};e.Bf=function(){if(!this.v)return null;var a=this.v.getBoundingClientRect();return new Ef(a.left-10,a.top+32-10,67,80)};function De(a,b){a.Ni!=b&&(clearTimeout(a.Rj),a.Ni=b,a.Vi())}
e.Vi=function(){this.le+=this.Ni?.2:-.2;this.le=Math.min(Math.max(this.le,0),1);var a=45*this.le;this.Ii.setAttribute("transform","rotate("+(this.l.u?-a:a)+","+(this.l.u?4:43)+",14)");this.v.style.opacity=.4+.4*this.le;0<this.le&&1>this.le&&(this.Rj=setTimeout(this.Vi.bind(this),20))};e.close=function(){De(this,!1)};e.click=function(){var a=this.l.Jp-this.l.scrollX,b=this.l.Lp-this.l.scrollY;Math.sqrt(a*a+b*b)>z.Ok||console.log("TODO: Inspect trash.")};function hd(a,b,c,d){this.s=a;this.name=b;this.type=c||"";this.g=d||z.h.gd();z.i.O(new Tc(this))}hd.prototype.ha=function(){return this.g};function Gf(a,b){a=a.name.toLowerCase();b=b.name.toLowerCase();return a<b?-1:a==b?0:1};z.L={};z.L.on=z.Tk;z.L.vn=function(a){var b=fd(a);a=Object.create(null);for(var c=0;c<b.length;c++){var d=jd(b[c]);if(d)for(var f=0;f<d.length;f++){var h=d[f];h.ha()&&(a[h.ha()]=h)}}b=[];for(var k in a)b.push(a[k]);return b};z.L.ut=function(){console.warn("Deprecated call to Blockly.Variables.allUsedVariables. Use Blockly.Variables.allUsedVarModels instead.\nIf this is a major issue please file a bug on GitHub.")};
z.L.tt=function(a){var b=fd(a);a={};for(var c=0;c<b.length;c++){var d=b[c];if(d.xo){d=d.xo();for(var f=0;f<d.length;f++)a[d[f]]=d[f]}}b=[];for(var h in a)b.push(a[h]);return b};z.L.be=function(a){var b=[],c=H("button");c.setAttribute("text","%{BKY_NEW_VARIABLE}");c.setAttribute("callbackKey","CREATE_VARIABLE");Hf(a,"CREATE_VARIABLE",function(a){z.L.wf(a.ma)});b.push(c);a=z.L.rj(a);return b=b.concat(a)};
z.L.rj=function(a){a=a.Dg("");a.sort(Gf);var b=[];if(0<a.length){var c=a[0];if(z.ec.variables_set){var d=z.ec.math_change?8:24;d='<xml><block type="variables_set" gap="'+d+'">'+z.L.Af(c)+"</block></xml>";d=z.G.Xc(d).firstChild;b.push(d)}z.ec.math_change&&(d=z.ec.variables_get?20:8,d='<xml><block type="math_change" gap="'+d+'">'+z.L.Af(c)+'<value name="DELTA"><shadow type="math_number"><field name="NUM">1</field></shadow></value></block></xml>',d=z.G.Xc(d).firstChild,b.push(d));for(c=0;d=a[c];c++)z.ec.variables_get&&
(d='<xml><block type="variables_get" gap="8">'+z.L.Af(d)+"</block></xml>",d=z.G.Xc(d).firstChild,b.push(d))}return b};z.L.vo=function(a){a=a.Fd();var b="";if(a.length)for(var c=1,d=0,f="ijkmnopqrstuvwxyzabcdefgh".charAt(d);!b;){for(var h=!1,k=0;k<a.length;k++)if(a[k].name.toLowerCase()==f){h=!0;break}h?(d++,25==d&&(d=0,c++),f="ijkmnopqrstuvwxyzabcdefgh".charAt(d),1<c&&(f+=c)):b=f}else b="i";return b};
z.L.wf=function(a,b,c){function d(c){z.L.Dm(z.U.NEW_VARIABLE_TITLE,c,function(c){if(c){var h=z.L.ep(c,a);if(h){var k=c.toLowerCase();if(h.type==f)var n=z.U.VARIABLE_ALREADY_EXISTS.replace("%1",k);else n=z.U.VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE,n=n.replace("%1",k).replace("%2",h.type);z.alert(n,function(){d(c)})}else a.Ac(c,f),b&&b(c)}else b&&b(null)})}var f=c||"";d("")};aa("Blockly.Variables.createVariableButtonHandler",z.L.wf);z.L.Ac=z.L.wf;aa("Blockly.Variables.createVariable",z.L.Ac);
z.L.bk=function(a,b){function c(d){var f=z.U.RENAME_VARIABLE_TITLE.replace("%1",b.name);z.L.Dm(f,d,function(d){if(d){var f=z.L.fp(d,b.type,a);f?(f=z.U.VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE.replace("%1",d.toLowerCase()).replace("%2",f.type),z.alert(f,function(){c(d)})):a.Ze(b.ha(),d)}})}c("")};z.L.Dm=function(a,b,c){z.prompt(a,b,function(a){a&&(a=a.replace(/[\s\xa0]+/g," ").replace(/^ | $/g,""),a==z.U.RENAME_VARIABLE||a==z.U.NEW_VARIABLE)&&(a=null);c(a)})};
z.L.fp=function(a,b,c){c=c.ua.Fd();a=a.toLowerCase();for(var d=0,f;f=c[d];d++)if(f.name.toLowerCase()==a&&f.type!=b)return f;return null};z.L.ep=function(a,b){b=b.ua.Fd();a=a.toLowerCase();for(var c=0,d;d=b[c];c++)if(d.name.toLowerCase()==a)return d;return null};z.L.Af=function(a){var b=a.type;""==b&&(b="''");return'<field name="VAR" id="'+a.ha()+'" variabletype="'+Da(b)+'">'+Da(a.name)+"</field>"};z.L.It=function(a){a="<xml>"+z.L.Af(a)+"</xml>";return z.G.Xc(a).firstChild};
z.L.Ml=function(a,b,c,d){var f=z.L.Oc(a,b,c,d);f||(f=z.L.Un(a,b,c,d));return f};z.L.Oc=function(a,b,c,d){var f=a.Sf;if(b){var h=a.de(b);!h&&f&&(h=f.de(b))}else if(c){if(void 0==d)throw Error("Tried to look up a variable by name without a type");h=a.Oc(c,d);!h&&f&&(h=f.Oc(c,d))}return h};z.L.Un=function(a,b,c,d){var f=a.Sf;c||(c=z.L.vo(a.Jd?a.hf:a));return f?f.Ac(c,d,b):a.Ac(c,d,b)};
z.L.Jl=function(a,b){a=a.Fd();var c=[];if(b.length!=a.length)for(var d=0;d<a.length;d++){var f=a[d];-1==b.indexOf(f)&&c.push(f)}return c};z.wc={};z.wc.kp=function(a){z.L.wf(a.ma,null,"String")};z.wc.jp=function(a){z.L.wf(a.ma,null,"Number")};z.wc.ip=function(a){z.L.wf(a.ma,null,"Colour")};
z.wc.be=function(a){var b=[],c=H("button");c.setAttribute("text",z.U.NEW_STRING_VARIABLE);c.setAttribute("callbackKey","CREATE_VARIABLE_STRING");b.push(c);c=H("button");c.setAttribute("text",z.U.NEW_NUMBER_VARIABLE);c.setAttribute("callbackKey","CREATE_VARIABLE_NUMBER");b.push(c);c=H("button");c.setAttribute("text",z.U.NEW_COLOUR_VARIABLE);c.setAttribute("callbackKey","CREATE_VARIABLE_COLOUR");b.push(c);Hf(a,"CREATE_VARIABLE_STRING",z.wc.kp);Hf(a,"CREATE_VARIABLE_NUMBER",z.wc.jp);Hf(a,"CREATE_VARIABLE_COLOUR",
z.wc.ip);a=z.wc.rj(a);return b=b.concat(a)};z.wc.rj=function(a){a=a.Fd();a.sort(Gf);var b=[];if(0<a.length){if(z.ec.variables_set_dynamic){var c='<xml><block type="variables_set_dynamic" gap="24">'+z.L.Af(a[0])+"</block></xml>";c=z.G.Xc(c).firstChild;b.push(c)}if(z.ec.variables_get_dynamic)for(var d=0;c=a[d];d++)c='<xml><block type="variables_get_dynamic" gap="8">'+z.L.Af(c)+"</block></xml>",c=z.G.Xc(c).firstChild,b.push(c)}return b};function If(a){this.j=a;this.g=Object.create(null)}e=If.prototype;e.Oj=null;e.B=function(){this.g=this.j=null};e.load=function(a,b){if(a.length){try{var c=new window.Audio}catch(l){return}for(var d,f=0;f<a.length;f++){var h=a[f],k=h.match(/\.(\w+)$/);if(k&&c.canPlayType("audio/"+k[1])){d=new window.Audio(h);break}}d&&d.play&&(this.g[b]=d)}};e.preload=function(){for(var a in this.g){var b=this.g[a];b.volume=.01;b.play();b.pause();if(hb||gb)break}};
e.play=function(a,b){var c=this.g[a];c?(a=new Date,null!=this.Oj&&a-this.Oj<z.qn||(this.Oj=a,c=ob&&9===ob||hb||fb?c:c.cloneNode(),c.volume=void 0===b?1:b,c.play())):this.j&&this.j.Xd.play(a,b)};e=Ie.prototype;e.lb=function(){return{width:this.jc(),height:this.Df()}};
e.ba=function(){if(!this.se){var a=this.lb();this.sg();this.v.appendChild(this.hc);this.gf=z.h.C("rect",{"class":"blocklyCommentHandleTarget",x:0,y:0});this.v.appendChild(this.gf);this.ze=z.h.C("rect",{"class":"blocklyCommentTarget",x:0,y:0,rx:3,ry:3});this.v.appendChild(this.ze);this.jb=z.h.C("g",{"class":this.u?"blocklyResizeSW":"blocklyResizeSE"},this.v);z.h.C("polygon",{points:"0,x x,x x,0".replace(/x/g,(8).toString())},this.jb);z.h.C("line",{"class":"blocklyResizeLine",x1:8/3,y1:7,x2:7,y2:8/
3},this.jb);z.h.C("line",{"class":"blocklyResizeLine",x1:16/3,y1:7,x2:7,y2:16/3},this.jb);this.Fb()&&(this.$d=z.h.C("g",{"class":"blocklyCommentDeleteIcon"},this.v),this.yl=z.h.C("circle",{"class":"blocklyDeleteIconShape",r:"7",cx:"7.5",cy:"7.5"},this.$d),z.h.C("line",{x1:"5",y1:"10",x2:"10",y2:"5",stroke:"#fff","stroke-width":"2"},this.$d),z.h.C("line",{x1:"5",y1:"5",x2:"10",y2:"10",stroke:"#fff","stroke-width":"2"},this.$d));Jf(this,a.width,a.height);this.Va.value=this.gc;this.se=!0;this.jb&&z.K(this.jb,
"mousedown",this,this.dk);this.Fb()&&(z.K(this.$d,"mousedown",this,this.eo),z.K(this.$d,"mouseout",this,this.fo),z.K(this.$d,"mouseup",this,this.ho))}};
e.sg=function(){this.hc=z.h.C("foreignObject",{x:0,y:10,"class":"blocklyCommentForeignObject"},null);var a=document.createElementNS(z.Sd,"body");a.setAttribute("xmlns",z.Sd);a.className="blocklyMinimalBody";var b=document.createElementNS(z.Sd,"textarea");b.className="blocklyCommentTextarea";b.setAttribute("dir",this.u?"RTL":"LTR");a.appendChild(b);this.Va=b;this.hc.appendChild(a);z.K(b,"wheel",this,function(a){a.stopPropagation()});z.K(b,"change",this,function(){this.mc(b.value)});return this.hc};
e.dk=function(a){Kf(this);z.h.Se(a)||(this.s.Gi(a,new G(this.s.u?-this.ea:this.ea,this.wa)),this.We=z.K(document,"mouseup",this,this.Cp),this.Uj=z.K(document,"mousemove",this,this.ek),z.Eb());a.stopPropagation()};e.eo=function(a){z.h.Ma(this.yl,"blocklyDeleteIconHighlighted");a.stopPropagation()};e.fo=function(){z.h.ib(this.yl,"blocklyDeleteIconHighlighted")};e.ho=function(a){this.B(!0,!0);a.stopPropagation()};function Kf(a){a.We&&(z.La(a.We),a.We=null);a.Uj&&(z.La(a.Uj),a.Uj=null)}
e.Cp=function(){z.Touch.Dd();Kf(this)};e.ek=function(a){this.Bh=!1;a=Hd(this.s,a);Jf(this,this.u?-a.x:a.x,a.y)};
function Jf(a,b,c){b=Math.max(b,45);c=Math.max(c,30);a.ea=b;a.wa=c;a.gh.setAttribute("width",b);a.gh.setAttribute("height",c);a.ze.setAttribute("width",b);a.ze.setAttribute("height",c);a.gf.setAttribute("width",b);a.gf.setAttribute("height",10);a.u&&(a.gh.setAttribute("transform","scale(-1 1)"),a.ze.setAttribute("transform","scale(-1 1)"));a.jb&&(a.u?(a.jb.setAttribute("transform","translate("+(-b+8)+","+(c-8)+") scale(-1 1)"),a.$d.setAttribute("transform","translate("+(-b+8)+",-8) scale(-1 1)")):
(a.jb.setAttribute("transform","translate("+(b-8)+","+(c-8)+")"),a.$d.setAttribute("transform","translate("+(b-8)+",-8)")));b=a.lb();a.hc.setAttribute("width",b.width);a.hc.setAttribute("height",b.height-10);a.u&&a.hc.setAttribute("x",-b.width);a.Va.style.width=b.width-4+"px";a.Va.style.height=b.height-4-10+"px"}
e.nk=function(){var a=this;this.xg=!0;setTimeout(function(){a.Va.focus();z.h.Ma(a.v,"blocklyFocused");z.h.Ma(a.ze,"blocklyCommentTargetFocused");z.h.Ma(a.gf,"blocklyCommentHandleTargetFocused")},0)};function Je(a){a.xg=!1;setTimeout(function(){a.Va.blur();z.h.ib(a.v,"blocklyFocused");z.h.ib(a.ze,"blocklyCommentTargetFocused");z.h.ib(a.gf,"blocklyCommentHandleTargetFocused")},0)};function Lf(a){this.Fk=a;this.S()}e=Lf.prototype;e.rb=null;e.Fk=null;e.S=function(){this.rb||(this.rb=z.h.C("svg",{xmlns:z.Si,"xmlns:html":z.Sd,"xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1","class":"blocklyWsDragSurface blocklyOverflowVisible"},null),this.Fk.appendChild(this.rb))};e.Nd=function(a,b){a=a.toFixed(0);b=b.toFixed(0);this.rb.style.display="block";z.h.ah(this.rb,"translate3d("+a+"px, "+b+"px, 0px)")};e.ai=function(){return z.h.Pb(this.rb)};
e.pg=function(a){if(!a)throw Error("Couldn't clear and hide the drag surface: missing new surface.");var b=this.rb.childNodes[0],c=this.rb.childNodes[1];if(!(b&&c&&z.h.Wl(b,"blocklyBlockCanvas")&&z.h.Wl(c,"blocklyBubbleCanvas")))throw Error("Couldn't clear and hide the drag surface. A node was missing.");null!=this.Uc?z.h.Of(b,this.Uc):a.insertBefore(b,a.firstChild);z.h.Of(c,b);this.rb.style.display="none";if(this.rb.childNodes.length)throw Error("Drag surface was not cleared.");z.h.ah(this.rb,"");
this.Uc=null};z.G={};z.G.$p=function(a,b){var c=H("xml"),d=z.G.Xp(z.L.vn(a));d.hasChildNodes()&&c.appendChild(d);var f=td(a,!0);d=0;for(var h;h=f[d];d++)c.appendChild(h.ih(b));a=sd(a,!0);for(d=0;f=a[d];d++)c.appendChild(z.G.Yi(f,b));return c};z.G.Xp=function(a){for(var b=H("variables"),c=0,d;d=a[c];c++){var f=H("variable",null,d.name);f.setAttribute("type",d.type);f.setAttribute("id",d.ha());b.appendChild(f)}return b};
z.G.Yi=function(a,b){var c;a.s.u&&(c=a.s.jc());b=z.G.Yd(a,b);var d=a.ia();b.setAttribute("x",Math.round(a.s.u?c-d.x:d.x));b.setAttribute("y",Math.round(d.y));return b};z.G.ro=function(a){null==a.ab()&&(a.Re(),a.ab());var b=a.Oc();if(!b)throw Error("Tried to serialize a variable field with no variable.");var c=H("field",null,b.name);c.setAttribute("name",a.name);c.setAttribute("id",b.ha());c.setAttribute("variabletype",b.type);return c};
z.G.so=function(a){if(a.name&&a.Be){if(a.Tf())return z.G.ro(a);var b=H("field",null,a.ab());b.setAttribute("name",a.name);return b}return null};z.G.tn=function(a,b){for(var c=0,d;d=a.da[c];c++)for(var f=0,h;h=d.Ia[f];f++)(h=z.G.so(h))&&b.appendChild(h)};
z.G.Yd=function(a,b){var c=H(a.Pa?"shadow":"block");c.setAttribute("type",a.type);b||c.setAttribute("id",a.id);if(a.Fc){var d=a.Fc();d&&(d.hasChildNodes()||d.hasAttributes())&&c.appendChild(d)}z.G.tn(a,c);if(d=a.Kl()){d=H("comment",null,d);if("object"==typeof a.Ga){d.setAttribute("pinned",a.Ga.aa());var f=a.Ga.Le();d.setAttribute("h",f.height);d.setAttribute("w",f.width)}c.appendChild(d)}a.data&&(d=H("data",null,a.data),c.appendChild(d));f=0;for(var h;h=a.da[f];f++){var k,l=!0;if(h.type!=z.Zc){var m=
M(h.connection);h.type==z.Wa?k=H("value"):h.type==z.Xa&&(k=H("statement"));d=h.connection.sd;!d||m&&m.Pa||k.appendChild(z.G.hl(d));m&&(k.appendChild(z.G.Yd(m,b)),l=!1);k.setAttribute("name",h.name);l||c.appendChild(k)}}a.Vo!=a.ie&&c.setAttribute("inline",a.ie);a.isCollapsed()&&c.setAttribute("collapsed",!0);a.disabled&&c.setAttribute("disabled",!0);a.Fb()||a.Pa||c.setAttribute("deletable",!1);a.Qc()||a.Pa||c.setAttribute("movable",!1);Ud(a)||c.setAttribute("editable",!1);if(f=ad(a))k=H("next",null,
z.G.Yd(f,b)),c.appendChild(k);d=a.T&&a.T.sd;!d||f&&f.Pa||k.appendChild(z.G.hl(d));return c};z.G.hl=function(a){for(var b=a=a.cloneNode(!0),c;b;)if(b.firstChild)b=b.firstChild;else{for(;b&&!b.nextSibling;)c=b,b=b.parentNode,3==c.nodeType&&""==c.data.trim()&&b.firstChild!=c&&c.parentNode.removeChild(c);b&&(c=b,b=b.nextSibling,3==c.nodeType&&""==c.data.trim()&&c.parentNode.removeChild(c))}return a};z.G.fd=function(a){return(new XMLSerializer).serializeToString(a)};
z.G.Ht=function(a){a=z.G.fd(a).split("<");for(var b="",c=1;c<a.length;c++){var d=a[c];"/"==d[0]&&(b=b.substring(2));a[c]=b+"<"+d;"/"!=d[0]&&"/>"!=d.slice(-2)&&(b+="  ")}a=a.join("\n");a=a.replace(/(<(\w+)\b[^>]*>[^\n]*)\n *<\/\2>/g,"$1</$2>");return a.replace(/^\n/,"")};z.G.Mp=function(a){return(new DOMParser).parseFromString(a,"text/xml")};
z.G.Xc=function(a){a=z.G.Mp(a);if(!a||!a.documentElement||"xml"!=a.documentElement.nodeName.toLowerCase())throw TypeError("Blockly.Xml.textToDom expected an <xml> document.");return a.documentElement};z.G.Bt=function(a,b){b.nb(!1);b.clear();a=z.G.zf(a,b);b.nb(!0);return a};
z.G.zf=function(a,b){if(a instanceof qd){var c=a;a=b;b=c;console.warn("Deprecated call to Blockly.Xml.domToWorkspace, swap the arguments.")}var d;b.u&&(d=b.jc());c=[];Mf();var f=a.childNodes.length,h=z.i.Ob();h||z.i.W(!0);b.nb&&b.nb(!1);var k=!0;try{for(var l=0;l<f;l++){var m=a.childNodes[l],n=m.nodeName.toLowerCase();if("block"==n||"shadow"==n&&!z.i.Gb){var q=z.G.yf(m,b);c.push(q.id);var r=m.hasAttribute("x")?parseInt(m.getAttribute("x"),10):10,u=m.hasAttribute("y")?parseInt(m.getAttribute("y"),
10):10;isNaN(r)||isNaN(u)||q.moveBy(b.u?d-r:r,u);k=!1}else{if("shadow"==n)throw TypeError("Shadow block cannot be a top-level block.");if("comment"==n)if(b.R)Me(m,b,d);else{var p=m,w=b,D=pd(p),T=new md(w,D.content,D.Tl,D.Wm,D.id),N=parseInt(p.getAttribute("x"),10),La=parseInt(p.getAttribute("y"),10);isNaN(N)||isNaN(La)||T.moveBy(N,La);nd(T)}else if("variables"==n){if(k)z.G.oo(m,b);else throw Error("'variables' tag must exist once before block and shadow tag elements in the workspace XML, but it was found in another location.");
k=!1}}}}finally{h||z.i.W(!1),Nf()}b.nb&&b.nb(!0);return c};z.G.vt=function(a,b){if(b.hasOwnProperty("scale")){var c=P;try{P=0;var d=Of(b)}finally{P=c}}a=z.G.zf(a,b);if(d&&d.height){c=d.y+d.height;var f=d.x;var h=Infinity,k=Infinity;for(d=0;d<a.length;d++){var l=$c(b,a[d]).ia();l.y<k&&(k=l.y);l.x<h&&(h=l.x)}c=c-k+10;f-=h;var m;b.u&&(m=b.jc());for(d=0;d<a.length;d++)$c(b,a[d]).moveBy(b.u?m-f:f,c)}return a};
z.G.yf=function(a,b){if(a instanceof qd){var c=a;a=b;b=c;console.warn("Deprecated call to Blockly.Xml.domToBlock, swap the arguments.")}z.i.disable();c=b.Fd();try{var d=z.G.mj(a,b),f=I(d,!1);if(b.R){Pf(d,!0);for(var h=f.length-1;0<=h;h--)f[h].he();for(h=f.length-1;0<=h;h--)f[h].ba(!1);setTimeout(function(){d.s&&Pf(d,!1)},1);ve(d);Ke(b)}else for(h=f.length-1;0<=h;h--)f[h].Re()}finally{z.i.enable()}if(z.i.isEnabled()){a=z.L.Jl(b,c);for(h=0;h<a.length;h++)z.i.O(new Tc(a[h]));z.i.O(new z.i.rh(d))}return d};
z.G.oo=function(a,b){for(var c=0,d;d=a.children[c];c++){var f=d.getAttribute("type"),h=d.getAttribute("id");d=d.textContent;if(null==f)throw Error("Variable with id, "+h+" is without a type");b.Ac(d,f,h)}};
z.G.mj=function(a,b){var c=null,d=a.getAttribute("type");if(!d)throw TypeError("Block type unspecified: "+a.outerHTML);var f=a.getAttribute("id");c=b.qm(d,f);var h=null;f=0;for(var k;k=a.childNodes[f];f++)if(3!=k.nodeType){for(var l=h=null,m=0,n;n=k.childNodes[m];m++)1==n.nodeType&&("block"==n.nodeName.toLowerCase()?h=n:"shadow"==n.nodeName.toLowerCase()&&(l=n));!h&&l&&(h=l);m=k.getAttribute("name");switch(k.nodeName.toLowerCase()){case "mutation":c.ae&&(c.ae(k),c.he&&c.he());break;case "comment":c.$g(k.textContent);
var q=k.getAttribute("pinned");q&&!c.Zb&&setTimeout(function(){c.Ga&&c.Ga.ja&&c.Ga.ja("true"==q)},1);h=parseInt(k.getAttribute("w"),10);k=parseInt(k.getAttribute("h"),10);!isNaN(h)&&!isNaN(k)&&c.Ga&&c.Ga.ja&&c.Ga.te(h,k);break;case "data":c.data=k.textContent;break;case "title":case "field":z.G.no(c,m,k);break;case "value":case "statement":k=Od(c,m);if(!k){console.warn("Ignoring non-existent input "+m+" in block "+d);break}l&&(k.connection.sd=l);if(h)if(h=z.G.mj(h,b),h.V)Pd(k.connection,h.V);else if(h.X)Pd(k.connection,
h.X);else throw TypeError("Child block does not have output or previous statement.");break;case "next":l&&c.T&&(c.T.sd=l);if(h){if(!c.T)throw TypeError("Next statement does not exist.");if(c.T.isConnected())throw TypeError("Next statement is already connected.");h=z.G.mj(h,b);if(!h.X)throw TypeError("Next block does not have previous statement.");Pd(c.T,h.X)}break;default:console.warn("Ignoring unknown tag: "+k.nodeName)}}(f=a.getAttribute("inline"))&&c.Xf("true"==f);(f=a.getAttribute("disabled"))&&
c.ue("true"==f||"disabled"==f);(f=a.getAttribute("deletable"))&&c.lk("true"==f);(f=a.getAttribute("movable"))&&c.bf("true"==f);(f=a.getAttribute("editable"))&&c.mk("true"==f);(f=a.getAttribute("collapsed"))&&c.$e("true"==f);if("shadow"==a.nodeName.toLowerCase()){a=c.ce(!1);for(f=0;b=a[f];f++)if(!b.Pa)throw TypeError("Shadow block not allowed non-shadow child.");if(jd(c).length)throw TypeError("Shadow blocks cannot have variable references.");c.tk(!0)}return c};
z.G.mo=function(a,b,c,d){var f=b.getAttribute("variabletype")||"";"''"==f&&(f="");a=z.L.Ml(a,b.id,c,f);if(null!=f&&f!==a.type)throw Error("Serialized variable type with id '"+a.ha()+"' had type "+a.type+", and does not match variable field that references it: "+z.G.fd(b)+".");d.xa(a.ha())};z.G.no=function(a,b,c){var d=Jd(a,b);d?(a=a.s,b=c.textContent,d.Tf()?z.G.mo(a,c,b,d):d.xa(b)):console.warn("Ignoring non-existent field "+b+" in block "+a.type)};
z.G.io=function(a){for(var b=0,c;c=a.childNodes[b];b++)if("next"==c.nodeName.toLowerCase()){a.removeChild(c);break}};g.Blockly||(g.Blockly={});g.Blockly.Xml||(g.Blockly.Xml={});g.Blockly.Xml.domToText=z.G.fd;g.Blockly.Xml.domToWorkspace=z.G.zf;g.Blockly.Xml.textToDom=z.G.Xc;g.Blockly.Xml.workspaceToDom=z.G.$p;/*

 Visual Blocks Editor

 Copyright 2015 Google Inc.
 https://developers.google.com/blockly/

 Licensed under the Apache License, Version 2.0 (the "License");
 you may not use this file except in compliance with the License.
 You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS,
 WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 See the License for the specific language governing permissions and
 limitations under the License.
*/
function Qf(a){this.l=a}e=Qf.prototype;e.v=null;e.xd=0;e.th=0;e.S=function(){this.v=z.h.C("g",{"class":"blocklyZoom"},null);var a=String(Math.random()).substring(2);Rf(this,a);Sf(this,a);Tf(this,a);return this.v};e.qa=function(a){this.g=20+a;return this.g+110};e.B=function(){this.v&&(this.v.parentNode.removeChild(this.v),this.v=null);this.l=null};
e.position=function(){var a=this.l.$a();a&&(this.l.u?(this.xd=20+L,a.ta==z.Ud&&(this.xd+=a.Rh,this.l.Y&&(this.xd+=a.Ra))):(this.xd=a.sa+a.Ra-32-20-L,a.ta==z.ad&&(this.xd-=a.Rh)),this.th=a.Qa+a.Ya-110-this.g,a.ta==z.Ee&&(this.th-=a.Il),this.v.setAttribute("transform","translate("+this.xd+","+this.th+")"))};
function Rf(a,b){var c=a.l,d=z.h.C("clipPath",{id:"blocklyZoomoutClipPath"+b},a.v);z.h.C("rect",{width:32,height:32,y:77},d);a=z.h.C("image",{width:z.Jb.width,height:z.Jb.height,x:-64,y:-15,"clip-path":"url(#blocklyZoomoutClipPath"+b+")"},a.v);a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c.options.Tc+z.Jb.url);z.K(a,"mousedown",null,function(a){af(c);Uf(c,-1);z.Touch.Dd();a.stopPropagation();a.preventDefault()})}
function Sf(a,b){var c=a.l,d=z.h.C("clipPath",{id:"blocklyZoominClipPath"+b},a.v);z.h.C("rect",{width:32,height:32,y:43},d);a=z.h.C("image",{width:z.Jb.width,height:z.Jb.height,x:-32,y:-49,"clip-path":"url(#blocklyZoominClipPath"+b+")"},a.v);a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c.options.Tc+z.Jb.url);z.K(a,"mousedown",null,function(a){af(c);Uf(c,1);z.Touch.Dd();a.stopPropagation();a.preventDefault()})}
function Tf(a,b){var c=a.l,d=z.h.C("clipPath",{id:"blocklyZoomresetClipPath"+b},a.v);z.h.C("rect",{width:32,height:32},d);a=z.h.C("image",{width:z.Jb.width,height:z.Jb.height,y:-92,"clip-path":"url(#blocklyZoomresetClipPath"+b+")"},a.v);a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c.options.Tc+z.Jb.url);z.K(a,"mousedown",null,function(a){af(c);c.setScale(c.options.zb.Qm);if(c.Ua){var b=c.$a(),d=(b.Xb-b.sa)/2;c.J&&(d-=c.J.ea/2);c.Ua.set(d,(b.Lb-b.Qa)/2)}else console.warn("Tried to scroll a non-scrollable workspace.");
z.Touch.Dd();a.stopPropagation();a.preventDefault()})};/*

 Visual Blocks Editor

 Copyright 2014 Google Inc.
 https://developers.google.com/blockly/

 Licensed under the Apache License, Version 2.0 (the "License");
 you may not use this file except in compliance with the License.
 You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS,
 WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 See the License for the specific language governing permissions and
 limitations under the License.
*/
function Vf(a,b,c){Vf.o.constructor.call(this,a);this.$a=a.$a||Wf;this.we=a.we||Xf;var d=[];d[z.Wa]=new fe;d[z.qf]=new fe;d[z.Xa]=new fe;d[z.Td]=new fe;this.cj=d;b&&(this.Za=b);c&&(this.lf=c);this.Ki=this.lf&&z.h.je();this.Xd=new If(a.lc);this.Dc=this.options.Sl?new jf(a.Sl,a.Rl):null;z.L&&z.L.be&&Yf(this,z.Tk,z.L.be);z.wc&&z.wc.be&&Yf(this,z.rn,z.wc.be);z.Ta&&z.Ta.be&&Yf(this,z.Rk,z.Ta.be)}y(Vf,qd);e=Vf.prototype;e.Bi=null;e.R=!0;e.Jd=!1;e.Mg=!1;e.fk=!0;e.scrollX=0;e.scrollY=0;e.Jp=0;e.Lp=0;
e.Cl=null;e.scale=1;e.bc=null;e.Ua=null;e.fb=null;e.Za=null;e.lf=null;e.Ki=!1;e.ji=!1;e.Jj=null;e.em=null;e.Ph={};e.Ji={};e.hf=null;e.$l=null;e.Lg=!0;function yf(a){if(a.Lg){var b=O(a).getScreenCTM();b&&(a.$l=b.inverse(),a.Lg=!1)}return a.$l}function ke(a,b){var c=0,d=0,f=1;if(z.h.containsNode(a.Da,b)||z.h.containsNode(a.Wc,b))f=a.scale;do{var h=z.h.Pb(b);if(b==a.Da||b==a.Wc)f=1;c+=h.x*f;d+=h.y*f;b=b.parentNode}while(b&&b!=O(a));return new G(c,d)}
e.S=function(a){this.v=z.h.C("g",{"class":"blocklyWorkspace"},null);a&&(this.pc=z.h.C("rect",{height:"100%",width:"100%","class":a},this.v),"blocklyMainBackground"==a&&this.Dc&&(this.pc.style.fill="url(#"+this.Dc.g.id+")"));this.Da=z.h.C("g",{"class":"blocklyBlockCanvas"},this.v);this.Wc=z.h.C("g",{"class":"blocklyBubbleCanvas"},this.v);a=L;if(this.options.So){this.bc=new Ff(this);var b=this.bc.S();this.v.insertBefore(b,this.Da);a=this.bc.qa(a)}this.options.zb&&this.options.zb.controls&&(this.g=new Qf(this),
b=this.g.S(),this.v.appendChild(b),this.g.qa(a));this.Jd||(z.K(this.v,"mousedown",this,this.Ld,!1,!0),this.options.zb&&this.options.zb.Yp&&z.K(this.v,"wheel",this,this.zp));this.options.Vl&&(this.Y=new Zf(this));this.Dc&&kf(this.Dc,this.scale);$f(this);return this.v};
e.B=function(){this.R=!1;this.fb&&this.fb.cancel();Vf.o.B.call(this);this.v&&(this.v.parentNode.removeChild(this.v),this.v=null);this.Wc=this.Da=null;this.Y&&(this.Y.B(),this.Y=null);this.J&&(this.J.B(),this.J=null);this.bc&&(this.bc.B(),this.bc=null);this.Ua&&(this.Ua.B(),this.Ua=null);this.g&&(this.g.B(),this.g=null);this.Xd&&(this.Xd.B(),this.Xd=null);this.Dc&&(this.Dc.B(),this.Dc=null);this.Ji&&(this.Ji=null);this.Ph&&(this.Ph=null);if(!this.options.lc){var a=O(this).parentNode;a&&a.parentNode.removeChild(a)}this.Bi&&
(z.La(this.Bi),this.Bi=null)};e.qm=function(a,b){return new Q(this,a,b)};function ag(a,b){var c={vg:a.options.vg,lc:a,u:a.u,vi:a.options.vi,nd:a.nd,ta:a.options.ta};a.J=null;a.nd?a.J=new bg(c):a.J=new cg(c);a.J.uf=!1;return a.J.S(b)}function Ke(a){a.fk&&a.R&&(a.Ua&&a.Ua.resize(),a.Lg=!0)}e.resize=function(){this.Y&&this.Y.position();this.J&&this.J.position();this.bc&&this.bc.position();this.g&&this.g.position();this.Ua&&this.Ua.resize();this.Lg=!0;$f(this)};
function Ze(a){var b=rc(document);fc(a.em,b)||(a.em=b,a.Lg=!0,$f(a))}function O(a){if(a.w)return a.w;for(var b=a.v;b;){if("svg"==b.tagName)return a.w=b;b=b.parentNode}return null}
e.translate=function(a,b){if(this.Ki&&this.ji)this.lf.Nd(a,b);else{var c="translate("+a+","+b+") scale("+this.scale+")";this.Da.setAttribute("transform",c);this.Wc.setAttribute("transform",c)}if(this.Za){c=this.Za;var d=this.scale;c.gg=d;c.Jc.setAttribute("transform","translate("+a.toFixed(0)+","+b.toFixed(0)+") scale("+d+")")}};
function bf(a){if(a.Ki){a.ji=!1;var b=a.lf.ai();a.lf.pg(a.v);b="translate("+b.x+","+b.y+") scale("+a.scale+")";a.Da.setAttribute("transform",b);a.Wc.setAttribute("transform",b)}}
function Te(a){if(a.Ki&&!a.ji){a.ji=!0;var b=a.Da.previousSibling,c=parseInt(O(a).getAttribute("width"),10),d=parseInt(O(a).getAttribute("height"),10),f=z.h.Pb(a.Da),h=a.lf,k=a.Da,l=a.Wc,m=a.scale;if(h.rb.childNodes.length)throw Error("Already dragging a block.");h.Uc=b;k.setAttribute("transform","translate(0, 0) scale("+m+")");l.setAttribute("transform","translate(0, 0) scale("+m+")");h.rb.setAttribute("width",c);h.rb.setAttribute("height",d);h.rb.appendChild(k);h.rb.appendChild(l);h.rb.style.display=
"block";a.lf.Nd(f.x,f.y)}}e.jc=function(){var a=this.$a();return a?a.sa/this.scale:0};e.ja=function(a){this.Ua&&this.Ua.af(a);(this.J||this.Y&&this.Y.J)&&(this.J?this.J:this.Y?this.Y.J:null).af(a);O(this).style.display=a?"block":"none";this.Y&&(this.Y.Ab.style.display=a?"block":"none");a?(this.ba(),this.Y&&this.Y.position()):z.Eb(!0)};e.ba=function(){for(var a=fd(this),b=a.length-1;0<=b;b--)a[b].ba(!1)};
function dg(a){var b=z.qg;if(a.R&&!(b.getElementsByTagName("block").length>=vd(a)))if(a.fb&&a.fb.cancel(),"comment"==b.tagName.toLowerCase()){z.i.disable();try{var c=Me(b,a),d=parseInt(b.getAttribute("x"),10),f=parseInt(b.getAttribute("y"),10);isNaN(d)||isNaN(f)||(a.u&&(d=-d),c.moveBy(d+50,f+50))}finally{z.i.enable()}c.select()}else{z.i.disable();try{var h=z.G.yf(b,a),k=parseInt(b.getAttribute("x"),10),l=parseInt(b.getAttribute("y"),10);if(!isNaN(k)&&!isNaN(l)){a.u&&(k=-k);do{b=!1;var m=fd(a);c=0;
for(var n;n=m[c];c++){var q=n.ia();if(1>=Math.abs(k-q.x)&&1>=Math.abs(l-q.y)){b=!0;break}}if(!b){var r=h.hd(!1);c=0;for(var u;u=r[c];c++)if(u.closest(z.Kc,new G(k,l)).connection){b=!0;break}}b&&(k=a.u?k-z.Kc:k+z.Kc,l+=2*z.Kc)}while(b);h.moveBy(k,l)}}finally{z.i.enable()}z.i.isEnabled()&&!h.Pa&&z.i.O(new z.i.rh(h));h.select()}}function eg(a){if((a=a.Jd?a.hf:a)&&!a.fb&&a.Y&&a.Y.J){a=a.Y;var b=a.Ic.ld();b&&b.cd&&a.J.show(b.cd)}}e.Ze=function(a,b){Vf.o.Ze.call(this,a,b);eg(this)};
e.Je=function(a){Vf.o.Je.call(this,a);eg(this)};e.Ac=function(a,b,c){a=Vf.o.Ac.call(this,a,b,c);eg(this);return a};function $f(a){a.bc&&a.v.parentNode?a.m=a.bc.Bf():a.m=null;a.J?a.j=a.J.Bf():a.Y?a.j=a.Y.Bf():a.j=null}function Be(a,b){b=new G(b.clientX,b.clientY);return a.m&&a.m.contains(b)?z.Pi:a.j&&a.j.contains(b)?z.Mk:z.Lk}e.Ld=function(a){var b=this.jd(a);b&&ef(b,a,this)};e.Gi=function(a,b){a=z.h.Tg(a,O(this),yf(this));a.x/=this.scale;a.y/=this.scale;this.Cl=hc(b,a)};
function Hd(a,b){b=z.h.Tg(b,O(a),yf(a));b.x/=a.scale;b.y/=a.scale;return ic(a.Cl,b)}e.tb=function(){return null!=this.fb&&this.fb.tb()};e.zp=function(a){this.fb&&this.fb.cancel();var b=-a.deltaY/50,c=z.h.Tg(a,O(this),yf(this));Cf(this,c.x,c.y,b);a.preventDefault()};
function Of(a){var b=sd(a,!1);a=td(a,!1);b=b.concat(a);if(!b.length)return{x:0,y:0,width:0,height:0};a=b[0].sj();for(var c=1;c<b.length;c++){var d=b[c].sj();d.rc.x<a.rc.x&&(a.rc.x=d.rc.x);d.Mc.x>a.Mc.x&&(a.Mc.x=d.Mc.x);d.rc.y<a.rc.y&&(a.rc.y=d.rc.y);d.Mc.y>a.Mc.y&&(a.Mc.y=d.Mc.y)}return{x:a.rc.x,y:a.rc.y,width:a.Mc.x-a.rc.x,height:a.Mc.y-a.rc.y}}
e.Kn=function(){this.nb(!1);z.i.W(!0);for(var a=sd(this,!0),b=0,c=0,d;d=a[c];c++){var f=d.ia();d.moveBy(-f.x,b-f.y);fg(d);b=d.ia().y+d.lb().height+25}z.i.W(!1);this.nb(!0)};
e.Yf=function(a){function b(a){if(a.Fb())u=u.concat(I(a,!1));else{a=a.ce(!1);for(var c=0;c<a.length;c++)b(a[c])}}function c(){z.i.W(h);var a=u.shift();a&&(a.s?(a.B(!1,!0),setTimeout(c,10)):c());z.i.W(!1)}if(!this.options.readOnly&&!this.Jd){var d=[],f=sd(this,!0),h=z.h.gd(),k=this,l={};l.text=z.U.UNDO;l.enabled=0<this.jf.length;l.kb=this.Ck.bind(this,!1);d.push(l);l={};l.text=z.U.REDO;l.enabled=0<this.Xg.length;l.kb=this.Ck.bind(this,!0);d.push(l);this.Ua&&(l={},l.text=z.U.CLEAN_UP,l.enabled=1<f.length,
l.kb=this.Kn.bind(this),d.push(l));if(this.options.collapse){for(var m=l=!1,n=0;n<f.length;n++)for(var q=f[n];q;)q.isCollapsed()?l=!0:m=!0,q=ad(q);var r=function(a){for(var b=0,c=0;c<f.length;c++)for(var d=f[c];d;)setTimeout(d.$e.bind(d,a),b),d=ad(d),b+=10};m={enabled:m};m.text=z.U.COLLAPSE_ALL;m.kb=function(){r(!0)};d.push(m);l={enabled:l};l.text=z.U.EXPAND_ALL;l.kb=function(){r(!1)};d.push(l)}var u=[];for(n=0;n<f.length;n++)b(f[n]);l={text:1==u.length?z.U.DELETE_BLOCK:z.U.DELETE_X_BLOCKS.replace("%1",
String(u.length)),enabled:0<u.length,kb:function(){k.fb&&k.fb.cancel();2>u.length?c():z.confirm(z.U.DELETE_ALL_BLOCKS.replace("%1",u.length),function(a){a&&c()})}};d.push(l);z.fa.show(a,d,this.u)}};
e.Vm=function(a){if(a=nf(a)){if(!this.options.pd)throw Error("Existing toolbox is null.  Can't create new toolbox.");if(a.getElementsByTagName("category").length){if(!this.Y)throw Error("Existing toolbox has no categories.  Can't change mode.");this.options.pd=a;this.Y.xi(a);gg(this.Y)}else{if(!this.J)throw Error("Existing toolbox has categories.  Can't change mode.");this.options.pd=a;this.J.show(a.childNodes)}}else if(this.options.pd)throw Error("Can't nullify an existing toolbox.");};
function af(a){if(a.options.lc)af(a.options.lc);else{z.ne=a;document.activeElement&&document.activeElement.blur();try{O(a).focus()}catch(b){try{O(a).parentNode.setActive()}catch(c){O(a).parentNode.focus()}}}}
function Cf(a,b,c,d){var f=a.options.zb.Dp,h=a.$a(),k=O(a).createSVGPoint();k.x=b;k.y=c;k=k.matrixTransform(a.Da.getCTM().inverse());b=k.x;c=k.y;k=a.Da;f=Math.pow(f,d);d=a.scale*f;d>a.options.zb.Rg?f=a.options.zb.Rg/a.scale:d<a.options.zb.Sg&&(f=a.options.zb.Sg/a.scale);a.scale!=d&&(a.Ua&&(b=k.getCTM().translate(b*(1-f),c*(1-f)).scale(f),a.scrollX=b.e-h.Ra,a.scrollY=b.f-h.Ya),a.setScale(d))}function Uf(a,b){var c=a.$a();Cf(a,c.sa/2,c.Qa/2,b)}
e.setScale=function(a){this.options.zb.Rg&&a>this.options.zb.Rg?a=this.options.zb.Rg:this.options.zb.Sg&&a<this.options.zb.Sg&&(a=this.options.zb.Sg);this.scale=a;this.Dc&&kf(this.Dc,this.scale);this.Ua?this.Ua.resize():this.translate(this.scrollX,this.scrollY);z.Eb(!1);this.J&&this.J.$j()};function hg(a){var b=0,c=0;a&&(b=a.jc(),c=a.Df());return{width:b,height:c}}
function ig(a){var b=Of(a),c=a.scale;a=b.width*c;var d=b.height*c,f=b.x*c;b=b.y*c;return{left:f,top:b,right:f+a,bottom:b+d,width:a,height:d}}
function Wf(){var a=hg(this.Y),b=hg(this.J),c=z.Sm(O(this));if(this.Y)if(this.ta==z.Vd||this.ta==z.Ee)c.height-=a.height;else if(this.ta==z.Ud||this.ta==z.ad)c.width-=a.width;if(this.Ua){var d=ig(this);var f=c.width,h=c.height,k=f/2,l=h/2,m=Math.min(d.left-k,d.right-f),n=Math.min(d.top-l,d.bottom-h);d={left:m,top:n,height:Math.max(d.bottom+l,d.top+h)-n,width:Math.max(d.right+k,d.left+f)-m}}else d=ig(this);f=0;this.Y&&this.ta==z.Ud&&(f=a.width);h=0;this.Y&&this.ta==z.Vd&&(h=a.height);return{Lb:d.height,
Xb:d.width,Wb:d.top,fc:d.left,Qa:c.height,sa:c.width,vd:-this.scrollY,eb:-this.scrollX,Ya:h,Ra:f,Wt:a.width,Vt:a.height,Rh:b.width,Il:b.height,ta:this.ta}}function Xf(a){if(!this.Ua)throw Error("Attempt to set top level workspace scroll without scrollbars.");var b=this.$a();"number"==typeof a.x&&(this.scrollX=-b.Xb*a.x-b.fc);"number"==typeof a.y&&(this.scrollY=-b.Lb*a.y-b.Wb);a=this.scrollX+b.Ra;b=this.scrollY+b.Ya;this.translate(a,b);this.Dc&&this.Dc.moveTo(a,b)}
e.nb=function(a){var b=!this.fk&&a;this.fk=a;b&&Ke(this)};e.clear=function(){this.nb(!1);Vf.o.clear.call(this);this.nb(!0)};function Hf(a,b,c){if("function"!=typeof c)throw TypeError("Button callbacks must be functions.");a.Ph[b]=c}function jg(a,b){return(a=a.Ph[b])?a:null}function Yf(a,b,c){if("function"!=typeof c)throw TypeError("Toolbox category callbacks must be functions.");a.Ji[b]=c}function kg(a,b){return(a=a.Ji[b])?a:null}
e.jd=function(a){var b="mousedown"==a.type||"touchstart"==a.type||"pointerdown"==a.type,c=this.fb;return c?b&&c.Pe?(console.warn("tried to start the same gesture twice"),c.cancel(),null):c:b?this.fb=new zf(a,this):null};Vf.prototype.setVisible=Vf.prototype.ja;function lg(a){lg.o.constructor.call(this,null);this.F=a}y(lg,Qd);e=lg.prototype;e.dg=0;e.nh=0;
e.nj=function(a){z.h.C("rect",{"class":"blocklyIconShape",rx:"4",ry:"4",height:"16",width:"16"},a);z.h.C("path",{"class":"blocklyIconSymbol",d:"m4.203,7.296 0,1.368 -0.92,0.677 -0.11,0.41 0.9,1.559 0.41,0.11 1.043,-0.457 1.187,0.683 0.127,1.134 0.3,0.3 1.8,0 0.3,-0.299 0.127,-1.138 1.185,-0.682 1.046,0.458 0.409,-0.11 0.9,-1.559 -0.11,-0.41 -0.92,-0.677 0,-1.366 0.92,-0.677 0.11,-0.41 -0.9,-1.559 -0.409,-0.109 -1.046,0.458 -1.185,-0.682 -0.127,-1.138 -0.3,-0.299 -1.8,0 -0.3,0.3 -0.126,1.135 -1.187,0.682 -1.043,-0.457 -0.41,0.11 -0.899,1.559 0.108,0.409z"},a);
z.h.C("circle",{"class":"blocklyIconShape",r:"2.7",cx:"8",cy:"8"},a)};e.Gj=function(a){Ud(this.N)&&Qd.prototype.Gj.call(this,a)};
e.sg=function(){this.m=z.h.C("svg",{x:K,y:K},null);if(this.F.length)for(var a=H("xml"),b=0,c;c=this.F[b];b++)a.appendChild(H("block",{type:c}));else a=null;this.l=new Vf({pd:a,lc:this.N.s,Tc:this.N.s.options.Tc,u:this.N.u,ta:this.N.u?z.ad:z.Ud,nd:!1,$a:this.yo.bind(this),we:null});this.l.Mg=!0;a=ag(this.l,"g");b=this.l.S("blocklyMutatorBackground");b.insertBefore(a,this.l.Da);this.m.appendChild(b);return this.m};
e.Qd=function(){this.N.Zb||(Ud(this.N)?this.g&&z.h.ib(this.g,"blocklyIconGroupReadonly"):(this.ja(!1),this.g&&z.h.Ma(this.g,"blocklyIconGroupReadonly")));Qd.prototype.Qd.call(this)};
e.zi=function(){var a=2*K,b=this.l.Da.getBBox(),c;this.N.u?c=-b.x:c=b.width+b.x;b=b.height+3*a;if(this.l.J){var d=this.l.J.Gd();b=Math.max(b,d.Lb+20)}c+=3*a;if(Math.abs(this.dg-c)>a||Math.abs(this.nh-b)>a)this.dg=c,this.nh=b,this.Ja.te(c+a,b+a),this.m.setAttribute("width",this.dg),this.m.setAttribute("height",this.nh);this.N.u&&this.l.Da.setAttribute("transform","translate("+this.dg+",0)");this.l.resize()};
e.ja=function(a){if(a!=this.aa())if(z.i.O(new J(this.N,"mutatorOpen",!a,a)),a){this.Ja=new wd(this.N.s,this.sg(),this.N.td,this.Qe,null,null);Ed(this.Ja,this.N.id);if(a=this.l.options.pd)this.l.J.qa(this.l),this.l.J.show(a.childNodes);this.j=this.N.Jh(this.l);a=I(this.j,!1);for(var b=0,c;c=a[b];b++)c.ba();this.j.bf(!1);this.j.lk(!1);this.l.J?(a=2*this.l.J.ga,b=this.l.J.ea+a):b=a=16;this.N.u&&(b=-b);this.j.moveBy(b,a);if(this.N.Jm){var d=this;this.N.Jm(this.j);this.w=function(){d.N.Jm(d.j)};this.N.s.xc(this.w)}this.zi();
this.l.xc(this.Zp.bind(this));this.Pd()}else this.m=null,this.l.B(),this.j=this.l=null,this.Ja.B(),this.Ja=null,this.nh=this.dg=0,this.w&&(this.N.s.qe(this.w),this.w=null)};
e.Zp=function(){if(!this.l.tb())for(var a=sd(this.l,!1),b=0,c;c=a[b];b++){var d=c.ia(),f=c.lb();20>d.y+f.height&&c.moveBy(0,20-f.height-d.y)}if(this.j.s==this.l){z.i.W(!0);c=this.N;a=(a=c.Fc())&&z.G.fd(a);b=c.R;c.R=!1;c.Fh(this.j);c.R=b;c.he();b=(b=c.Fc())&&z.G.fd(b);if(a!=b){z.i.O(new z.i.Tb(c,"mutation",null,a,b));var h=z.i.Ob();setTimeout(function(){z.i.W(h);c.Kb();z.i.W(!1)},z.qh)}c.R&&c.ba();this.l.tb()||this.zi();z.i.W(!1)}};e.yo=function(){return{Qa:this.nh,sa:this.dg,Ya:0,Ra:0}};
e.B=function(){this.N.Kd=null;Qd.prototype.B.call(this)};g.Blockly||(g.Blockly={});g.Blockly.Mutator||(g.Blockly.Mutator={});g.Blockly.Mutator.reconnect=function(a,b,c){if(!a||!a.A.s)return!1;c=Od(b,c).connection;var d=M(a);return d&&d!=b||c.cb==a?!1:(c.isConnected()&&Xd(c),Pd(c,a),!0)};z.ka={};z.ka.Mi={};z.ka.register=function(a,b){if("string"!=typeof a||""==a.trim())throw Error('Error: Invalid extension name "'+a+'"');if(z.ka.Mi[a])throw Error('Error: Extension "'+a+'" is already registered.');if("function"!=typeof b)throw Error('Error: Extension "'+a+'" must be a function');z.ka.Mi[a]=b};z.ka.Pt=function(a,b){if(!b||"object"!=typeof b)throw Error('Error: Mixin "'+a+'" must be a object');z.ka.register(a,function(){mg(this,b)})};
z.ka.Qt=function(a,b,c,d){var f='Error when registering mutator "'+a+'": ';z.ka.cl(f,b.ae,"domToMutation");z.ka.cl(f,b.Fc,"mutationToDom");var h=z.ka.el(b,f);if(c&&"function"!=typeof c)throw Error('Extension "'+a+'" is not a function');z.ka.register(a,function(){h&&this.Lm(new lg(d));mg(this,b);c&&c.apply(this)})};
z.ka.apply=function(a,b,c){var d=z.ka.Mi[a];if("function"!=typeof d)throw Error('Error: Extension "'+a+'" not found.');if(c)z.ka.In(a,b);else var f=z.ka.uj(b);d.apply(b);if(c)z.ka.Gn('Error after applying mutator "'+a+'": ',b);else if(!z.ka.cp(f,b))throw Error('Error when applying extension "'+a+'": mutation properties changed when applying a non-mutator extension.');};
z.ka.cl=function(a,b,c){if(!b)throw Error(a+'missing required property "'+c+'"');if("function"!=typeof b)throw Error(a+'" required property "'+c+'" must be a function');};z.ka.In=function(a,b){if(z.ka.uj(b).length)throw Error('Error: tried to apply mutation "'+a+'" to a block that already has mutator functions.  Block id: '+b.id);};
z.ka.el=function(a,b){var c=void 0!==a.Fh,d=void 0!==a.Jh;if(c&&d){if("function"!=typeof a.Fh)throw Error(b+"compose must be a function.");if("function"!=typeof a.Jh)throw Error(b+"decompose must be a function.");return!0}if(c||d)throw Error(b+'Must have both or neither of "compose" and "decompose"');return!1};
z.ka.Gn=function(a,b){if("function"!=typeof b.ae)throw Error(a+'Applying a mutator didn\'t add "domToMutation"');if("function"!=typeof b.Fc)throw Error(a+'Applying a mutator didn\'t add "mutationToDom"');z.ka.el(b,a)};z.ka.uj=function(a){var b=[];void 0!==a.ae&&b.push(a.ae);void 0!==a.Fc&&b.push(a.Fc);void 0!==a.Fh&&b.push(a.Fh);void 0!==a.Jh&&b.push(a.Jh);return b};z.ka.cp=function(a,b){b=z.ka.uj(b);if(b.length!=a.length)return!1;for(var c=0;c<b.length;c++)if(a[c]!=b[c])return!1;return!0};
z.ka.xt=function(a,b){var c=[];"object"==typeof document&&z.h.Im(function(){for(var a in b)z.h.dl(b[a])});return function(){this.type&&-1===c.indexOf(this.type)&&(z.ka.Hn(this,a,b),c.push(this.type));this.xe(function(){var d=id(this,a),f=b[d];null==f?-1===c.indexOf(this.type)&&(d="No tooltip mapping for value "+d+" of field "+a,null!=this.type&&(d+=" of block type "+this.type),console.warn(d+".")):f=z.h.vb(f);return f}.bind(this))}};
z.ka.Hn=function(a,b,c){var d=Jd(a,b);if("function"!=typeof d.Te){d=ng(d);for(var f=0;f<d.length;++f){var h=d[f][1];null==c[h]&&console.warn("No tooltip mapping for value "+h+" of field "+b+" of block type "+a.type)}}};z.ka.yt=function(a,b){"object"==typeof document&&z.h.Im(function(){z.h.dl(a)});return function(){this.xe(function(){var c=Jd(this,b);return z.h.vb(a).replace("%1",c?c.mb():"")}.bind(this))}};
z.ka.qo=function(){this.Rp=this.qc;this.xe(function(){var a=this.getParent();return a&&og(a)&&a.qc||this.Rp}.bind(this))};z.ka.register("parent_tooltip_when_inline",z.ka.qo);var pg={};function qg(a,b){var c=mc(a);return c.defaultView&&c.defaultView.getComputedStyle&&(a=c.defaultView.getComputedStyle(a,null))?a[b]||a.getPropertyValue(b)||"":""}function rg(a,b){return qg(a,b)||(a.currentStyle?a.currentStyle[b]:null)||a.style&&a.style[b]}function Hc(){var a=document,b=a.body;a=a.documentElement;return new G(b.scrollLeft||a.scrollLeft,b.scrollTop||a.scrollTop)}
function sg(a){try{var b=a.getBoundingClientRect()}catch(c){return{left:0,top:0,right:0,bottom:0}}C&&a.ownerDocument.body&&(a=a.ownerDocument,b.left-=a.documentElement.clientLeft+a.body.clientLeft,b.top-=a.documentElement.clientTop+a.body.clientTop);return b}function tg(a){var b=mc(a),c=new G(0,0);var d=b?mc(b):document;d=!C||9<=Number(ob)||"CSS1Compat"==kc(d).g.compatMode?d.documentElement:d.body;if(a==d)return c;a=sg(a);b=rc(kc(b).g);c.x=a.left+b.x;c.y=a.top+b.y;return c}
function ug(a){var b=vg;if("none"!=rg(a,"display"))return b(a);var c=a.style,d=c.display,f=c.visibility,h=c.position;c.visibility="hidden";c.position="absolute";c.display="inline";a=b(a);c.display=d;c.position=h;c.visibility=f;return a}function vg(a){var b=a.offsetWidth,c=a.offsetHeight,d=F&&!b&&!c;return(void 0===b||d)&&a.getBoundingClientRect?(a=sg(a),new jc(a.right-a.left,a.bottom-a.top)):new jc(b,c)}function wg(a,b){a.style.display=b?"":"none"}
var xg=E?"MozUserSelect":F||cb?"WebkitUserSelect":null;function yg(a,b){b=b?null:a.getElementsByTagName("*");if(xg){var c="none";a.style&&(a.style[xg]=c);if(b){a=0;for(var d;d=b[a];a++)d.style&&(d.style[xg]=c)}}else if(C||bb)if(c="on",a.setAttribute("unselectable",c),b)for(a=0;d=b[a];a++)d.setAttribute("unselectable",c)}var zg={thin:2,medium:4,thick:6};
function Ag(a,b){if("none"==(a.currentStyle?a.currentStyle[b+"Style"]:null))return 0;var c=a.currentStyle?a.currentStyle[b+"Width"]:null;if(c in zg)a=zg[c];else if(/^\d+px?$/.test(c))a=parseInt(c,10);else{b=a.style.left;var d=a.runtimeStyle.left;a.runtimeStyle.left=a.currentStyle.left;a.style.left=c;c=a.style.pixelLeft;a.style.left=b;a.runtimeStyle.left=d;a=+c}return a};function Bg(a,b){this.la=new jc(0,25);this.xa(a);this.Li=b}var Cg={};function Dg(a,b){if("string"!=typeof a||""==a.trim())throw Error('Invalid field type "'+a+'"');if(!b||"function"!=typeof b.ca)throw Error('Field "'+b+'" must have a fromJson function');Cg[a]=b}var Eg=null,Fg=0;e=Bg.prototype;e.name=void 0;e.im=50;e.oa="";e.A=null;e.Ea=!0;e.Li=null;e.Be=!0;e.uk=function(a){if(this.A)throw Error("Field already bound to a block.");this.A=a};
e.qa=function(){this.va||(this.va=z.h.C("g",{},null),this.Ea||(this.va.style.display="none"),this.zc=z.h.C("rect",{rx:4,ry:4,x:-5,y:0,height:16},this.va),this.na=z.h.C("text",{"class":"blocklyText",y:this.la.height-12.5},this.va),this.Qd(),this.A.$().appendChild(this.va),this.si=z.K(this.va,"mousedown",this,this.Ld),this.rd())};e.Re=function(){};
e.B=function(){this.si&&(z.La(this.si),this.si=null);this.A=null;this.va&&(this.va.parentNode.removeChild(this.va),this.va=null);this.Li=this.zc=this.na=null};e.Qd=function(){var a=this.va;this.Be&&a&&(Ud(this.A)?(z.h.Ma(a,"blocklyEditableText"),z.h.ib(a,"blocklyNonEditableText"),this.va.style.cursor=this.vh):(z.h.Ma(a,"blocklyNonEditableText"),z.h.ib(a,"blocklyEditableText"),this.va.style.cursor=""))};e.aa=function(){return this.Ea};
e.ja=function(a){if(this.Ea!=a){this.Ea=a;var b=this.$();b&&(b.style.display=a?"block":"none",this.rd())}};e.$i=function(a){return a};function Kd(a,b){var c=a.$i(b);if(null===c)return null;void 0!==c&&(b=c);if(c=a.Li){a=c.call(a,b);if(null===a)return null;void 0!==a&&(b=a)}return b}e.$=function(){return this.va};e.rd=function(){this.Ea?(this.na.textContent=Gg(this),this.mh()):this.la.width=0};e.mh=function(){var a=Hg(this.na);this.zc&&this.zc.setAttribute("width",a+10);this.la.width=a};
function Hg(a){var b=a.textContent+"\n"+a.className.baseVal,c;if(Eg&&(c=Eg[b]))return c;try{c=C||cb?a.getBBox().width:a.getComputedTextLength()}catch(d){return 8*a.textContent.length}Eg&&(Eg[b]=c);return c}function Mf(){Fg++;Eg||(Eg={})}function Nf(){Fg--;Fg||(Eg=null)}e.Hd=function(){this.la.width||this.rd();return this.la};function Ig(a){var b=a.zc.getBBox(),c=b.height*a.A.s.scale;b=b.width*a.A.s.scale;a=tg(a.zc);return{top:a.y,bottom:a.y+c,left:a.x,right:a.x+b}}
function Gg(a){var b=a.oa;if(!b)return"\u00a0";b.length>a.im&&(b=b.substring(0,a.im-2)+"\u2026");b=b.replace(/\s/g,"\u00a0");a.A.u&&(b+="\u200f");return b}e.mb=function(){return this.oa};e.ob=function(a){null!==a&&(a=String(a),a!==this.oa&&(this.oa=a,this.yg()))};e.yg=function(){this.la.width=0;this.A&&this.A.R&&(this.A.ba(),this.A.Kb())};e.ab=function(){return this.mb()};
e.xa=function(a){if(null!==a){var b=this.ab();b!=a&&(this.A&&z.i.isEnabled()&&z.i.O(new z.i.Tb(this.A,"field",this.name,b,a)),this.ob(a))}};e.Ld=function(a){if(this.A&&this.A.s&&(a=this.A.s.jd(a))){if(a.Pe)throw Error("Tried to call gesture.setStartField, but the gesture had already been started.");a.ef||(a.ef=this)}};e.xe=function(){};e.Tf=function(){return!1};function Jg(a,b){this.la=new jc(0,17.5);this.fl=b;this.xa(a)}y(Jg,Bg);Jg.ca=function(a){var b=z.h.vb(a.text);return new Jg(b,a["class"])};e=Jg.prototype;e.Be=!1;e.qa=function(){this.na||(this.na=z.h.C("text",{"class":"blocklyText",y:this.la.height-5},null),this.fl&&z.h.Ma(this.na,this.fl),this.Ea||(this.na.style.display="none"),this.A.$().appendChild(this.na),this.na.qc=this.A,z.D.Fe(this.na),this.rd())};e.B=function(){this.na&&(this.na.parentNode.removeChild(this.na),this.na=null)};e.$=function(){return this.na};
e.xe=function(a){this.na.qc=a};Dg("field_label",Jg);function Kg(a,b,c,d){if(a!=z.Zc&&!b)throw Error("Value inputs and statement inputs must have non-empty name.");this.type=a;this.name=b;this.A=c;this.connection=d;this.Ia=[]}e=Kg.prototype;e.align=z.eg;e.Ea=!0;function Lg(a,b,c,d){if(0>b||b>a.Ia.length)throw Error("index "+b+" out of bounds.");if(!c&&!d)return b;"string"==typeof c&&(c=new Jg(c));c.uk(a.A);a.A.R&&c.qa();c.name=d;c.Zj&&(b=Lg(a,b,c.Zj));a.Ia.splice(b,0,c);++b;c.yk&&(b=Lg(a,b,c.yk));a.A.R&&(a.A.ba(),a.A.Kb());return b}e.aa=function(){return this.Ea};
e.ja=function(a){var b=[];if(this.Ea==a)return b;for(var c=(this.Ea=a)?"block":"none",d=0,f;f=this.Ia[d];d++)f.ja(a);if(this.connection){if(a)b=se(this.connection);else if(d=this.connection,te(d,!0),d.cb)for(d=I(M(d),!1),f=0;f<d.length;f++){for(var h=d[f],k=h.hd(!0),l=0;l<k.length;l++)te(k[l],!0);h=ye(h);for(l=0;l<h.length;l++)h[l].ja(!1)}if(d=M(this.connection))d.$().style.display=c,a||(d.R=!1)}return b};e.Wf=function(a){if(!this.connection)throw Error("This input does not have a connection.");this.connection.Wf(a)};
e.qa=function(){if(this.A.s.R)for(var a=0;a<this.Ia.length;a++)this.Ia[a].qa()};e.B=function(){for(var a=0,b;b=this.Ia[a];a++)b.B();this.connection&&this.connection.B();this.A=null};function Vd(a){Vd.o.constructor.call(this,a);Rd(this);this.oa={}}y(Vd,Qd);e=Vd.prototype;e.il=!1;e.nj=function(a){z.h.C("path",{"class":"blocklyIconShape",d:"M2,15Q-1,15 0.5,12L6.5,1.7Q8,-1 9.5,1.7L15.5,12Q17,15 14,15z"},a);z.h.C("path",{"class":"blocklyIconSymbol",d:"m7,4.8v3.16l0.27,2.27h1.46l0.27,-2.27v-3.16z"},a);z.h.C("rect",{"class":"blocklyIconSymbol",x:"7",y:"11",height:"2",width:"2"},a)};
e.ja=function(a){if(a!=this.aa())if(z.i.O(new J(this.N,"warningOpen",!a,a)),a){var b=this.mb();a=z.h.C("text",{"class":"blocklyText blocklyBubbleText",y:K},null);b=b.split("\n");for(var c=0;c<b.length;c++)z.h.C("tspan",{dy:"1em",x:K},a).appendChild(document.createTextNode(b[c]));this.Ja=new wd(this.N.s,a,this.N.td,this.Qe,null,null);Ed(this.Ja,this.N.id);if(this.N.u){b=a.getBBox().width;c=0;for(var d;d=a.childNodes[c];c++)d.setAttribute("text-anchor","end"),d.setAttribute("x",b+K)}this.Pd();a=this.Ja.Le();
this.Ja.te(a.width,a.height)}else this.Ja.B(),this.Ja=null};e.ob=function(a,b){this.oa[b]!=a&&(a?this.oa[b]=a:delete this.oa[b],this.aa()&&(this.ja(!1),this.ja(!0)))};e.mb=function(){var a=[],b;for(b in this.oa)a.push(this.oa[b]);return a.join("\n")};e.B=function(){this.N.sc=null;Qd.prototype.B.call(this)};function ud(a,b,c){"undefined"!==typeof Mg.prototype[b]&&console.warn('FUTURE ERROR: Block prototypeName "'+b+'" conflicts with Blockly.Generator members. Registering Generators for this block type will incur errors.\nThis name will be DISALLOWED (throwing an error) in future versions of Blockly.');this.id=c&&!$c(a,c)?c:z.h.gd();a.Xi[this.id]=this;this.X=this.T=this.V=null;this.da=[];this.ie=void 0;this.disabled=!1;this.qc="";this.contextMenu=!0;this.qd=null;this.Bd=[];this.El=this.Ug=this.ug=!0;
this.dd=this.Pa=!1;this.Ga=null;this.tc=new G(0,0);this.s=a;this.Zb=a.Jd;this.u=a.u;if(b){this.type=b;c=z.ec[b];if(!c||"object"!=typeof c)throw TypeError("Unknown block type: "+b);for(var d in c)this[d]=c[d]}a.$f.push(this);"function"==typeof this.qa&&this.qa();this.Vo=this.ie;if(z.i.isEnabled()){(a=z.i.Ob())||z.i.W(!0);try{z.i.O(new z.i.rh(this))}finally{a||z.i.W(!1)}}if("function"==typeof this.onchange){if((a=this.onchange)&&"function"!=typeof a)throw Error("onchange must be a function.");this.Vg&&
this.s.qe(this.Vg);if(this.onchange=a)this.Vg=a.bind(this),this.s.xc(this.Vg)}}e=ud.prototype;e.data=null;e.ed="#000000";
e.B=function(a){if(this.s){this.Vg&&this.s.qe(this.Vg);Nd(this,a);z.i.isEnabled()&&z.i.O(new z.i.$m(this));z.i.disable();try{this.s&&(rd(this.s,this),delete this.s.Xi[this.id],this.s=null);z.selected==this&&(z.selected=null);for(var b=this.Bd.length-1;0<=b;b--)this.Bd[b].B(!1);b=0;for(var c;c=this.da[b];b++)c.B();this.da.length=0;var d=this.hd(!0);for(b=0;b<d.length;b++){var f=d[b];f.isConnected()&&Xd(f);d[b].B()}}finally{z.i.enable()}}};
e.Re=function(){for(var a=0,b;b=this.da[a];a++)for(var c=0,d;d=b.Ia[c];c++)d.Re&&d.Re()};function Nd(a,b){if(a.V){var c=null;a.V.isConnected()&&(c=a.V.cb,Xd(a.V));if(c&&b){a:{b=!1;for(var d=0;d<a.da.length;d++){var f=a.da[d].connection;if(f&&f.type==z.Wa){if(b){a=null;break a}b=f}}a=b}a&&a.isConnected()&&(a=a.cb,Zd(a,c)&&(Xd(a),Pd(c,a)))}}else a.X&&(c=null,a.X.isConnected()&&(c=a.X.cb,Xd(a.X)),d=ad(a),b&&d&&(a=a.T.cb,Xd(a),c&&Zd(c,a)&&Pd(c,a)))}
e.hd=function(){var a=[];this.V&&a.push(this.V);this.X&&a.push(this.X);this.T&&a.push(this.T);for(var b=0,c;c=this.da[b];b++)c.connection&&a.push(c.connection);return a};e.Kb=function(){console.warn("Not expected to reach this bumpNeighbours_ function. The BlockSvg function for bumpNeighbours_ was expected to be called instead.")};e.getParent=function(){return this.qd};function Ng(a){do{var b=a;a=a.getParent();if(!a)return null}while(ad(a)==b);return a}function ad(a){return a.T&&M(a.T)}
function ne(a){var b=a;do a=b,b=a.qd;while(b);return a}e.ce=function(a){if(!a)return this.Bd;a=[];for(var b=0,c;c=this.da[b];b++)c.connection&&(c=M(c.connection))&&a.push(c);(b=ad(this))&&a.push(b);return a};e.cf=function(a){if(a!=this.qd){if(this.qd){z.h.Ah(this.qd.Bd,this);if(this.X&&this.X.isConnected())throw Error("Still connected to previous block.");if(this.V&&this.V.isConnected())throw Error("Still connected to parent block.");this.qd=null}else rd(this.s,this);(this.qd=a)?a.Bd.push(this):this.s.$f.push(this)}};
function I(a,b){var c=[a];a=a.ce(b);for(var d,f=0;d=a[f];f++)c.push.apply(c,I(d,b));return c}e.Fb=function(){return this.ug&&!this.Pa&&!(this.s&&this.s.options.readOnly)};e.lk=function(a){this.ug=a};e.Qc=function(){return this.Ug&&!this.Pa&&!(this.s&&this.s.options.readOnly)};e.bf=function(a){this.Ug=a};e.tk=function(a){this.Pa=a};function Ud(a){return a.El&&!(a.s&&a.s.options.readOnly)}e.mk=function(a){this.El=a;a=0;for(var b;b=this.da[a];a++)for(var c=0,d;d=b.Ia[c];c++)d.Qd()};
function Pf(a,b){if(!b&&a.isCollapsed()){if(a.V&&te(a.V,b),a.X&&te(a.X,b),a.T){te(a.T,b);var c=M(a.T);c&&Pf(c,b)}}else{a=a.hd(!0);for(var d=0;c=a[d];d++)te(c,b),ce(c)&&(c=M(c))&&Pf(c,b)}}e.xe=function(a){this.qc=a};e.Zg=function(a){var b="string"==typeof a?z.h.vb(a):a,c=Number(b);if(!isNaN(c)&&0<=c&&360>=c)this.ed=z.Yl(c);else if("string"==typeof b&&/^#[0-9a-fA-F]{6}$/.test(b))this.ed=b;else throw c='Invalid colour: "'+b+'"',a!=b&&(c+=' (from "'+a+'")'),c;};
function Jd(a,b){for(var c=0,d;d=a.da[c];c++)for(var f=0,h;h=d.Ia[f];f++)if(h.name===b)return h;return null}function jd(a){for(var b=[],c=0,d;d=a.da[c];c++)for(var f=0,h;h=d.Ia[f];f++)h.Tf()&&(h=a.s.de(h.ab()))&&b.push(h);return b}function id(a,b){return(a=Jd(a,b))?a.ab():null}
e.rk=function(a,b){if(a){void 0===b&&(b=null);if(!this.X){if(this.V)throw Error("Remove output connection prior to adding previous connection.");this.X=this.Qg(z.Td)}this.X.Wf(b)}else if(this.X){if(this.X.isConnected())throw Error("Must disconnect previous statement before removing connection.");this.X.B();this.X=null}};
e.pk=function(a,b){if(a)void 0===b&&(b=null),this.T||(this.T=this.Qg(z.Xa)),this.T.Wf(b);else if(this.T){if(this.T.isConnected())throw Error("Must disconnect next statement before removing connection.");this.T.B();this.T=null}};
e.qk=function(a,b){if(a){void 0===b&&(b=null);if(!this.V){if(this.X)throw Error("Remove previous connection prior to adding output connection.");this.V=this.Qg(z.qf)}this.V.Wf(b)}else if(this.V){if(this.V.isConnected())throw Error("Must disconnect output value before removing connection.");this.V.B();this.V=null}};e.Xf=function(a){this.ie!=a&&(z.i.O(new z.i.Tb(this,"inline",null,this.ie,a)),this.ie=a)};
function og(a){if(void 0!=a.ie)return a.ie;for(var b=1;b<a.da.length;b++)if(a.da[b-1].type==z.Zc&&a.da[b].type==z.Zc)return!1;for(b=1;b<a.da.length;b++)if(a.da[b-1].type==z.Wa&&a.da[b].type==z.Zc)return!0;return!1}e.ue=function(a){this.disabled!=a&&(z.i.O(new z.i.Tb(this,"disabled",null,this.disabled,a)),this.disabled=a)};function Og(a){for(a=Ng(a);a;){if(a.disabled)return!0;a=Ng(a)}return!1}e.isCollapsed=function(){return this.dd};
e.$e=function(a){this.dd!=a&&(z.i.O(new z.i.Tb(this,"collapsed",null,this.dd,a)),this.dd=a)};e.toString=function(a,b){var c=[],d=b||"?";if(this.dd)c.push(Od(this,"_TEMP_COLLAPSED_INPUT").Ia[0].oa);else for(var f=0,h;h=this.da[f];f++){for(var k=0,l;l=h.Ia[k];k++)l instanceof Pg&&!l.ab()?c.push(d):c.push(l.mb());h.connection&&((h=M(h.connection))?c.push(h.toString(void 0,b)):c.push(d))}c=c.join(" ").trim()||"???";a&&c.length>a&&(c=c.substring(0,a-3)+"...");return c};
function mg(a,b){var c=[],d;for(d in b)void 0!==a[d]&&c.push(d);if(c.length)throw Error("Mixin will overwrite block members: "+JSON.stringify(c));for(var f in b)a[f]=b[f]}e.tf=function(a,b){var c=null;if(a==z.Wa||a==z.Xa)c=this.Qg(a);a=new Kg(a,b,this,c);this.da.push(a);return a};
e.ak=function(a,b){for(var c=0,d;d=this.da[c];c++)if(d.name==a){d.connection&&d.connection.isConnected()&&(d.connection.sd=null,a=M(d.connection),a.Pa?a.B():Nd(a));d.B();this.da.splice(c,1);return}if(!b)throw Error("Input not found: "+a);};function Od(a,b){for(var c=0,d;d=a.da[c];c++)if(d.name==b)return d;return null}e.Kl=function(){return this.Ga||""};e.$g=function(a){this.Ga!=a&&(z.i.O(new z.i.Tb(this,"comment",null,this.Ga,a||"")),this.Ga=a)};e.Fi=function(){};e.Lm=function(){};e.ia=function(){return this.tc};
e.moveBy=function(a,b){if(this.qd)throw Error("Block has parent.");var c=new z.i.fg(this);this.tc.translate(a,b);Md(c);z.i.O(c)};e.Qg=function(a){return new Wd(this,a)};z.h.bg={};z.h.bg.Hd=function(a){a=a.H();var b=ug(a);b.height=a.scrollHeight;return b};z.h.bg.Yk=function(a,b,c){b.left+=c.width;b.right+=c.width;a.left+=c.width;a.right+=c.width};function Qg(){0!=Rg&&(Sg[ia(this)]=this);this.yb=this.yb;this.F=this.F}var Rg=0,Sg={};Qg.prototype.yb=!1;Qg.prototype.B=function(){if(!this.yb&&(this.yb=!0,this.Ha(),0!=Rg)){var a=ia(this);if(0!=Rg&&this.F&&0<this.F.length)throw Error(this+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete Sg[a]}};function Tg(a,b){a.yb?b():(a.F||(a.F=[]),a.F.push(b))}Qg.prototype.Ha=function(){if(this.F)for(;this.F.length;)this.F.shift()()};
function Ug(a){a&&"function"==typeof a.B&&a.B()};function Vg(a,b){this.type=a;this.m=this.target=b;this.w=!1;this.Hm=!0}Vg.prototype.stopPropagation=function(){this.w=!0};Vg.prototype.preventDefault=function(){this.Hm=!1};function Wg(a){return F?"webkit"+a:bb?"o"+a.toLowerCase():a.toLowerCase()}
var R={Aq:"click",Ls:"rightclick",Kq:"dblclick",jg:"mousedown",kg:"mouseup",Tr:"mouseover",Sr:"mouseout",Rr:"mousemove",Pr:"mouseenter",Qr:"mouseleave",ig:"mousecancel",Qs:"selectionchange",Rs:"selectstart",rt:"wheel",Br:"keypress",Ar:"keydown",Cr:"keyup",xq:"blur",rr:"focus",Lq:"deactivate",sr:"focusin",tr:"focusout",mf:"change",Is:"reset",Ps:"select",Zs:"submit",yr:"input",Es:"propertychange",cr:"dragstart",Xq:"drag",Zq:"dragenter",ar:"dragover",$q:"dragleave",ir:"drop",Yq:"dragend",gt:"touchstart",
ft:"touchmove",et:"touchend",dt:"touchcancel",sq:"beforeunload",Fq:"consolemessage",Gq:"contextmenu",Mq:"devicechange",Nq:"devicemotion",Oq:"deviceorientation",Rq:"DOMContentLoaded",nr:"error",xr:"help",Dr:"load",Lr:"losecapture",os:"orientationchange",Gs:"readystatechange",Js:"resize",Ms:"scroll",it:"unload",yq:"canplay",zq:"canplaythrough",kr:"durationchange",lr:"emptied",mr:"ended",Gr:"loadeddata",Hr:"loadedmetadata",ss:"pause",ts:"play",us:"playing",Fs:"ratechange",Ns:"seeked",Os:"seeking",Ws:"stalled",
$s:"suspend",ct:"timeupdate",pt:"volumechange",qt:"waiting",Vs:"sourceopen",Us:"sourceended",Ts:"sourceclosed",eq:"abort",kt:"update",nt:"updatestart",lt:"updateend",wr:"hashchange",ps:"pagehide",qs:"pageshow",Ds:"popstate",Iq:"copy",rs:"paste",Jq:"cut",mq:"beforecopy",nq:"beforecut",qq:"beforepaste",ns:"online",ms:"offline",Nr:"message",Eq:"connect",zr:"install",fq:"activate",qr:"fetch",ur:"foreignfetch",Or:"messageerror",Xs:"statechange",mt:"updatefound",Hq:"controllerchange",kq:Wg("AnimationStart"),
iq:Wg("AnimationEnd"),jq:Wg("AnimationIteration"),ht:Wg("TransitionEnd"),ws:"pointerdown",Cs:"pointerup",vs:"pointercancel",zs:"pointermove",Bs:"pointerover",As:"pointerout",xs:"pointerenter",ys:"pointerleave",vr:"gotpointercapture",Mr:"lostpointercapture",Ur:"MSGestureChange",Vr:"MSGestureEnd",Wr:"MSGestureHold",Xr:"MSGestureStart",Yr:"MSGestureTap",Zr:"MSGotPointerCapture",$r:"MSInertiaStart",bs:"MSLostPointerCapture",cs:"MSPointerCancel",ds:"MSPointerDown",es:"MSPointerEnter",fs:"MSPointerHover",
gs:"MSPointerLeave",hs:"MSPointerMove",js:"MSPointerOut",ks:"MSPointerOver",ls:"MSPointerUp",at:"text",bt:C?"textinput":"textInput",Cq:"compositionstart",Dq:"compositionupdate",Bq:"compositionend",oq:"beforeinput",pr:"exit",Er:"loadabort",Fr:"loadcommit",Ir:"loadredirect",Jr:"loadstart",Kr:"loadstop",Ks:"responsive",Ss:"sizechanged",jt:"unresponsive",ot:"visibilitychange",Ys:"storage",Wq:"DOMSubtreeModified",Sq:"DOMNodeInserted",Uq:"DOMNodeRemoved",Vq:"DOMNodeRemovedFromDocument",Tq:"DOMNodeInsertedIntoDocument",
Pq:"DOMAttrModified",Qq:"DOMCharacterDataModified",rq:"beforeprint",hq:"afterprint",pq:"beforeinstallprompt",lq:"appinstalled"};function Xg(a,b){Vg.call(this,a?a.type:"");this.relatedTarget=this.m=this.target=null;this.button=this.screenY=this.screenX=this.clientY=this.clientX=0;this.key="";this.F=this.g=0;this.P=this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1;this.pointerId=0;this.pointerType="";this.j=null;a&&this.qa(a,b)}y(Xg,Vg);var Yg=[1,4,2],Zg={2:"touch",3:"pen",4:"mouse"};
Xg.prototype.qa=function(a,b){var c=this.type=a.type,d=a.changedTouches?a.changedTouches[0]:null;this.target=a.target||a.srcElement;this.m=b;if(b=a.relatedTarget){if(E){a:{try{Za(b.nodeName);var f=!0;break a}catch(h){}f=!1}f||(b=null)}}else"mouseover"==c?b=a.fromElement:"mouseout"==c&&(b=a.toElement);this.relatedTarget=b;null===d?(this.clientX=void 0!==a.clientX?a.clientX:a.pageX,this.clientY=void 0!==a.clientY?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0):(this.clientX=void 0!==
d.clientX?d.clientX:d.pageX,this.clientY=void 0!==d.clientY?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0);this.button=a.button;this.g=a.keyCode||0;this.key=a.key||"";this.F=a.charCode||("keypress"==c?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.P=eb?a.metaKey:a.ctrlKey;this.pointerId=a.pointerId||0;this.pointerType=t(a.pointerType)?a.pointerType:Zg[a.pointerType]||"";this.j=a;a.defaultPrevented&&this.preventDefault()};
function $g(a){return Ic?0==a.j.button:"click"==a.type?!0:!!(a.j.button&Yg[0])}Xg.prototype.stopPropagation=function(){Xg.o.stopPropagation.call(this);this.j.stopPropagation?this.j.stopPropagation():this.j.cancelBubble=!0};Xg.prototype.preventDefault=function(){Xg.o.preventDefault.call(this);var a=this.j;if(a.preventDefault)a.preventDefault();else if(a.returnValue=!1,Kc)try{if(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)a.keyCode=-1}catch(b){}};var ah="closure_listenable_"+(1E6*Math.random()|0);function bh(a){return!(!a||!a[ah])}var ch=0;function dh(a,b,c,d,f){this.listener=a;this.proxy=null;this.src=b;this.type=c;this.capture=!!d;this.gi=f;this.key=++ch;this.Vf=this.Ch=!1}function eh(a){a.Vf=!0;a.listener=null;a.proxy=null;a.src=null;a.gi=null};function fh(a){this.src=a;this.g={};this.j=0}fh.prototype.add=function(a,b,c,d,f){var h=a.toString();a=this.g[h];a||(a=this.g[h]=[],this.j++);var k=gh(a,b,d,f);-1<k?(b=a[k],c||(b.Ch=!1)):(b=new dh(b,this.src,h,!!d,f),b.Ch=c,a.push(b));return b};fh.prototype.remove=function(a,b,c,d){a=a.toString();if(!(a in this.g))return!1;var f=this.g[a];b=gh(f,b,c,d);return-1<b?(eh(f[b]),Array.prototype.splice.call(f,b,1),0==f.length&&(delete this.g[a],this.j--),!0):!1};
function hh(a,b){var c=b.type;c in a.g&&va(a.g[c],b)&&(eh(b),0==a.g[c].length&&(delete a.g[c],a.j--))}function ih(a,b,c,d,f){a=a.g[b.toString()];b=-1;a&&(b=gh(a,c,d,f));return-1<b?a[b]:null}function gh(a,b,c,d){for(var f=0;f<a.length;++f){var h=a[f];if(!h.Vf&&h.listener==b&&h.capture==!!c&&h.gi==d)return f}return-1};var jh="closure_lm_"+(1E6*Math.random()|0),kh={},lh=0;function S(a,b,c,d,f){if(d&&d.once)return mh(a,b,c,d,f);if(x(b)){for(var h=0;h<b.length;h++)S(a,b[h],c,d,f);return null}c=nh(c);return bh(a)?a.w.add(String(b),c,!1,ha(d)?!!d.capture:!!d,f):oh(a,b,c,!1,d,f)}
function oh(a,b,c,d,f,h){if(!b)throw Error("Invalid event type");var k=ha(f)?!!f.capture:!!f,l=ph(a);l||(a[jh]=l=new fh(a));c=l.add(b,c,d,k,h);if(c.proxy)return c;d=qh();c.proxy=d;d.src=a;d.listener=c;if(a.addEventListener)Mc||(f=k),void 0===f&&(f=!1),a.addEventListener(b.toString(),d,f);else if(a.attachEvent)a.attachEvent(rh(b.toString()),d);else if(a.addListener&&a.removeListener)a.addListener(d);else throw Error("addEventListener and attachEvent are unavailable.");lh++;return c}
function qh(){var a=sh,b=Jc?function(c){return a.call(b.src,b.listener,c)}:function(c){c=a.call(b.src,b.listener,c);if(!c)return c};return b}function mh(a,b,c,d,f){if(x(b)){for(var h=0;h<b.length;h++)mh(a,b[h],c,d,f);return null}c=nh(c);return bh(a)?a.w.add(String(b),c,!0,ha(d)?!!d.capture:!!d,f):oh(a,b,c,!0,d,f)}function th(a,b,c,d,f){if(x(b))for(var h=0;h<b.length;h++)th(a,b[h],c,d,f);else d=ha(d)?!!d.capture:!!d,c=nh(c),bh(a)?a.w.remove(String(b),c,d,f):a&&(a=ph(a))&&(b=ih(a,b,c,d,f))&&uh(b)}
function uh(a){if(!v(a)&&a&&!a.Vf){var b=a.src;if(bh(b))hh(b.w,a);else{var c=a.type,d=a.proxy;b.removeEventListener?b.removeEventListener(c,d,a.capture):b.detachEvent?b.detachEvent(rh(c),d):b.addListener&&b.removeListener&&b.removeListener(d);lh--;(c=ph(b))?(hh(c,a),0==c.j&&(c.src=null,b[jh]=null)):eh(a)}}}function rh(a){return a in kh?kh[a]:kh[a]="on"+a}
function vh(a,b,c,d){var f=!0;if(a=ph(a))if(b=a.g[b.toString()])for(b=b.concat(),a=0;a<b.length;a++){var h=b[a];h&&h.capture==c&&!h.Vf&&(h=wh(h,d),f=f&&!1!==h)}return f}function wh(a,b){var c=a.listener,d=a.gi||a.src;a.Ch&&uh(a);return c.call(d,b)}
function sh(a,b){if(a.Vf)return!0;if(!Jc){if(!b)a:{b=["window","event"];for(var c=g,d=0;d<b.length;d++)if(c=c[b[d]],null==c){b=null;break a}b=c}d=b;b=new Xg(d,this);c=!0;if(!(0>d.keyCode||void 0!=d.returnValue)){a:{var f=!1;if(0==d.keyCode)try{d.keyCode=-1;break a}catch(k){f=!0}if(f||void 0==d.returnValue)d.returnValue=!0}d=[];for(f=b.m;f;f=f.parentNode)d.push(f);a=a.type;for(f=d.length-1;!b.w&&0<=f;f--){b.m=d[f];var h=vh(d[f],a,!0,b);c=c&&h}for(f=0;!b.w&&f<d.length;f++)b.m=d[f],h=vh(d[f],a,!1,b),
c=c&&h}return c}return wh(a,new Xg(b,this))}function ph(a){a=a[jh];return a instanceof fh?a:null}var xh="__closure_events_fn_"+(1E9*Math.random()>>>0);function nh(a){if(fa(a))return a;a[xh]||(a[xh]=function(b){return a.handleEvent(b)});return a[xh]};function yh(a){Qg.call(this);this.j=a;this.g={}}y(yh,Qg);var zh=[];function U(a,b,c,d){x(c)||(c&&(zh[0]=c.toString()),c=zh);for(var f=0;f<c.length;f++){var h=S(b,c[f],d||a.handleEvent,!1,a.j||a);if(!h)break;a.g[h.key]=h}return a}function Ah(a,b,c,d,f,h){if(x(c))for(var k=0;k<c.length;k++)Ah(a,b,c[k],d,f,h);else d=d||a.handleEvent,f=ha(f)?!!f.capture:!!f,h=h||a.j||a,d=nh(d),f=!!f,c=bh(b)?ih(b.w,String(c),d,f,h):b?(b=ph(b))?ih(b,c,d,f,h):null:null,c&&(uh(c),delete a.g[c.key]);return a}
function Bh(a){Va(a.g,function(a,c){this.g.hasOwnProperty(c)&&uh(a)},a);a.g={}}yh.prototype.Ha=function(){yh.o.Ha.call(this);Bh(this)};yh.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented");};function Ch(){Qg.call(this);this.w=new fh(this);this.wh=this;this.nf=null}y(Ch,Qg);Ch.prototype[ah]=!0;e=Ch.prototype;e.Zh=function(){return this.nf};e.Ei=function(a){this.nf=a};e.addEventListener=function(a,b,c,d){S(this,a,b,c,d)};e.removeEventListener=function(a,b,c,d){th(this,a,b,c,d)};
e.dispatchEvent=function(a){var b,c=this.Zh();if(c)for(b=[];c;c=c.Zh())b.push(c);c=this.wh;var d=a.type||a;if(t(a))a=new Vg(a,c);else if(a instanceof Vg)a.target=a.target||c;else{var f=a;a=new Vg(d,c);Xa(a,f)}f=!0;if(b)for(var h=b.length-1;!a.w&&0<=h;h--){var k=a.m=b[h];f=Dh(k,d,!0,a)&&f}a.w||(k=a.m=c,f=Dh(k,d,!0,a)&&f,a.w||(f=Dh(k,d,!1,a)&&f));if(b)for(h=0;!a.w&&h<b.length;h++)k=a.m=b[h],f=Dh(k,d,!1,a)&&f;return f};
e.Ha=function(){Ch.o.Ha.call(this);if(this.w){var a=this.w,b=0,c;for(c in a.g){for(var d=a.g[c],f=0;f<d.length;f++)++b,eh(d[f]);delete a.g[c];a.j--}}this.nf=null};function Dh(a,b,c,d){b=a.w.g[String(b)];if(!b)return!0;b=b.concat();for(var f=!0,h=0;h<b.length;++h){var k=b[h];if(k&&!k.Vf&&k.capture==c){var l=k.listener,m=k.gi||k.src;k.Ch&&hh(a.w,k);f=!1!==l.call(m,d)&&f}}return f&&0!=d.Hm};function Eh(){}ca(Eh);Eh.prototype.g=0;function V(a){Ch.call(this);this.yd=a||kc();this.qb=Fh;this.zd=null;this.pa=!1;this.M=null;this.Ba=void 0;this.P=this.j=this.m=this.Ce=null}y(V,Ch);V.prototype.Ri=Eh.kd();var Fh=null;
function Gh(a,b){switch(a){case 1:return b?"disable":"enable";case 2:return b?"highlight":"unhighlight";case 4:return b?"activate":"deactivate";case 8:return b?"select":"unselect";case 16:return b?"check":"uncheck";case 32:return b?"focus":"blur";case 64:return b?"open":"close"}throw Error("Invalid component state");}e=V.prototype;e.ha=function(){return this.zd||(this.zd=":"+(this.Ri.g++).toString(36))};e.H=function(){return this.M};function Hh(a){a.Ba||(a.Ba=new yh(a));return a.Ba}
e.cf=function(a){if(this==a)throw Error("Unable to set parent component");if(a&&this.m&&this.zd&&Ih(this.m,this.zd)&&this.m!=a)throw Error("Unable to set parent component");this.m=a;V.o.Ei.call(this,a)};e.getParent=function(){return this.m};e.Ei=function(a){if(this.m&&this.m!=a)throw Error("Method not supported");V.o.Ei.call(this,a)};e.Mb=function(){return this.yd};e.S=function(){this.M=this.yd.createElement("DIV")};e.ba=function(a){this.rd(a)};
e.rd=function(a,b){if(this.pa)throw Error("Component already rendered");this.M||this.S();a?a.insertBefore(this.M,b||null):this.yd.g.body.appendChild(this.M);this.m&&!this.m.pa||this.gb()};e.gb=function(){this.pa=!0;W(this,function(a){!a.pa&&a.H()&&a.gb()})};e.Bc=function(){W(this,function(a){a.pa&&a.Bc()});this.Ba&&Bh(this.Ba);this.pa=!1};
e.Ha=function(){this.pa&&this.Bc();this.Ba&&(this.Ba.B(),delete this.Ba);W(this,function(a){a.B()});this.M&&xc(this.M);this.m=this.Ce=this.M=this.P=this.j=null;V.o.Ha.call(this)};e.mg=function(a,b){this.rf(a,Jh(this),b)};
e.rf=function(a,b,c){if(a.pa&&(c||!this.pa))throw Error("Component already rendered");if(0>b||b>Jh(this))throw Error("Child component index out of bounds");this.P&&this.j||(this.P={},this.j=[]);if(a.getParent()==this){var d=a.ha();this.P[d]=a;va(this.j,a)}else{d=this.P;var f=a.ha();if(null!==d&&f in d)throw Error('The object already contains the key "'+f+'"');d[f]=a}a.cf(this);za(this.j,b,0,a);a.pa&&this.pa&&a.getParent()==this?(c=this.ci(),b=c.childNodes[b]||null,b!=a.H()&&c.insertBefore(a.H(),b)):
c?(this.M||this.S(),b=X(this,b+1),a.rd(this.ci(),b?b.M:null)):this.pa&&!a.pa&&a.M&&a.M.parentNode&&1==a.M.parentNode.nodeType&&a.gb()};e.ci=function(){return this.M};function Kh(a){null==a.qb&&(a.qb="rtl"==rg(a.pa?a.M:a.yd.g.body,"direction"));return a.qb}e.Ff=function(a){if(this.pa)throw Error("Component already rendered");this.qb=a};function Lh(a){return!!a.j&&0!=a.j.length}function Jh(a){return a.j?a.j.length:0}
function Ih(a,b){a.P&&b?(a=a.P,b=(null!==a&&b in a?a[b]:void 0)||null):b=null;return b}function X(a,b){return a.j?a.j[b]||null:null}function W(a,b,c){a.j&&A(a.j,b,c)}function Mh(a,b){return a.j&&b?qa(a.j,b):-1}e.removeChild=function(a,b){if(a){var c=t(a)?a:a.ha();a=Ih(this,c);if(c&&a){var d=this.P;c in d&&delete d[c];va(this.j,a);b&&(a.Bc(),a.M&&xc(a.M));a.cf(null)}}if(!a)throw Error("Child is not in parent component");return a};
e.Gm=function(a){for(var b=[];Lh(this);)b.push(this.removeChild(X(this,0),a));return b};var Nh;Ya("A AREA BUTTON HEAD INPUT LINK MENU META OPTGROUP OPTION PROGRESS STYLE SELECT SOURCE TEXTAREA TITLE TRACK".split(" "));function Oh(a,b){b?a.setAttribute("role",b):a.removeAttribute("role")}
function Y(a,b,c){x(c)&&(c=c.join(" "));var d="aria-"+b;""===c||void 0==c?(Nh||(Nh={atomic:!1,autocomplete:"none",dropeffect:"none",haspopup:!1,live:"off",multiline:!1,multiselectable:!1,orientation:"vertical",readonly:!1,relevant:"additions text",required:!1,sort:"none",busy:!1,disabled:!1,hidden:!1,invalid:"false"}),c=Nh,b in c?a.setAttribute(d,c[b]):a.removeAttribute(d)):a.setAttribute(d,c)}function Ph(a,b){a=a.getAttribute("aria-"+b);return null==a||void 0==a?"":String(a)};function Qh(a,b,c,d,f,h){if(F&&!nb("525"))return!0;if(eb&&f)return Rh(a);if(f&&!d)return!1;if(!E){v(b)&&(b=Sh(b));var k=17==b||18==b||eb&&91==b;if((!c||eb)&&k||eb&&16==b&&(d||h))return!1}if((F||cb)&&d&&c)switch(a){case 220:case 219:case 221:case 192:case 186:case 189:case 187:case 188:case 190:case 191:case 192:case 222:return!1}if(C&&d&&b==a)return!1;switch(a){case 13:return E?h||f?!1:!(c&&d):!0;case 27:return!(F||cb||E)}return E&&(d||f||h)?!1:Rh(a)}
function Rh(a){if(48<=a&&57>=a||96<=a&&106>=a||65<=a&&90>=a||(F||cb)&&0==a)return!0;switch(a){case 32:case 43:case 63:case 64:case 107:case 109:case 110:case 111:case 186:case 59:case 189:case 187:case 61:case 188:case 190:case 191:case 192:case 222:case 219:case 220:case 221:return!0;default:return!1}}function Sh(a){if(E)a=Th(a);else if(eb&&F)switch(a){case 93:a=91}return a}
function Th(a){switch(a){case 61:return 187;case 59:return 186;case 173:return 189;case 224:return 91;case 0:return 224;default:return a}};function Uh(a,b){Ch.call(this);a&&Vh(this,a,b)}y(Uh,Ch);e=Uh.prototype;e.M=null;e.ni=null;e.Mj=null;e.oi=null;e.$b=-1;e.ke=-1;e.Ui=!1;
var Wh={3:13,12:144,63232:38,63233:40,63234:37,63235:39,63236:112,63237:113,63238:114,63239:115,63240:116,63241:117,63242:118,63243:119,63244:120,63245:121,63246:122,63247:123,63248:44,63272:46,63273:36,63275:35,63276:33,63277:34,63289:144,63302:45},Xh={Up:38,Down:40,Left:37,Right:39,Enter:13,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,"U+007F":46,Home:36,End:35,PageUp:33,PageDown:34,Insert:45},Yh=!F||nb("525"),Zh=eb&&E;e=Uh.prototype;
e.Ko=function(a){if(F||cb)if(17==this.$b&&!a.ctrlKey||18==this.$b&&!a.altKey||eb&&91==this.$b&&!a.metaKey)this.ke=this.$b=-1;-1==this.$b&&(a.ctrlKey&&17!=a.g?this.$b=17:a.altKey&&18!=a.g?this.$b=18:a.metaKey&&91!=a.g&&(this.$b=91));Yh&&!Qh(a.g,this.$b,a.shiftKey,a.ctrlKey,a.altKey,a.metaKey)?this.handleEvent(a):(this.ke=Sh(a.g),Zh&&(this.Ui=a.altKey))};e.Lo=function(a){this.ke=this.$b=-1;this.Ui=a.altKey};
e.handleEvent=function(a){var b=a.j,c=b.altKey;if(C&&"keypress"==a.type){var d=this.ke;var f=13!=d&&27!=d?b.keyCode:0}else(F||cb)&&"keypress"==a.type?(d=this.ke,f=0<=b.charCode&&63232>b.charCode&&Rh(d)?b.charCode:0):bb&&!F?(d=this.ke,f=Rh(d)?b.keyCode:0):(d=b.keyCode||this.ke,f=b.charCode||0,Zh&&"keypress"==a.type&&(c=this.Ui),eb&&63==f&&224==d&&(d=191));var h=d=Sh(d);d?63232<=d&&d in Wh?h=Wh[d]:25==d&&a.shiftKey&&(h=9):b.keyIdentifier&&b.keyIdentifier in Xh&&(h=Xh[b.keyIdentifier]);E&&Yh&&"keypress"==
a.type&&!Qh(h,this.$b,a.shiftKey,a.ctrlKey,c,a.metaKey)||(a=h==this.$b,this.$b=h,b=new $h(h,f,a,b),b.altKey=c,this.dispatchEvent(b))};e.H=function(){return this.M};function Vh(a,b,c){a.oi&&ai(a);a.M=b;a.ni=S(a.M,"keypress",a,c);a.Mj=S(a.M,"keydown",a.Ko,c,a);a.oi=S(a.M,"keyup",a.Lo,c,a)}function ai(a){a.ni&&(uh(a.ni),uh(a.Mj),uh(a.oi),a.ni=null,a.Mj=null,a.oi=null);a.M=null;a.$b=-1;a.ke=-1}e.Ha=function(){Uh.o.Ha.call(this);ai(this)};
function $h(a,b,c,d){Xg.call(this,d);this.type="key";this.g=a;this.F=b;this.repeat=c}y($h,Xg);function bi(a){if(a.classList)return a.classList;a=a.className;return t(a)&&a.match(/\S+/g)||[]}function ci(a,b){return a.classList?a.classList.contains(b):ua(bi(a),b)}function di(a,b){a.classList?a.classList.add(b):ci(a,b)||(a.className+=0<a.className.length?" "+b:b)}function ei(a,b){if(a.classList)A(b,function(b){di(a,b)});else{var c={};A(bi(a),function(a){c[a]=!0});A(b,function(a){c[a]=!0});a.className="";for(var d in c)a.className+=0<a.className.length?" "+d:d}}
function fi(a,b){a.classList?a.classList.remove(b):ci(a,b)&&(a.className=ra(bi(a),function(a){return a!=b}).join(" "))}function gi(a,b){a.classList?A(b,function(b){fi(a,b)}):a.className=ra(bi(a),function(a){return!ua(b,a)}).join(" ")};function hi(a,b){if(!a)throw Error("Invalid class name "+a);if(!fa(b))throw Error("Invalid decorator function "+b);}var ii={};function ji(a){this.j=a}ca(ji);function ki(a,b){a&&(a.tabIndex=b?0:-1)}ji.prototype.S=function(a){return a.Mb().S("DIV",li(this,a).join(" "))};ji.prototype.g=function(a){a=a.H();yg(a,E);C&&(a.hideFocus=!0);var b=this.j;b&&Oh(a,b)};ji.prototype.m=function(){return"goog-container"};function li(a,b){a=a.m();var c=[a,b.Rf==mi?a+"-horizontal":a+"-vertical"];b.isEnabled()||c.push(a+"-disabled");return c};function ni(){}var oi;ca(ni);var pi={button:"pressed",checkbox:"checked",menuitem:"selected",menuitemcheckbox:"checked",menuitemradio:"checked",radio:"checked",tab:"selected",treeitem:"selected"};e=ni.prototype;e.Pl=function(){};e.S=function(a){return a.Mb().S("DIV",qi(this,a).join(" "),a.ic())};e.If=function(a){return a};function ri(a,b,c){if(a=a.H?a.H():a){var d=[b];C&&!nb("7")&&(d=si(bi(a),b),d.push(b));(c?ei:gi)(a,d)}}
function ti(a,b,c){if(a=c||a.Pl())c=b.getAttribute("role")||null,a!=c&&Oh(b,a)}function ui(a,b){a.aa()||Y(b,"hidden",!a.aa());a.isEnabled()||vi(b,1,!a.isEnabled());a.bb&8&&vi(b,8,a.ki());a.bb&16&&vi(b,16,!!(a.ya&16));a.bb&64&&vi(b,64,!!(a.ya&64))}function wi(a,b){var c;if(a.bb&32&&(c=a.H())){if(!b&&a.ya&32){try{c.blur()}catch(d){}a.ya&32&&a.Ql(null)}(Cc(c)&&Dc(c))!=b&&(a=c,b?a.tabIndex=0:(a.tabIndex=-1,a.removeAttribute("tabIndex")))}}e.ja=function(a,b){wg(a,b);a&&Y(a,"hidden",!b)};
function vi(a,b,c){oi||(oi={1:"disabled",8:"selected",16:"checked",64:"expanded"});b=oi[b];var d=a.getAttribute("role")||null;d&&(d=pi[d]||b,b="checked"==b||"selected"==b?d:b);b&&Y(a,b,c)}e.mc=function(a,b){var c=this.If(a);c&&(wc(c),b&&(t(b)?zc(c,b):(a=function(a){if(a){var b=mc(c);c.appendChild(t(a)?b.createTextNode(a):a)}},x(b)?A(b,a):!ea(b)||"nodeType"in b?a(b):A(xa(b),a))))};e.Oa=function(){return"goog-control"};
function qi(a,b){var c=a.Oa(),d=[c],f=a.Oa();f!=c&&d.push(f);c=b.ya;for(f=[];c;){var h=c&-c;f.push(a.Uh(h));c&=~h}d.push.apply(d,f);(a=b.Gl)&&d.push.apply(d,a);C&&!nb("7")&&d.push.apply(d,si(d));return d}function si(a,b){var c=[];b&&(a=wa(a,[b]));A([],function(d){!ta(d,oa(ua,a))||b&&!ua(d,b)||c.push(d.join("_"))});return c}e.Uh=function(a){if(!this.g){var b=this.Oa();this.g={1:b+"-disabled",2:b+"-hover",4:b+"-active",8:b+"-selected",16:b+"-checked",32:b+"-focused",64:b+"-open"}}return this.g[a]};function Z(a,b,c){V.call(this,c);if(!b){b=this.constructor;for(var d;b;){d=ia(b);if(d=ii[d])break;b=b.o?b.o.constructor:null}b=d?fa(d.kd)?d.kd():new d:null}this.g=b;this.Ci(void 0!==a?a:null)}y(Z,V);e=Z.prototype;e.gc=null;e.ya=0;e.bb=39;e.Wi=255;e.ff=0;e.Ea=!0;e.Gl=null;e.Eg=!0;e.S=function(){var a=this.g.S(this);this.M=a;ti(this.g,a,this.$h());yg(a,!C&&!bb);this.aa()||this.g.ja(a,!1)};e.$h=function(){return null};e.ci=function(){return this.g.If(this.H())};
e.gb=function(){Z.o.gb.call(this);ui(this,this.M);var a=this.g;if(Kh(this)){var b=this.H();ri(b,a.Oa()+"-rtl",!0)}this.isEnabled()&&wi(this,this.aa());this.bb&-2&&(this.Eg&&xi(this,!0),this.bb&32&&(a=this.H()))&&(b=this.Ca||(this.Ca=new Uh),Vh(b,a),U(U(U(Hh(this),b,"key",this.Ec),a,"focus",this.Co),a,"blur",this.Ql))};
function xi(a,b){var c=Hh(a),d=a.H();b?(U(U(U(U(c,d,R.jg,a.Jf),d,[R.kg,R.ig],a.Lf),d,"mouseover",a.Fg),d,"mouseout",a.Dj),a.Kf!=ba&&U(c,d,"contextmenu",a.Kf),C&&(nb(9)||U(c,d,"dblclick",a.Ul),a.Hb||(a.Hb=new yi(a),Tg(a,oa(Ug,a.Hb))))):(Ah(Ah(Ah(Ah(c,d,R.jg,a.Jf),d,[R.kg,R.ig],a.Lf),d,"mouseover",a.Fg),d,"mouseout",a.Dj),a.Kf!=ba&&Ah(c,d,"contextmenu",a.Kf),C&&(nb(9)||Ah(c,d,"dblclick",a.Ul),Ug(a.Hb),a.Hb=null))}
e.Bc=function(){Z.o.Bc.call(this);this.Ca&&ai(this.Ca);this.aa()&&this.isEnabled()&&wi(this,!1)};e.Ha=function(){Z.o.Ha.call(this);this.Ca&&(this.Ca.B(),delete this.Ca);delete this.g;this.Hb=this.Gl=this.gc=null};e.ic=function(){return this.gc};e.mc=function(a){this.g.mc(this.H(),a);this.Ci(a)};e.Ci=function(a){this.gc=a};e.Th=function(){var a=this.ic();if(!a)return"";a=t(a)?a:x(a)?sa(a,Gc).join(""):Ec(a);return Ba(a)};
e.Ff=function(a){Z.o.Ff.call(this,a);var b=this.H();b&&ri(b,this.g.Oa()+"-rtl",a)};e.aa=function(){return this.Ea};e.ja=function(a,b){return b||this.Ea!=a&&this.dispatchEvent(a?"show":"hide")?((b=this.H())&&this.g.ja(b,a),this.isEnabled()&&wi(this,a),this.Ea=a,!0):!1};e.isEnabled=function(){return!(this.ya&1)};e.dh=function(a){var b=this.getParent();b&&"function"==typeof b.isEnabled&&!b.isEnabled()||!zi(this,1,!a)||(a||(this.setActive(!1),this.Cc(!1)),this.aa()&&wi(this,a),Ai(this,1,!a,!0))};
e.Cc=function(a){zi(this,2,a)&&Ai(this,2,a)};e.setActive=function(a){zi(this,4,a)&&Ai(this,4,a)};e.ki=function(){return!!(this.ya&8)};e.sk=function(a){zi(this,8,a)&&Ai(this,8,a)};function Bi(a,b){zi(a,16,b)&&Ai(a,16,b)}function Ci(a,b){zi(a,64,b)&&Ai(a,64,b)}function Ai(a,b,c,d){if(!d&&1==b)a.dh(!c);else if(a.bb&b&&c!=!!(a.ya&b)){var f=a.g;if(d=a.H())(f=f.Uh(b))&&ri(a,f,c),vi(d,b,c);a.ya=c?a.ya|b:a.ya&~b}}
e.oc=function(a,b){if(this.pa&&this.ya&a&&!b)throw Error("Component already rendered");!b&&this.ya&a&&Ai(this,a,!1);this.bb=b?this.bb|a:this.bb&~a};function Di(a,b){return!!(a.Wi&b)&&!!(a.bb&b)}function zi(a,b,c){return!!(a.bb&b)&&!!(a.ya&b)!=c&&(!(a.ff&b)||a.dispatchEvent(Gh(b,c)))&&!a.yb}e.Fg=function(a){!Ei(a,this.H())&&this.dispatchEvent("enter")&&this.isEnabled()&&Di(this,2)&&this.Cc(!0)};
e.Dj=function(a){!Ei(a,this.H())&&this.dispatchEvent("leave")&&(Di(this,4)&&this.setActive(!1),Di(this,2)&&this.Cc(!1))};e.Kf=ba;function Ei(a,b){return!!a.relatedTarget&&yc(b,a.relatedTarget)}e.Jf=function(a){if(this.isEnabled()&&(Di(this,2)&&this.Cc(!0),$g(a)&&!(F&&eb&&a.ctrlKey))){Di(this,4)&&this.setActive(!0);var b;if(b=this.g){var c;b=this.bb&32&&(c=this.H())?Cc(c)&&Dc(c):!1}b&&this.H().focus()}!$g(a)||F&&eb&&a.ctrlKey||a.preventDefault()};
e.Lf=function(a){this.isEnabled()&&(Di(this,2)&&this.Cc(!0),this.ya&4&&this.Xe(a)&&Di(this,4)&&this.setActive(!1))};e.Ul=function(a){this.isEnabled()&&this.Xe(a)};e.Xe=function(a){Di(this,16)&&Bi(this,!(this.ya&16));Di(this,8)&&this.sk(!0);Di(this,64)&&Ci(this,!(this.ya&64));var b=new Vg("action",this);a&&(b.altKey=a.altKey,b.ctrlKey=a.ctrlKey,b.metaKey=a.metaKey,b.shiftKey=a.shiftKey,b.P=a.P);return this.dispatchEvent(b)};e.Co=function(){Di(this,32)&&zi(this,32,!0)&&Ai(this,32,!0)};
e.Ql=function(){Di(this,4)&&this.setActive(!1);Di(this,32)&&zi(this,32,!1)&&Ai(this,32,!1)};e.Ec=function(a){return this.aa()&&this.isEnabled()&&this.Aj(a)?(a.preventDefault(),a.stopPropagation(),!0):!1};e.Aj=function(a){return 13==a.g&&this.Xe(a)};if(!fa(Z))throw Error("Invalid component class "+Z);if(!fa(ni))throw Error("Invalid renderer class "+ni);var Fi=ia(Z);ii[Fi]=ni;hi("goog-control",function(){return new Z(null)});
function yi(a){Qg.call(this);this.j=a;this.g=!1;this.m=new yh(this);Tg(this,oa(Ug,this.m));a=this.j.M;U(U(U(this.m,a,"mousedown",this.P),a,"mouseup",this.Ba),a,"click",this.w)}y(yi,Qg);var Gi=!C||9<=Number(ob);yi.prototype.P=function(){this.g=!1};yi.prototype.Ba=function(){this.g=!0};
function Hi(a,b){if(!Gi)return a.button=0,a.type=b,a;var c=document.createEvent("MouseEvents");c.initMouseEvent(b,a.bubbles,a.cancelable,a.view||null,a.detail,a.screenX,a.screenY,a.clientX,a.clientY,a.ctrlKey,a.altKey,a.shiftKey,a.metaKey,0,a.relatedTarget||null);return c}yi.prototype.w=function(a){if(this.g)this.g=!1;else{var b=a.j,c=b.button,d=b.type,f=Hi(b,"mousedown");this.j.Jf(new Xg(f,a.m));f=Hi(b,"mouseup");this.j.Lf(new Xg(f,a.m));Gi||(b.button=c,b.type=d)}};
yi.prototype.Ha=function(){this.j=null;yi.o.Ha.call(this)};function Ii(a,b,c){V.call(this,c);this.di=b||ji.kd();this.Rf=a||Ji}y(Ii,V);var mi="horizontal",Ji="vertical";e=Ii.prototype;e.Nj=null;e.Ne=null;e.di=null;e.Rf=null;e.Ea=!0;e.Ke=!0;e.Gf=!0;e.Na=-1;e.hb=null;e.Qf=!1;e.Cd=null;function Ki(a){return a.Nj||a.H()}e.S=function(){this.M=this.di.S(this)};e.ci=function(){return this.H()};
e.gb=function(){Ii.o.gb.call(this);W(this,function(a){a.pa&&Li(this,a)},this);var a=this.H();this.di.g(this);this.ja(this.Ea,!0);U(U(U(U(U(U(U(U(Hh(this),this,"enter",this.Bj),this,"highlight",this.Jo),this,"unhighlight",this.Po),this,"open",this.Mo),this,"close",this.Go),a,R.jg,this.Bo),mc(a),[R.kg,R.ig],this.Ho),a,[R.jg,R.kg,R.ig,"mouseover","mouseout","contextmenu"],this.Fo);this.Gf&&Mi(this,!0)};
function Mi(a,b){var c=Hh(a),d=Ki(a);b?U(U(U(c,d,"focus",a.Ol),d,"blur",a.Nl),a.Ne||(a.Ne=new Uh(Ki(a))),"key",a.Ec):Ah(Ah(Ah(c,d,"focus",a.Ol),d,"blur",a.Nl),a.Ne||(a.Ne=new Uh(Ki(a))),"key",a.Ec)}e.Bc=function(){this.Hf(-1);this.hb&&Ci(this.hb,!1);this.Qf=!1;Ii.o.Bc.call(this)};e.Ha=function(){Ii.o.Ha.call(this);this.Ne&&(this.Ne.B(),this.Ne=null);this.di=this.hb=this.Cd=this.Nj=null};e.Bj=function(){return!0};
e.Jo=function(a){var b=Mh(this,a.target);if(-1<b&&b!=this.Na){var c=X(this,this.Na);c&&c.Cc(!1);this.Na=b;c=X(this,this.Na);this.Qf&&c.setActive(!0);this.hb&&c!=this.hb&&(c.bb&64?Ci(c,!0):Ci(this.hb,!1))}b=this.H();null!=a.target.H()&&Y(b,"activedescendant",a.target.H().id)};e.Po=function(a){a.target==X(this,this.Na)&&(this.Na=-1);this.H().removeAttribute("aria-activedescendant")};e.Mo=function(a){(a=a.target)&&a!=this.hb&&a.getParent()==this&&(this.hb&&Ci(this.hb,!1),this.hb=a)};
e.Go=function(a){a.target==this.hb&&(this.hb=null);var b=this.H(),c=a.target.H();b&&a.target.ya&2&&c&&(a="",c&&(a=c.id),Y(b,"activedescendant",a))};e.Bo=function(a){this.Ke&&(this.Qf=!0);var b=Ki(this);b&&Cc(b)&&Dc(b)?b.focus():a.preventDefault()};e.Ho=function(){this.Qf=!1};
e.Fo=function(a){a:{var b=a.target;if(this.Cd)for(var c=this.H();b&&b!==c;){var d=b.id;if(d in this.Cd){b=this.Cd[d];break a}b=b.parentNode}b=null}if(b)switch(a.type){case R.jg:b.Jf(a);break;case R.kg:case R.ig:b.Lf(a);break;case "mouseover":b.Fg(a);break;case "mouseout":b.Dj(a);break;case "contextmenu":b.Kf(a)}};e.Ol=function(){};e.Nl=function(){this.Hf(-1);this.Qf=!1;this.hb&&Ci(this.hb,!1)};
e.Ec=function(a){return this.isEnabled()&&this.aa()&&(0!=Jh(this)||this.Nj)&&this.zj(a)?(a.preventDefault(),a.stopPropagation(),!0):!1};
e.zj=function(a){var b=X(this,this.Na);if(b&&"function"==typeof b.Ec&&b.Ec(a)||this.hb&&this.hb!=b&&"function"==typeof this.hb.Ec&&this.hb.Ec(a))return!0;if(a.shiftKey||a.ctrlKey||a.metaKey||a.altKey)return!1;switch(a.g){case 27:if(this.Gf)Ki(this).blur();else return!1;break;case 36:Ni(this);break;case 35:Oi(this);break;case 38:if(this.Rf==Ji)Qi(this);else return!1;break;case 37:if(this.Rf==mi)Kh(this)?Ri(this):Qi(this);else return!1;break;case 40:if(this.Rf==Ji)Ri(this);else return!1;break;case 39:if(this.Rf==
mi)Kh(this)?Qi(this):Ri(this);else return!1;break;default:return!1}return!0};function Li(a,b){var c=b.H();c=c.id||(c.id=b.ha());a.Cd||(a.Cd={});a.Cd[c]=b}e.mg=function(a,b){Ii.o.mg.call(this,a,b)};e.rf=function(a,b,c){a.ff|=2;a.ff|=64;a.oc(32,!1);a.pa&&0!=a.Eg&&xi(a,!1);a.Eg=!1;var d=a.getParent()==this?Mh(this,a):-1;Ii.o.rf.call(this,a,b,c);a.pa&&this.pa&&Li(this,a);a=d;-1==a&&(a=Jh(this));a==this.Na?this.Na=Math.min(Jh(this)-1,b):a>this.Na&&b<=this.Na?this.Na++:a<this.Na&&b>this.Na&&this.Na--};
e.removeChild=function(a,b){if(a=t(a)?Ih(this,a):a){var c=Mh(this,a);-1!=c&&(c==this.Na?(a.Cc(!1),this.Na=-1):c<this.Na&&this.Na--);var d=a.H();d&&d.id&&this.Cd&&(c=this.Cd,d=d.id,d in c&&delete c[d])}b=a=Ii.o.removeChild.call(this,a,b);b.pa&&1!=b.Eg&&xi(b,!0);b.Eg=!0;return a};e.aa=function(){return this.Ea};
e.ja=function(a,b){if(b||this.Ea!=a&&this.dispatchEvent(a?"show":"hide")){this.Ea=a;var c=this.H();c&&(wg(c,a),this.Gf&&ki(Ki(this),this.Ke&&this.Ea),b||this.dispatchEvent(this.Ea?"aftershow":"afterhide"));return!0}return!1};e.isEnabled=function(){return this.Ke};e.dh=function(a){this.Ke!=a&&this.dispatchEvent(a?"enable":"disable")&&(a?(this.Ke=!0,W(this,function(a){a.Xm?delete a.Xm:a.dh(!0)})):(W(this,function(a){a.isEnabled()?a.dh(!1):a.Xm=!0}),this.Qf=this.Ke=!1),this.Gf&&ki(Ki(this),a&&this.Ea))};
function Si(a,b){b!=a.Gf&&a.pa&&Mi(a,b);a.Gf=b;a.Ke&&a.Ea&&ki(Ki(a),b)}e.Hf=function(a){(a=X(this,a))?a.Cc(!0):-1<this.Na&&X(this,this.Na).Cc(!1)};function Ni(a){Ti(a,function(a,c){return(a+1)%c},Jh(a)-1)}function Oi(a){Ti(a,function(a,c){a--;return 0>a?c-1:a},0)}function Ri(a){Ti(a,function(a,c){return(a+1)%c},a.Na)}function Qi(a){Ti(a,function(a,c){a--;return 0>a?c-1:a},a.Na)}
function Ti(a,b,c){c=0>c?Mh(a,a.hb):c;var d=Jh(a);c=b.call(a,c,d);for(var f=0;f<=d;){var h=X(a,c);if(h&&a.bl(h)){a.Hf(c);break}f++;c=b.call(a,c,d)}}e.bl=function(a){return a.aa()&&a.isEnabled()&&!!(a.bb&2)};function Ui(){}y(Ui,ni);ca(Ui);Ui.prototype.Oa=function(){return"goog-menuheader"};function Vi(a,b,c){Z.call(this,a,c||Ui.kd(),b);this.oc(1,!1);this.oc(2,!1);this.oc(4,!1);this.oc(32,!1);this.ya=1}y(Vi,Z);hi("goog-menuheader",function(){return new Vi(null)});function Wi(){this.j=[]}y(Wi,ni);ca(Wi);function Xi(a,b){var c=a.j[b];if(!c){switch(b){case 0:c=a.Oa()+"-highlight";break;case 1:c=a.Oa()+"-checkbox";break;case 2:c=a.Oa()+"-content"}a.j[b]=c}return c}e=Wi.prototype;e.Pl=function(){return"menuitem"};e.S=function(a){var b=a.Mb().S("DIV",qi(this,a).join(" "),Yi(this,a.ic(),a.Mb()));Zi(this,a,b,!!(a.bb&8)||!!(a.bb&16));return b};e.If=function(a){return a&&a.firstChild};
e.mc=function(a,b){var c=this.If(a),d=$i(this,a)?c.firstChild:null;Wi.o.mc.call(this,a,b);d&&!$i(this,a)&&c.insertBefore(d,c.firstChild||null)};function Yi(a,b,c){a=Xi(a,2);return c.S("DIV",a,b)}function $i(a,b){return(b=a.If(b))?(b=b.firstChild,a=Xi(a,1),!!b&&ha(b)&&1==b.nodeType&&ci(b,a)):!1}function Zi(a,b,c,d){ti(a,c,b.$h());ui(b,c);d!=$i(a,c)&&(d?di(c,"goog-option"):fi(c,"goog-option"),c=a.If(c),d?(a=Xi(a,1),c.insertBefore(b.Mb().S("DIV",a),c.firstChild||null)):c.removeChild(c.firstChild))}
e.Uh=function(a){switch(a){case 2:return Xi(this,0);case 16:case 8:return"goog-option-selected";default:return Wi.o.Uh.call(this,a)}};e.Oa=function(){return"goog-menuitem"};function aj(a,b,c,d){Z.call(this,a,d||Wi.kd(),c);this.xa(b)}y(aj,Z);e=aj.prototype;e.ab=function(){var a=this.Ce;return null!=a?a:this.Th()};e.xa=function(a){this.Ce=a};e.oc=function(a,b){aj.o.oc.call(this,a,b);switch(a){case 8:this.ya&16&&!b&&Bi(this,!1);(a=this.H())&&this&&a&&Zi(this.g,this,a,b);break;case 16:(a=this.H())&&this&&a&&Zi(this.g,this,a,b)}};
e.Th=function(){var a=this.ic();return x(a)?(a=sa(a,function(a){return ha(a)&&1==a.nodeType&&(ci(a,"goog-menuitem-accel")||ci(a,"goog-menuitem-mnemonic-separator"))?"":Gc(a)}).join(""),Ba(a)):aj.o.Th.call(this)};e.Lf=function(a){var b=this.getParent();if(b){var c=b.g;b.g=null;if(c&&v(a.clientX)&&fc(c,new G(a.clientX,a.clientY)))return}aj.o.Lf.call(this,a)};e.Aj=function(a){return a.g==this.km&&this.Xe(a)?!0:aj.o.Aj.call(this,a)};e.zo=function(){return this.km};hi("goog-menuitem",function(){return new aj(null)});
aj.prototype.$h=function(){return this.bb&16?"menuitemcheckbox":this.bb&8?"menuitemradio":aj.o.$h.call(this)};aj.prototype.getParent=function(){return Z.prototype.getParent.call(this)};aj.prototype.Zh=function(){return Z.prototype.Zh.call(this)};function bj(){}y(bj,ni);ca(bj);bj.prototype.S=function(a){return a.Mb().S("DIV",this.Oa())};bj.prototype.mc=function(){};bj.prototype.Oa=function(){return"goog-menuseparator"};function cj(a,b){Z.call(this,null,a||bj.kd(),b);this.oc(1,!1);this.oc(2,!1);this.oc(4,!1);this.oc(32,!1);this.ya=1}y(cj,Z);cj.prototype.gb=function(){cj.o.gb.call(this);var a=this.H();Oh(a,"separator")};hi("goog-menuseparator",function(){return new cj});function dj(a){this.j=a||"menu"}y(dj,ji);ca(dj);dj.prototype.m=function(){return"goog-menu"};dj.prototype.g=function(a){dj.o.g.call(this,a);a=a.H();Y(a,"haspopup","true")};hi("goog-menuseparator",function(){return new cj});function ej(a,b){Ii.call(this,Ji,b||dj.kd(),a);Si(this,!1)}y(ej,Ii);e=ej.prototype;e.zh=!0;e.ja=function(a,b,c){(b=ej.o.ja.call(this,a,b))&&a&&this.pa&&this.zh&&Ki(this).focus();a&&c&&v(c.clientX)?this.g=new G(c.clientX,c.clientY):this.g=null;return b};e.Bj=function(a){this.zh&&Ki(this).focus();return ej.o.Bj.call(this,a)};e.bl=function(a){return a.isEnabled()&&a.aa()&&!!(a.bb&2)};
e.zj=function(a){var b=ej.o.zj.call(this,a);b||W(this,function(c){!b&&c.zo&&c.km==a.g&&(this.isEnabled()&&this.Hf(Mh(this,c)),b=c.Ec(a))},this);return b};
e.Hf=function(a){ej.o.Hf.call(this,a);if(a=X(this,a)){var b=a.H();a=this.H()||sc(document);var c=a||sc(document);var d=tg(b),f=tg(c);if(!C||9<=Number(ob)){k=qg(c,"borderLeftWidth");var h=qg(c,"borderRightWidth");l=qg(c,"borderTopWidth");m=qg(c,"borderBottomWidth");h=new Df(parseFloat(l),parseFloat(h),parseFloat(m),parseFloat(k))}else{var k=Ag(c,"borderLeft");h=Ag(c,"borderRight");var l=Ag(c,"borderTop"),m=Ag(c,"borderBottom");h=new Df(l,h,m,k)}c==sc(document)?(k=d.x-c.scrollLeft,d=d.y-c.scrollTop,
!C||10<=Number(ob)||(k+=h.left,d+=h.top)):(k=d.x-f.x-h.left,d=d.y-f.y-h.top);b=vg(b);f=c.clientHeight-b.height;h=c.scrollLeft;l=c.scrollTop;h+=Math.min(k,Math.max(k-(c.clientWidth-b.width),0));l+=Math.min(d,Math.max(d-f,0));c=new G(h,l);a.scrollLeft=c.x;a.scrollTop=c.y}};z.fa={};z.fa.Hh=null;z.fa.Fl=null;z.fa.show=function(a,b,c){z.I.show(z.fa,c,null);if(b.length){var d=z.fa.xi(b,c);S(d,"action",z.fa.Aa);z.fa.ac(d,a,c);setTimeout(function(){d.H().focus()},1);z.fa.Hh=null}else z.fa.Aa()};z.fa.xi=function(a,b){var c=new ej;c.Ff(b);for(var d=0,f;f=a[d];d++){var h=new aj(f.text);h.Ff(b);c.mg(h,!0);h.dh(f.enabled);f.enabled&&(S(h,"action",f.kb),h.Kf=function(){this.dispatchEvent("action")})}return c};
z.fa.ac=function(a,b,c){var d=z.h.yj();b={top:b.clientY+d.top,bottom:b.clientY+d.top,left:b.clientX+d.left,right:b.clientX+d.left};z.fa.tg(a);var f=z.h.bg.Hd(a);c&&z.h.bg.Yk(d,b,f);z.I.Xj(d,b,f,c);a.H().focus()};z.fa.tg=function(a){a.ba(z.I.Z);var b=a.H();z.h.Ma(b,"blocklyContextMenu");z.K(b,"contextmenu",null,z.h.gp);a.zh=!0;Si(a,!0)};z.fa.Aa=function(){z.I.Jg(z.fa);z.fa.Hh=null;z.fa.Fl&&z.La(z.fa.Fl)};
z.fa.At=function(a,b){return function(){z.i.disable();try{var c=z.G.yf(b,a.s),d=a.ia();d.x=a.u?d.x-z.Kc:d.x+z.Kc;d.y+=2*z.Kc;c.moveBy(d.x,d.y)}finally{z.i.enable()}z.i.isEnabled()&&!c.Pa&&z.i.O(new z.i.rh(c));c.select()}};z.fa.zn=function(a){var b=I(a,!1).length,c=ad(a);c&&(b-=I(c,!1).length);return{text:1==b?z.U.DELETE_BLOCK:z.U.DELETE_X_BLOCKS.replace("%1",String(b)),enabled:!0,kb:function(){z.i.W(!0);a.B(!0,!0);z.i.W(!1)}}};
z.fa.Bn=function(a){return{enabled:!("function"==typeof a.Mf?!a.Mf():!a.Mf),text:z.U.HELP,kb:function(){var b="function"==typeof a.Mf?a.Mf():a.Mf;b&&window.open(b)}}};z.fa.An=function(a){var b=!0;I(a,!1).length>vd(a.s)&&(b=!1);return{text:z.U.DUPLICATE_BLOCK,enabled:b,kb:function(){z.Dl(a)}}};z.fa.yn=function(a){var b={enabled:!C};a.Ga?(b.text=z.U.REMOVE_COMMENT,b.kb=function(){a.$g(null)}):(b.text=z.U.ADD_COMMENT,b.kb=function(){a.$g("")});return b};
z.fa.Nn=function(a){return{text:z.U.Hs,enabled:!0,kb:function(){z.i.W(!0);a.B(!0,!0);z.i.W(!1)}}};z.fa.On=function(a){return{text:z.U.jr,enabled:!0,kb:function(){z.Dl(a)}}};
z.fa.Xt=function(a,b){var c={enabled:!C};c.text=z.U.gq;c.kb=function(){var c=new Ie(a,z.U.st,100,100);if(!a.Jj)for(var f=a.v;f;){if(-1!=(" "+(f.getAttribute("class")||"")+" ").indexOf(" injectionDiv ")){a.Jj=f;break}f=f.parentNode}f=a.Jj.getBoundingClientRect();f=new G(b.clientX-f.left,b.clientY-f.top);var h=z.h.Xh(a.Da);f=hc(f,h).scale(1/a.scale);c.moveBy(f.x,f.y);a.R&&(c.he(),c.ba(!1),c.select())};return c};var fj={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",
darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",
ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",
lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",
moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",
seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function gj(a){var b={};a=String(a);var c="#"==a.charAt(0)?a:"#"+a;if(hj.test(c))return b.Ej=ij(c),b.type="hex",b;a:{var d=a.match(jj);if(d){c=Number(d[1]);var f=Number(d[2]);d=Number(d[3]);if(0<=c&&255>=c&&0<=f&&255>=f&&0<=d&&255>=d){c=[c,f,d];break a}}c=[]}if(c.length)return b.Ej=kj(c),b.type="rgb",b;if(fj&&(c=fj[a.toLowerCase()]))return b.Ej=c,b.type="named",b;throw Error(a+" is not a valid color string");}var lj=/#(.)(.)(.)/;
function ij(a){if(!hj.test(a))throw Error("'"+a+"' is not a valid hex color");4==a.length&&(a=a.replace(lj,"#$1$1$2$2$3$3"));return a.toLowerCase()}function mj(a){a=ij(a);return[parseInt(a.substr(1,2),16),parseInt(a.substr(3,2),16),parseInt(a.substr(5,2),16)]}
function kj(a){var b=a[0],c=a[1];a=a[2];b=Number(b);c=Number(c);a=Number(a);if(b!=(b&255)||c!=(c&255)||a!=(a&255))throw Error('"('+b+","+c+","+a+'") is not a valid RGB color');b=nj(b.toString(16));c=nj(c.toString(16));a=nj(a.toString(16));return"#"+b+c+a}var hj=/^#(?:[0-9a-f]{3}){1,2}$/i,jj=/^(?:rgb)?\((0|[1-9]\d{0,2}),\s?(0|[1-9]\d{0,2}),\s?(0|[1-9]\d{0,2})\)$/i;function nj(a){return 1==a.length?"0"+a:a}
function oj(a,b,c){c=Math.min(Math.max(c,0),1);return[Math.round(c*a[0]+(1-c)*b[0]),Math.round(c*a[1]+(1-c)*b[1]),Math.round(c*a[2]+(1-c)*b[2])]};function Q(a,b,c){this.v=z.h.C("g",{},null);this.v.Od="";this.j=z.h.C("path",{"class":"blocklyPathDark",transform:"translate(1,1)"},this.v);this.td=z.h.C("path",{"class":"blocklyPath"},this.v);this.g=z.h.C("path",{"class":"blocklyPathLight"},this.v);this.td.qc=this;this.R=!1;this.ud=z.h.je()&&!!a.Za;z.D.Fe(this.td);Q.o.constructor.call(this,a,b,c);this.v.dataset&&(this.v.dataset.id=this.id)}y(Q,ud);e=Q.prototype;e.height=0;e.width=0;e.cc=null;
e.he=function(){if(!this.s.R)throw TypeError("Workspace is headless.");for(var a=0,b;b=this.da[a];a++)b.qa();b=ye(this);for(a=0;a<b.length;a++)Rd(b[a]);this.Pd();this.lh();this.s.options.readOnly||this.pj||z.K(this.$(),"mousedown",this,this.Ld);this.pj=!0;this.$().parentNode||this.s.Da.appendChild(this.$())};
e.select=function(){if(this.Pa&&this.getParent())this.getParent().select();else if(z.selected!=this){var a=null;if(z.selected){a=z.selected.id;z.i.disable();try{z.selected.kf()}finally{z.i.enable()}}a=new J(null,"selected",a,this.id);a.g=this.s.id;z.i.O(a);z.selected=this;this.sf()}};e.kf=function(){if(z.selected==this){var a=new J(null,"selected",this.id,null);a.g=this.s.id;z.i.O(a);z.selected=null;this.Ye()}};e.Kd=null;e.Ga=null;e.sc=null;
function ye(a){var b=[];a.Kd&&b.push(a.Kd);a.Ga&&b.push(a.Ga);a.sc&&b.push(a.sc);return b}e.cf=function(a){var b=this.qd;if(a!=b){Mf();Q.o.cf.call(this,a);Nf();var c=this.$();if(!this.s.Lj&&c){var d=this.ia();a?(a.$().appendChild(c),a=this.ia(),re(this,a.x-d.x,a.y-d.y)):b&&(this.s.Da.appendChild(c),this.translate(d.x,d.y))}}};
e.ia=function(){var a=0,b=0,c=this.ud?this.s.Za.Ob():null,d=this.$();if(d){do{var f=z.h.Pb(d);a+=f.x;b+=f.y;this.ud&&this.s.Za.Jc.firstChild==d&&(f=this.s.Za.ai(),a+=f.x,b+=f.y);d=d.parentNode}while(d&&d!=this.s.Da&&d!=c)}return new G(a,b)};e.moveBy=function(a,b){if(this.qd)throw Error("Block has parent.");var c=z.i.isEnabled();if(c)var d=new z.i.fg(this);var f=this.ia();this.translate(f.x+a,f.y+b);re(this,a,b);c&&(Md(d),z.i.O(d));Ke(this.s)};
e.translate=function(a,b){this.$().setAttribute("transform","translate("+a+","+b+")")};e.ui=function(){if(this.ud){var a=this.ia();this.aj();this.s.Za.Nd(a.x,a.y);Le(this.s.Za,this.$())}};e.mm=function(a){this.ud&&(this.translate(a.x,a.y),this.s.Za.pg(this.s.Da))};e.ti=function(a){this.ud?this.s.Za.Nd(a.x,a.y):(this.v.Od="translate("+a.x+","+a.y+")",this.v.setAttribute("transform",this.v.Od+this.v.df))};e.aj=function(){z.h.removeAttribute(this.$(),"transform")};
function fg(a){if(a.s&&!a.s.tb()&&!a.getParent()&&!a.Zb){var b=a.s.Dc;if(b&&b.Gp){var c=b.xk,d=c/2,f=a.ia();b=Math.round((f.x-d)/c)*c+d-f.x;c=Math.round((f.y-d)/c)*c+d-f.y;b=Math.round(b);c=Math.round(c);0==b&&0==c||a.moveBy(b,c)}}}e.sj=function(){var a=this.ia(),b=this.V?P:0,c=this.lb();if(this.u){var d=new G(a.x-(c.width-b),a.y);a=new G(a.x+b,a.y+c.height)}else d=new G(a.x-b,a.y),a=new G(a.x+c.width-b,a.y+c.height);return{rc:d,Mc:a}};
e.$e=function(a){if(this.dd!=a){for(var b=[],c=0,d;d=this.da[c];c++)b.push.apply(b,d.ja(!a));if(a){d=ye(this);for(c=0;c<d.length;c++)d[c].ja(!1);c=this.toString(z.an);d=this.tf(z.Zc,"_TEMP_COLLAPSED_INPUT");Lg(d,d.Ia.length,c,void 0);d.qa()}else this.ak("_TEMP_COLLAPSED_INPUT"),this.Fi(null);Q.o.$e.call(this,a);b.length||(b[0]=this);if(this.R)for(c=0;a=b[c];c++)a.ba()}};
e.Ak=function(a,b){for(var c=[],d=0,f;f=this.da[d];d++){for(var h=0,k;k=f.Ia[h];h++)k instanceof pj&&c.push(k);f.connection&&(f=M(f.connection))&&c.push(f)}a=c.indexOf(a);-1==a&&(a=b?-1:c.length);(c=c[b?a+1:a-1])?c instanceof Bg?c.ye():c.Ak(null,b):(c=this.getParent())&&c.Ak(this,b)};e.Ld=function(a){var b=this.s&&this.s.jd(a);if(b){if(b.Pe)throw Error("Tried to call gesture.handleBlockStart, but the gesture had already been started.");gf(b,this);b.Rc=a}};
e.Yf=function(a){if(!this.s.options.readOnly&&this.contextMenu){var b=this,c=[];if(this.Fb()&&this.Qc()&&!b.Zb){c.push(z.fa.An(b));Ud(this)&&!this.dd&&this.s.options.Pn&&c.push(z.fa.yn(b));if(!this.dd)for(var d=1;d<this.da.length;d++)if(this.da[d-1].type!=z.Xa&&this.da[d].type!=z.Xa){d={enabled:!0};var f=og(this);d.text=f?z.U.EXTERNAL_INPUTS:z.U.INLINE_INPUTS;d.kb=function(){b.Xf(!f)};c.push(d);break}this.s.options.collapse&&(this.dd?(d={enabled:!0},d.text=z.U.EXPAND_BLOCK,d.kb=function(){b.$e(!1)},
c.push(d)):(d={enabled:!0},d.text=z.U.COLLAPSE_BLOCK,d.kb=function(){b.$e(!0)},c.push(d)));this.s.options.disable&&(d={text:this.disabled?z.U.ENABLE_BLOCK:z.U.DISABLE_BLOCK,enabled:!Og(this),kb:function(){b.ue(!b.disabled)}},c.push(d));c.push(z.fa.zn(b))}c.push(z.fa.Bn(b));this.P&&this.P(c);z.fa.show(a,c,this.u);z.fa.Hh=this}};function re(a,b,c){if(a.R){for(var d=a.hd(!1),f=0;f<d.length;f++)d[f].moveBy(b,c);d=ye(a);for(f=0;f<d.length;f++)Sd(d[f]);for(f=0;f<a.Bd.length;f++)re(a.Bd[f],b,c)}}
e.ve=function(a){if(a){var b=this.$();b.Od="";b.df="";z.Nh=z.Nh.concat(this.hd(!0));z.h.Ma(this.v,"blocklyDragging")}else z.Nh=[],z.h.ib(this.v,"blocklyDragging");for(b=0;b<this.Bd.length;b++)this.Bd[b].ve(a)};e.lh=function(){this.Qc()?z.h.Ma(this.v,"blocklyDraggable"):z.h.ib(this.v,"blocklyDraggable")};e.bf=function(a){Q.o.bf.call(this,a);this.lh()};e.mk=function(a){Q.o.mk.call(this,a);a=ye(this);for(var b=0;b<a.length;b++)a[b].Qd()};e.tk=function(a){Q.o.tk.call(this,a);this.Pd()};e.$=function(){return this.v};
e.B=function(a,b){if(this.s){z.D.Aa();Mf();var c=this.s;if(z.selected==this){this.kf();var d=this.s;d.fb&&d.fb.cancel()}z.fa.Hh==this&&z.fa.Aa();b&&this.R&&(Nd(this,a),z.za.ko(this));this.R=!1;if(this.cc){for(var f in this.cc)clearTimeout(this.cc[f]);this.cc=null}z.i.disable();try{var h=ye(this);for(b=0;b<h.length;b++)h[b].B()}finally{z.i.enable()}Q.o.B.call(this,a);this.v.parentNode.removeChild(this.v);Ke(c);this.j=this.g=this.td=this.v=null;Nf()}};
e.Pd=function(){if(!this.disabled){var a=this.ed,b=mj(a);if(this.Pa)b=oj([255,255,255],b,.6),a=kj(b),this.g.style.display="none",this.j.setAttribute("fill",a);else{this.g.style.display="";var c=kj(oj([255,255,255],b,.3));b=kj(oj([0,0,0],b,.2));this.g.setAttribute("stroke",c);this.j.setAttribute("fill",b)}this.td.setAttribute("fill",a);a=ye(this);for(c=0;c<a.length;c++)a[c].Pd();for(a=0;c=this.da[a];a++){b=0;for(var d;d=c.Ia[b];b++)d.yg()}}};
function ve(a){a.disabled||Og(a)?z.h.Ma(a.v,"blocklyDisabled")&&a.td.setAttribute("fill","url(#"+a.s.options.vg+")"):z.h.ib(a.v,"blocklyDisabled")&&a.Pd();a=a.ce(!1);for(var b=0,c;c=a[b];b++)ve(c)}e.Kl=function(){return this.Ga?this.Ga.mb().replace(/\s+$/,"").replace(/ +\n/g,"\n"):""};e.$g=function(a){var b=!1;"string"==typeof a?(this.Ga||(this.Ga=new Td(this),b=!0),this.Ga.ob(a)):this.Ga&&(this.Ga.B(),b=!0);b&&this.R&&(this.ba(),this.Kb())};
e.Fi=function(a,b){this.cc||(this.cc=Object.create(null));var c=b||"";if(c)this.cc[c]&&(clearTimeout(this.cc[c]),delete this.cc[c]);else for(var d in this.cc)clearTimeout(this.cc[d]),delete this.cc[d];if(this.s.tb()){var f=this;this.cc[c]=setTimeout(function(){f.s&&(delete f.cc[c],f.Fi(a,c))},100)}else{this.Zb&&(a=null);b=Ng(this);for(d=null;b;)b.isCollapsed()&&(d=b),b=Ng(b);d&&d.Fi(a,"collapsed "+this.id+" "+c);b=!1;"string"==typeof a?(this.sc||(this.sc=new Vd(this),b=!0),this.sc.ob(a,c)):this.sc&&
!c?(this.sc.B(),b=!0):this.sc&&(b=this.sc.mb(),this.sc.ob("",c),(d=this.sc.mb())||this.sc.B(),b=b!=d);b&&this.R&&(this.ba(),this.Kb())}};e.Lm=function(a){this.Kd&&this.Kd!==a&&this.Kd.B();a&&(a.N=this,this.Kd=a,Rd(a))};e.ue=function(a){this.disabled!=a&&(Q.o.ue.call(this,a),this.R&&ve(this))};e.sf=function(){z.h.Ma(this.v,"blocklySelected")};e.Ye=function(){z.h.ib(this.v,"blocklySelected")};e.bh=function(a){a?z.h.Ma(this.v,"blocklyDraggingDelete"):z.h.ib(this.v,"blocklyDraggingDelete")};
e.Zg=function(a){Q.o.Zg.call(this,a);this.R&&this.Pd()};function Ge(a){do{var b=a.$();b.parentNode.appendChild(b);a=a.getParent()}while(a)}e.rk=function(a,b){Q.o.rk.call(this,a,b);this.R&&(this.ba(),this.Kb())};e.pk=function(a,b){Q.o.pk.call(this,a,b);this.R&&(this.ba(),this.Kb())};e.qk=function(a,b){Q.o.qk.call(this,a,b);this.R&&(this.ba(),this.Kb())};e.Xf=function(a){Q.o.Xf.call(this,a);this.R&&(this.ba(),this.Kb())};e.ak=function(a,b){Q.o.ak.call(this,a,b);this.R&&(this.ba(),this.Kb())};
e.tf=function(a,b){a=Q.o.tf.call(this,a,b);this.R&&(this.ba(),this.Kb());return a};e.hd=function(a){var b=[];if(a||this.R)if(this.V&&b.push(this.V),this.X&&b.push(this.X),this.T&&b.push(this.T),a||!this.dd){a=0;for(var c;c=this.da[a];a++)c.connection&&b.push(c.connection)}return b};e.Qg=function(a){return new le(this,a)};
e.Kb=function(){if(this.s&&!this.s.tb()){var a=ne(this);if(!a.Zb)for(var b=this.hd(!1),c=0,d;d=b[c];c++){d.isConnected()&&ce(d)&&M(d).Kb();for(var f=d.pm(z.Kc),h=0,k;k=f[h];h++)d.isConnected()&&k.isConnected()||ne(k.A)!=a&&(ce(d)?$d(k,d):$d(d,k))}}};function He(a){var b=z.i.Ob();setTimeout(function(){z.i.W(b);fg(a);z.i.W(!1)},z.qh/2);setTimeout(function(){z.i.W(b);a.Kb();z.i.W(!1)},z.qh)};function qj(){this.j=[];this.g=[];this.w=[];this.m=[]}var P=8,rj=7.5*(1-Math.SQRT1_2)+.5,sj=8.5*(1-Math.SQRT1_2)-.5,Ce="v 5 c 0,10 -"+P+",-8 -"+P+",7.5 s "+P+",-2.5 "+P+",7.5",tj="v 6.5 m -"+.97*P+",3 q -"+.05*P+",10 "+.3*P+",9.5 m "+.67*P+",-1.9 v 1.4",uj="m "+rj+","+rj,vj="a 8,8 0 0,0 "+(-sj-.5)+","+(8-sj),wj="a 8.5,8.5 0 0,0 "+(8-sj)+","+(sj+.5);
Q.prototype.lb=function(){var a=this.height,b=this.width,c=ad(this);c?(c=c.lb(),a+=c.height-4,b=Math.max(b,c.width)):this.T||this.V||(a+=2);return{height:a,width:b}};
Q.prototype.ba=function(a){Mf();this.R=!0;var b=10;this.u&&(b=-b);for(var c=ye(this),d=0;d<c.length;d++){var f=c[d];f.il&&f.N.isCollapsed()?f.g.setAttribute("display","none"):(f.g.setAttribute("display","block"),f.N.u&&(b-=17),f.g.setAttribute("transform","translate("+b+",5)"),Sd(f),b=f.N.u?b-10:b+27)}var h=b+=this.u?10:-10,k=this.da;c=[];c.Sb=h+20;if(this.X||this.T)c.Sb=Math.max(c.Sb,40);f=d=0;for(var l=!1,m=!1,n=!1,q=void 0,r=og(this)&&!this.isCollapsed(),u=0,p;p=k[u];u++)if(p.aa()){if(r&&q&&q!=
z.Xa&&p.type!=z.Xa)var w=c[c.length-1];else q=p.type,w=[],w.type=r&&p.type!=z.Xa?-1:p.type,w.height=0,c.push(w);w.push(p);p.re=25;p.ub=r&&p.type==z.Wa?P+12.5:0;if(p.connection&&p.connection.isConnected()){var D=M(p.connection).lb();p.re=Math.max(p.re,D.height);p.ub=Math.max(p.ub,D.width)}r||u!=k.length-1?!r&&p.type==z.Wa&&k[u+1]&&k[u+1].type==z.Xa&&p.re--:p.re--;w.height=Math.max(w.height,p.re);p.Nc=0;1==c.length&&(p.Nc+=this.u?-h:h);D=!1;for(var T=0,N;N=p.Ia[T];T++){0!=T&&(p.Nc+=10);var La=N.Hd();
N.ub=La.width;N.yi=D&&N.Be?10:0;p.Nc+=N.ub+N.yi;w.height=Math.max(w.height,La.height);D=N.Be}-1!=w.type&&(w.type==z.Xa?(m=!0,f=Math.max(f,p.Nc)):(w.type==z.Wa?l=!0:w.type==z.Zc&&(n=!0),d=Math.max(d,p.Nc)))}for(h=0;w=c[h];h++)if(w.Tm=!1,-1==w.type)for(k=0;p=w[k];k++)if(p.type==z.Wa){w.height+=10;w.Tm=!0;break}c.Hi=20+f;m&&(c.Sb=Math.max(c.Sb,c.Hi+30));l?c.Sb=Math.max(c.Sb,d+20+P):n&&(c.Sb=Math.max(c.Sb,d+20));c.To=l;c.Lt=m;c.Kt=n;d=b;this.F=!1;this.height=0;this.V?this.w=this.m=!0:(this.w=this.m=!1,
this.X&&(b=M(this.X))&&ad(b)==this&&(this.m=!0),ad(this)&&(this.w=!0));b=new qj;f=c.Sb;l=b.j;m=b.g;this.m?(l.push("m 0,0"),m.push("m 0.5,0.5"),this.F&&(l.push("c 30,-15 70,-15 100,0"),m.push(this.u?"m 25,-8.7 c 29.7,-6.2 57.2,-0.5 75,8.7":"c 17.8,-9.2 45.3,-14.9 75,-8.7 M 100.5,0.5"))):(l.push("m 0,8"),m.push(this.u?uj:"m 0.5,7.5"),l.push("A 8,8 0 0,1 8,0"),m.push("A 7.5,7.5 0 0,1 8,0.5"));this.X&&(l.push("H",15),m.push("H",15),l.push("l 6,4 3,0 6,-4"),m.push("l 6,4 3,0 6,-4"),pe(this.X,this.u?-30:
30,0));l.push("H",f);m.push("H",f-.5);this.width=f;f={x:0,y:0};l={x:0,y:0};for(m=0;n=c[m];m++){f.x=10;0==m&&(f.x+=this.u?-d:d);b.g.push("M",c.Sb-.5+","+(f.y+.5));if(this.isCollapsed())h=n,p=b.j,w=b.g,xj(this,h[0].Ia,f.x,f.y),p.push("l 8,0 0,4 8,4 -16,8 8,4"),w.push("h 8"),h=h.height-20,p.push("v",h),this.u&&(w.push("v 3.9 l 7.2,3.4 m -14.5,8.9 l 7.3,3.5"),w.push("v",h-.7)),this.width+=15;else if(-1==n.type){w=n;h=f;k=l;q=c.Sb;r=b.w;u=b.m;D=b.j;T=b.g;for(N=0;p=w[N];N++){La=h.x;var Pi=h.y;w.Tm&&(Pi+=
5);h.x=xj(this,p.Ia,La,Pi);p.type!=z.Zc&&(h.x+=p.ub+10);p.type==z.Wa&&(r.push("M",h.x-10+","+(h.y+5)),r.push("h",P-2-p.ub),r.push(Ce),r.push("v",p.re+1-20),r.push("h",p.ub+2-P),r.push("z"),this.u?(u.push("M",h.x-10-2.5+P-p.ub+","+(h.y+5+.5)),u.push(tj),u.push("v",p.re-20+2.5),u.push("h",p.ub-P+2)):(u.push("M",h.x-10+.5+","+(h.y+5+.5)),u.push("v",p.re+1),u.push("h",P-2-p.ub),u.push("M",h.x-p.ub-10+.9+","+(h.y+5+20-.7)),u.push("l",.46*P+",-2.1")),this.u?k.x=-h.x-P+10+p.ub+1:k.x=h.x+P-10-p.ub-1,k.y=
h.y+5+1,pe(p.connection,k.x,k.y))}h.x=Math.max(h.x,q);this.width=Math.max(this.width,h.x);D.push("H",h.x);T.push("H",h.x-.5);D.push("v",w.height);this.u&&T.push("v",w.height-1)}else n.type==z.Wa?(u=n,p=f,w=l,h=c.Sb,k=b.j,q=b.g,r=u[0],D=p.x,T=p.y,r.align!=z.eg&&(N=h-r.Nc-P-20,r.align==z.ph?D+=N:r.align==z.oh&&(D+=N/2)),xj(this,r.Ia,D,T),k.push(Ce),u=u.height-20,k.push("v",u),this.u?(q.push(tj),q.push("v",u+.5)):(q.push("M",h-5+","+(p.y+20-.7)),q.push("l",.46*P+",-2.1")),w.x=this.u?-h-1:h+1,pe(r.connection,
w.x,p.y),r.connection.isConnected()&&(this.width=Math.max(this.width,h+M(r.connection).lb().width-P+1))):n.type==z.Zc?(p=n,w=b.j,h=b.g,k=p[0],q=f.x,r=f.y,k.align!=z.eg&&(u=c.Sb-k.Nc-20,c.To&&(u-=P),k.align==z.ph?q+=u:k.align==z.oh&&(q+=u/2)),xj(this,k.Ia,q,r),w.push("v",p.height),this.u&&h.push("v",p.height-1)):n.type==z.Xa&&(p=n,w=f,h=l,k=c,q=m,r=b.j,u=b.g,D=p[0],0==q&&(r.push("v",10),this.u&&u.push("v",9),w.y+=10),T=w.x,N=w.y,D.align!=z.eg&&(La=k.Hi-D.Nc-20,D.align==z.ph?T+=La:D.align==z.oh&&(T+=
La/2)),xj(this,D.Ia,T,N),w.x=k.Hi+30,r.push("H",w.x),r.push("l -6,4 -3,0 -6,-4 h -7 a 8,8 0 0,0 -8,8"),r.push("v",p.height-16),r.push("a 8,8 0 0,0 8,8"),r.push("H",k.Sb),this.u?(u.push("M",w.x-30+sj+","+(w.y+sj)),u.push(vj),u.push("v",p.height-16),u.push("a 8.5,8.5 0 0,0 8.5,8.5")):(u.push("M",w.x-30+sj+","+(w.y+p.height-sj)),u.push(wj)),u.push("H",k.Sb-.5),h.x=this.u?-w.x:w.x+1,pe(D.connection,h.x,w.y+1),D.connection.isConnected()&&(this.width=Math.max(this.width,k.Hi+M(D.connection).lb().width)),
q==k.length-1||k[q+1].type==z.Xa)&&(r.push("v",10),this.u&&u.push("v",9),w.y+=10);f.y+=n.height}c.length||(f.y=25,b.j.push("V",f.y),this.u&&b.g.push("V",f.y-1));c=f.y;d=b.j;f=b.g;this.height+=c+1;this.T&&(d.push("H",30+(this.u?.5:-.5)+" l -6,4 -3,0 -6,-4"),pe(this.T,this.u?-30:30,c+1),this.height+=4);this.w?(d.push("H 0"),this.u||f.push("M","0.5,"+(c-.5))):(d.push("H",8),d.push("a","8,8 0 0,1 -8,-8"),this.u||(f.push("M",rj+","+(c-rj)),f.push("A","7.5,7.5 0 0,1 0.5,"+(c-8))));c=b.j;d=b.g;this.V?(pe(this.V,
0,0),c.push("V",20),c.push("c 0,-10 -"+P+",8 -"+P+",-7.5 s "+P+",2.5 "+P+",-7.5"),this.u?(d.push("M",-.25*P+",8.4"),d.push("l",-.45*P+",-2.1")):(d.push("V",18.5),d.push("m",-.92*P+",-0.5 q "+-.19*P+",-5.5 0,-11"),d.push("m",.92*P+",1 V 0.5 H 1")),this.width+=P):this.u||(this.m?d.push("V",.5):d.push("V",8));c.push("z");c=b.j.join(" ")+"\n"+b.w.join(" ");this.td.setAttribute("d",c);this.j.setAttribute("d",c);c=b.g.join(" ")+"\n"+b.m.join(" ");this.g.setAttribute("d",c);this.u&&(this.td.setAttribute("transform",
"scale(-1 1)"),this.g.setAttribute("transform","scale(-1 1)"),this.j.setAttribute("transform","translate(1,1) scale(-1 1)"));c=this.ia();this.X&&oe(this.X,c);this.V&&oe(this.V,c);for(b=0;b<this.da.length;b++)if(d=this.da[b].connection)oe(d,c),d.isConnected()&&qe(d);this.T&&(oe(this.T,c),this.T.isConnected()&&qe(this.T));!1!==a&&((a=this.getParent())?a.ba(!0):Ke(this.s));Nf()};
function xj(a,b,c,d){d+=5;a.u&&(c=-c);for(var f=0,h;h=b[f];f++){var k=h.$();k&&(a.u?(c-=h.yi+h.ub,k.setAttribute("transform","translate("+c+","+d+")"),h.ub&&(c-=10)):(k.setAttribute("transform","translate("+(c+h.yi)+","+d+")"),h.ub&&(c+=h.yi+h.ub+10)))}return a.u?-c:c};z.U={};function pj(a,b){pj.o.constructor.call(this,a,b)}y(pj,Bg);pj.ca=function(a){var b=z.h.vb(a.text);b=new pj(b,a["class"]);"boolean"===typeof a.spellcheck&&(b.Nm=a.spellcheck);return b};var yj=null;e=pj.prototype;e.vh="text";e.Nm=!0;e.B=function(){z.I.Jg(this);pj.o.B.call(this)};e.xa=function(a){if(null!==a){if(this.A){var b=Kd(this,a);null!==b&&(a=b)}Bg.prototype.xa.call(this,a)}};
e.ob=function(a){null!==a&&(a=String(a),a!==this.oa&&(this.A&&z.i.isEnabled()&&z.i.O(new z.i.Tb(this.A,"field",this.name,this.oa,a)),Bg.prototype.ob.call(this,a)))};
e.ye=function(a){this.l=this.A.s;a=a||!1;if(!a&&(db||fb||hb))zj(this);else{z.I.show(this,this.A.u,Aj(this));var b=z.I.Z,c=document.createElement("input");c.className="blocklyHtmlInput";c.setAttribute("spellcheck",this.Nm);var d=11*this.l.scale+"pt";b.style.fontSize=d;c.style.fontSize=d;yj=c;b.appendChild(c);c.value=c.defaultValue=this.oa;c.rm=null;Bj(this);this.Ai();a||(c.focus(),c.select());c.np=z.K(c,"keydown",this,this.mp);c.qp=z.K(c,"keyup",this,this.um);c.pp=z.K(c,"keypress",this,this.um);c.ym=
this.Ai.bind(this);this.l.xc(c.ym)}};function zj(a){z.prompt(z.U.CHANGE_VALUE_TITLE,a.oa,function(b){a.A&&(b=Kd(a,b));a.xa(b)})}e.mp=function(a){var b=yj;13==a.keyCode?z.I.Aa():27==a.keyCode?(b.value=b.defaultValue,z.I.Aa()):9==a.keyCode&&(z.I.Aa(),this.A.Ak(this,!a.shiftKey),a.preventDefault())};e.um=function(){var a=yj,b=a.value;b!==a.rm?(a.rm=b,this.xa(b),Bj(this)):F&&this.A.ba();this.Ai();z.Zf(this.A.s)};
function Bj(a){var b=!0;if(!yj)throw Error("htmlInput not defined");var c=yj;a.A&&(b=Kd(a,c.value));null===b?z.h.Ma(c,"blocklyInvalidInput"):z.h.ib(c,"blocklyInvalidInput")}e.Ai=function(){var a=z.I.Z,b=Ig(this);a.style.width=b.right-b.left+"px";a.style.height=b.bottom-b.top+"px";b=new G(this.A.u?b.right-a.offsetWidth:b.left,b.top);b.y+=1;E&&z.I.Z.style.top&&(--b.x,--b.y);F&&(b.y-=3);a.style.left=b.x+"px";a.style.top=b.y+"px"};
function Aj(a){return function(){var b=yj,c=yj,d=c.value;a.A&&(d=Kd(a,d),null===d?d=c.defaultValue:a.lp&&a.lp(d));a.ob(d);a.A.R&&a.A.ba();z.La(b.np);z.La(b.qp);z.La(b.pp);a.l.qe(b.ym);yj=null;z.i.W(!1);b=z.I.Z.style;b.width="auto";b.height="auto";b.fontSize=""}}Dg("field_input",pj);function Cj(a,b){this.zk=z.h.C("tspan",{},null);this.zk.appendChild(document.createTextNode("\u00b0"));a=a&&!isNaN(a)?String(a):"0";Cj.o.constructor.call(this,a,b)}y(Cj,pj);Cj.ca=function(a){return new Cj(a.angle)};e=Cj.prototype;e.rd=function(){this.Ea?(this.na.textContent=Gg(this),this.A.u?this.na.insertBefore(this.zk,this.na.firstChild):this.na.appendChild(this.zk),this.mh()):this.la.width=0};
e.xf=function(){var a=this;return function(){Cj.o.xf.call(a)();a.zg=null;a.gl&&z.La(a.gl);a.nm&&z.La(a.nm);a.om&&z.La(a.om)}};
e.ye=function(){Cj.o.ye.call(this,db||fb||hb);var a=z.I.Z;if(a.firstChild){a=z.h.C("svg",{xmlns:"http://www.w3.org/2000/svg","xmlns:html":"http://www.w3.org/1999/xhtml","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1",height:"100px",width:"100px"},a);var b=z.h.C("circle",{cx:50,cy:50,r:49,"class":"blocklyAngleCircle"},a);this.zg=z.h.C("path",{"class":"blocklyAngleGauge"},a);this.gm=z.h.C("line",{x1:50,y1:50,"class":"blocklyAngleLine"},a);for(var c=0;360>c;c+=15)z.h.C("line",{x1:99,y1:50,
x2:99-(0==c%45?10:5),y2:50,"class":"blocklyAngleMarks",transform:"rotate("+c+",50,50)"},a);a.style.marginLeft="-34px";this.gl=z.Lc(a,"click",this,z.I.Aa);this.nm=z.Lc(b,"mousemove",this,this.xm);this.om=z.Lc(this.zg,"mousemove",this,this.xm);Dj(this)}};e.xm=function(a){var b=this.zg.ownerSVGElement.getBoundingClientRect(),c=a.clientX-b.left-50;a=a.clientY-b.top-50;b=Math.atan(-a/c);isNaN(b)||(b=z.h.Op(b),0>c?b+=180:0<a&&(b+=360),b=15*Math.round(b/15),b=Kd(this,b),yj.value=b,this.xa(b),Bj(this),this.Ai())};
e.ob=function(a){Cj.o.ob.call(this,a);this.na&&(Dj(this),this.la.width=0)};function Dj(a){if(a.zg){var b=Number(a.mb());b=z.h.hh(b);var c=["M ",50,",",50],d=50,f=50;if(!isNaN(b)){var h=z.h.hh(0),k=49*Math.cos(h),l=-49*Math.sin(h);d+=49*Math.cos(b);f-=49*Math.sin(b);c.push(" l ",k,",",l," A ",49,",",49," 0 ",Math.abs(Math.floor((b-h)/Math.PI)%2)," ",Number(!1)," ",d,",",f," z")}a.zg.setAttribute("d",c.join(""));a.gm.setAttribute("x2",d);a.gm.setAttribute("y2",f)}}
e.$i=function(a){if(null===a)return null;a=parseFloat(a||0);if(isNaN(a))return null;a%=360;0>a&&(a+=360);360<a&&(a-=360);return String(a)};Dg("field_angle",Cj);function Ej(a,b){Ej.o.constructor.call(this,"",b);this.xa(a)}y(Ej,Bg);Ej.ca=function(a){return new Ej(a.checked?"TRUE":"FALSE")};e=Ej.prototype;e.vh="default";e.qa=function(){this.va||(Ej.o.qa.call(this),this.Dh=z.h.C("text",{"class":"blocklyText blocklyCheckbox",x:-3,y:14},this.va),this.Dh.appendChild(document.createTextNode("\u2713")),this.Dh.style.display=this.ya?"block":"none")};e.ab=function(){return String(this.ya).toUpperCase()};
e.xa=function(a){a="string"==typeof a?"TRUE"==a.toUpperCase():!!a;this.ya!==a&&(this.A&&z.i.isEnabled()&&z.i.O(new z.i.Tb(this.A,"field",this.name,this.ya,a)),this.ya=a,this.Dh&&(this.Dh.style.display=a?"block":"none"))};e.ye=function(){var a=!this.ya;this.A&&(a=Kd(this,a));null!==a&&this.xa(String(a).toUpperCase())};Dg("field_checkbox",Ej);var Fj="StopIteration"in g?g.StopIteration:{message:"StopIteration",stack:""};function Gj(){}Gj.prototype.next=function(){throw Fj;};Gj.prototype.Xk=function(){return this};function Hj(a){if(a instanceof Gj)return a;if("function"==typeof a.Xk)return a.Xk();if(ea(a)){var b=0,c=new Gj;c.next=function(){for(;;){if(b>=a.length)throw Fj;if(b in a)return a[b++];b++}};return c}throw Error("Not implemented");}function Ij(a){try{return Hj(a).next()}catch(b){if(b!=Fj)throw b;return null}};function Jj(a,b,c,d,f){this.g=!!b;this.m=null;this.w=0;this.P=!1;this.F=!c;a&&Kj(this,a,d);this.j=void 0!=f?f:this.w||0;this.g&&(this.j*=-1)}y(Jj,Gj);function Kj(a,b,c){if(a.m=b)a.w=v(c)?c:1!=a.m.nodeType?0:a.g?-1:1;v(void 0)&&(a.j=void 0)}Jj.prototype.clone=function(){return new Jj(this.m,this.g,!this.F,this.w,this.j)};
Jj.prototype.next=function(){if(this.P){if(!this.m||this.F&&0==this.j)throw Fj;var a=this.m;var b=this.g?-1:1;if(this.w==b){var c=this.g?a.lastChild:a.firstChild;c?Kj(this,c):Kj(this,a,-1*b)}else(c=this.g?a.previousSibling:a.nextSibling)?Kj(this,c):Kj(this,a.parentNode,-1*b);this.j+=this.w*(this.g?-1:1)}else this.P=!0;a=this.m;if(!this.m)throw Fj;return a};
Jj.prototype.splice=function(a){var b=this.m,c=this.g?1:-1;this.w==c&&(this.w=-1*c,this.j+=this.w*(this.g?-1:1));this.g=!this.g;Jj.prototype.next.call(this);this.g=!this.g;c=ea(arguments[0])?arguments[0]:arguments;for(var d=c.length-1;0<=d;d--)b.parentNode&&b.parentNode.insertBefore(c[d],b.nextSibling);xc(b)};function Lj(a,b,c,d){Jj.call(this,a,b,c,null,d)}y(Lj,Jj);Lj.prototype.next=function(){do Lj.o.next.call(this);while(-1==this.w);return this.m};function Mj(){}y(Mj,ni);ca(Mj);var Nj=0;Mj.prototype.S=function(a){var b=qi(this,a);a=a.Mb().S("DIV",b,Oj(this,a.ic(),a.Hd(),a.Mb()));Oh(a,"grid");return a};function Oj(a,b,c,d){for(var f=[],h=0,k=0;h<c.height;h++){for(var l=[],m=0;m<c.width;m++){var n=b&&b[k++];l.push(Pj(a,n,d))}f.push(Qj(a,l,d))}a=d.S("TABLE",a.Oa()+"-table",d.S("TBODY",a.Oa()+"-body",f));a.cellSpacing="0";a.cellPadding="0";return a}function Qj(a,b,c){a=c.S("TR",a.Oa()+"-row",b);Oh(a,"row");return a}
function Pj(a,b,c){a=c.S("TD",{"class":a.Oa()+"-cell",id:a.Oa()+"-cell-"+Nj++},b);Oh(a,"gridcell");Y(a,"selected",!1);if(!Ec(a)&&!Ph(a,"label")){var d;b=new Lj(a);for(c="";!c&&(d=Ij(b));)1==d.nodeType&&(c=Ph(d,"label")||d.title);(d=c)&&Y(a,"label",d)}return a}
Mj.prototype.mc=function(a,b){if(a){var c=nc(this.Oa()+"-body",a)[0];if(c){var d=0;A(c.rows,function(a){A(a.cells,function(a){wc(a);if(b){var c=b[d++];c&&a.appendChild(c)}})});if(d<b.length){for(var f=[],h=kc(a),k=c.rows[0].cells.length;d<b.length;){var l=b[d++];f.push(Pj(this,l,h));f.length==k&&(l=Qj(this,f,h),c.appendChild(l),f.length=0)}if(0<f.length){for(;f.length<k;)f.push(Pj(this,"",h));l=Qj(this,f,h);c.appendChild(l)}}}yg(a,E)}};
function Rj(a,b,c){for(b=b.H();c&&1==c.nodeType&&c!=b;){if("TD"==c.tagName&&ci(c,a.Oa()+"-cell"))return c.firstChild;c=c.parentNode}return null}Mj.prototype.Oa=function(){return"goog-palette"};function Sj(a){Ch.call(this);this.g=[];Tj(this,a)}y(Sj,Ch);e=Sj.prototype;e.Oe=null;e.kk=null;function Tj(a,b){b&&(A(b,function(a){Uj(this,a,!1)},a),ya(a.g,b))}e.ld=function(){return this.Oe};e.nc=function(a){a!=this.Oe&&(Uj(this,this.Oe,!1),this.Oe=a,Uj(this,a,!0));this.dispatchEvent("select")};function Vj(a,b){a.nc(a.g[b]||null)}e.clear=function(){var a=this.g;if(!x(a))for(var b=a.length-1;0<=b;b--)delete a[b];a.length=0;this.Oe=null};e.Ha=function(){Sj.o.Ha.call(this);delete this.g;this.Oe=null};
function Uj(a,b,c){b&&("function"==typeof a.kk?a.kk(b,c):"function"==typeof b.sk&&b.sk(c))};function Wj(a,b,c){Z.call(this,a,b||Mj.kd(),c);this.Wi&=-89;this.sb=new Xj;this.sb.Ei(this);this.$c=-1}y(Wj,Z);e=Wj.prototype;e.la=null;e.Id=-1;e.xb=null;e.Ha=function(){Wj.o.Ha.call(this);this.xb&&(this.xb.B(),this.xb=null);this.la=null;this.sb.B()};e.Ci=function(a){Wj.o.Ci.call(this,a);Yj(this);this.xb?(this.xb.clear(),Tj(this.xb,a)):(this.xb=new Sj(a),a=na(this.Do,this),this.xb.kk=a,U(Hh(this),this.xb,"select",this.No));this.Id=-1};e.Th=function(){return""};
e.Fg=function(a){Wj.o.Fg.call(this,a);var b=Rj(this.g,this,a.target);b&&a.relatedTarget&&yc(b,a.relatedTarget)||b!=Zj(this)&&ak(this,b)};e.Jf=function(a){Wj.o.Jf.call(this,a);this.ya&4&&(a=Rj(this.g,this,a.target),a!=Zj(this)&&ak(this,a))};e.Xe=function(a){var b=Zj(this);return b?(a&&(this.ld()?"mouseup"!=a.type||Rj(this.g,this,a.target):1)&&this.nc(b),Wj.o.Xe.call(this,a)):!1};
e.Ec=function(a){var b=this.ic();b=b?b.length:0;var c=this.la.width;if(0==b||!this.isEnabled())return!1;if(13==a.g||32==a.g)return this.Xe(a);if(36==a.g)return bk(this,0),!0;if(35==a.g)return bk(this,b-1),!0;if(0>this.Id)if(this.xb){var d=this.xb;var f=d.Oe;d=f?qa(d.g,f):-1}else d=-1;else d=this.Id;switch(a.g){case 37:if(-1==d||0==d)d=b;bk(this,d-1);a.preventDefault();return!0;case 39:return d==b-1&&(d=-1),bk(this,d+1),a.preventDefault(),!0;case 38:-1==d&&(d=b+c-1);if(d>=c)return bk(this,d-c),a.preventDefault(),
!0;break;case 40:if(-1==d&&(d=-c),d<b-c)return bk(this,d+c),a.preventDefault(),!0}return!1};e.No=function(){};e.Hd=function(){return this.la};function ck(a,b){if(a.H())throw Error("Component already rendered");a.la=v(b)?new jc(b,void 0):b;Yj(a)}function Zj(a){var b=a.ic();return b&&b[a.Id]}function bk(a,b){b!=a.Id&&(dk(a,a.Id,!1),a.$c=a.Id,a.Id=b,dk(a,b,!0),a.dispatchEvent("a"))}function ak(a,b){var c=a.ic();bk(a,c&&b?qa(c,b):-1)}e.ld=function(){return this.xb?this.xb.ld():null};
e.nc=function(a){this.xb&&this.xb.nc(a)};function dk(a,b,c){if(a.H()){var d=a.ic();if(d&&0<=b&&b<d.length){var f=(f=Zj(a))?f.parentNode:null;a.sb.H()!=f&&(a.sb.M=f);f=a.sb;f.Cc(c);!!(f.ya&2)==c&&(f=a.g,b=d[b])&&(b=b?b.parentNode:null,d=f.Oa()+"-cell-hover",c?di(b,d):fi(b,d),c?Y(a.M,"activedescendant",b.id):b.id==Ph(a.M,"activedescendant")&&a.M.removeAttribute("aria-activedescendant"))}}}e.Cc=function(a){a&&-1==this.Id?bk(this,-1<this.$c?this.$c:0):a||bk(this,-1);Wj.o.Cc.call(this,a)};
e.Do=function(a,b){if(this.H()&&a){a=a.parentNode;var c=this.g.Oa()+"-cell-selected";b?di(a,c):fi(a,c);Y(a,"selected",b)}};function Yj(a){var b=a.ic();if(b)if(a.la&&a.la.width){if(b=Math.ceil(b.length/a.la.width),!v(a.la.height)||a.la.height<b)a.la.height=b}else b=Math.ceil(Math.sqrt(b.length)),a.la=new jc(b,b);else a.la=new jc(0,0)}function Xj(){Z.call(this,null);this.ff|=2}y(Xj,Z);function ek(a,b,c){this.Sa=a||[];Wj.call(this,null,b||Mj.kd(),c);this.Sa=this.Sa;this.Ub=this.Ib=null;this.mc(fk(this))}y(ek,Wj);ek.prototype.Ub=null;ek.prototype.Ib=null;ek.prototype.vj=function(){var a=this.ld();if(a){var b=a.style[Qa()];if("undefined"!==typeof b)a=b;else{b=a.style;var c=pg["background-color"];if(!c){var d=Qa();c=d;void 0===a.style[d]&&(d=(F?"Webkit":E?"Moz":C?"ms":bb?"O":null)+Ra(d),void 0!==a.style[d]&&(c=d));pg["background-color"]=c}a=b[c]||""}return gk(a)}return null};
function hk(a,b){b=gk(b);a.Ub||(a.Ub=sa(a.Sa,function(a){return gk(a)}));a.xb&&Vj(a.xb,b?qa(a.Ub,b):-1)}function fk(a){return sa(a.Sa,function(a,c){var b=this.Mb().S("DIV",{"class":this.g.Oa()+"-colorswatch",style:"background-color:"+a});b.title=this.Ib&&this.Ib[c]?this.Ib[c]:"#"==a.charAt(0)?"RGB ("+mj(a).join(", ")+")":a;return b},a)}function gk(a){if(a)try{return gj(a).Ej}catch(b){}return null};function ik(a,b){V.call(this,a);this.g=b||null;U(Hh(this),this,"action",this.hp)}y(ik,V);e=ik.prototype;e.Hd=function(){return this.g?this.g.Hd():null};e.vj=function(){return this.g?this.g.vj():null};e.gb=function(){ik.o.gb.call(this);this.g&&this.g.ba(this.H());this.H().unselectable="on"};e.Ha=function(){ik.o.Ha.call(this);this.g&&(this.g.B(),this.g=null)};e.focus=function(){this.g&&this.g.H().focus()};e.hp=function(a){a.stopPropagation();this.dispatchEvent("change")};
function jk(a,b){b=new ek(b,null,a.Mb());ck(b,5);b.oc(32,!0);a.mg(b);a.g=b;a.pa&&a.g.ba(a.H())}var kk="#ffffff #cccccc #c0c0c0 #999999 #666666 #333333 #000000 #ffcccc #ff6666 #ff0000 #cc0000 #990000 #660000 #330000 #ffcc99 #ff9966 #ff9900 #ff6600 #cc6600 #993300 #663300 #ffff99 #ffff66 #ffcc66 #ffcc33 #cc9933 #996633 #663333 #ffffcc #ffff33 #ffff00 #ffcc00 #999900 #666600 #333300 #99ff99 #66ff99 #33ff33 #33cc00 #009900 #006600 #003300 #99ffff #33ffff #66cccc #00cccc #339999 #336666 #003333 #ccffff #66ffff #33ccff #3366ff #3333ff #000099 #000066 #ccccff #9999ff #6666cc #6633ff #6600cc #333399 #330099 #ffccff #ff99ff #cc66cc #cc33cc #993399 #663366 #330033".split(" ");function lk(a,b){lk.o.constructor.call(this,a,b);this.ob("\u00a0\u00a0\u00a0")}var mk;y(lk,Bg);lk.ca=function(a){return new lk(a.colour)};e=lk.prototype;e.qa=function(){lk.o.qa.call(this);this.zc.style.fillOpacity=1;this.xa(this.ab())};e.vh="default";e.B=function(){z.I.Jg(this);lk.o.B.call(this)};e.ab=function(){return this.ed};e.xa=function(a){this.A&&z.i.isEnabled()&&this.ed!=a&&z.i.O(new z.i.Tb(this.A,"field",this.name,this.ed,a));this.ed=a;this.zc&&(this.zc.style.fill=a)};
e.mb=function(){var a=this.ed,b=a.match(/^#(.)\1(.)\2(.)\3$/);b&&(a="#"+b[1]+b[2]+b[3]);return a};e.ye=function(){z.I.show(this,this.A.u,nk);var a=z.h.yj(),b=Ig(this),c=this.tg(),d=ug(c.H());z.I.Xj(a,b,d,this.A.u);var f=this;mk=S(c,"change",function(a){a=a.target.vj()||"#000000";z.I.Aa();f.A&&(a=Kd(f,a));null!==a&&f.xa(a)})};e.tg=function(){var a=new ik;a.g||jk(a,[]);ck(a.g,7);if(a.g){var b=a.g;b.Sa=kk;b.Ib=null;b.Ub=null;b.mc(fk(b))}else jk(a,kk);a.ba(z.I.Z);b=this.ab();a.g&&hk(a.g,b);return a};
function nk(){mk&&uh(mk);z.i.W(!1)}Dg("field_colour",lk);function Pg(a,b){"function"!=typeof a&&ok(a);this.Te=a;this.yk=this.Zj=null;a=this.Te;if(Array.isArray(a)){for(var c=!1,d=0;d<a.length;d++){var f=a[d][0];"string"==typeof f?a[d][0]=z.h.vb(f):(null!=f.alt&&(a[d][0].alt=z.h.vb(f.alt)),c=!0)}if(!(c||2>a.length)){f=[];for(d=0;d<a.length;d++)f.push(a[d][0]);var h=z.h.vk(f);d=z.h.Qn(f,h);c=z.h.Rn(f,h);if((d||c)&&!(h<=d+c)){d&&(this.Zj=f[0].substring(0,d-1));c&&(this.yk=f[0].substr(1-c));f=[];for(h=0;h<a.length;h++){var k=a[h][0],l=a[h][1];k=k.substring(d,
k.length-c);f[h]=[k,l]}this.Te=f}}}a=ng(this)[0];Pg.o.constructor.call(this,a[1],b)}y(Pg,Bg);Pg.ca=function(a){return new Pg(a.options)};var pk=fb?"\u25bc":"\u25be";e=Pg.prototype;e.vh="default";e.pb="";e.kc=null;e.od=null;e.qa=function(){this.va||(this.Wd=z.h.C("tspan",{},null),this.Wd.appendChild(document.createTextNode(this.A.u?pk+" ":" "+pk)),Pg.o.qa.call(this))};
e.ye=function(){z.I.show(this,this.A.u,null);var a=new ej;a.Ff(this.A.u);for(var b=ng(this),c=0;c<b.length;c++){var d=b[c][0],f=b[c][1];if("object"==typeof d){var h=new Image(d.width,d.height);h.src=d.src;h.alt=d.alt||"";d=h}d=new aj(d);d.Ff(this.A.u);d.xa(f);d.oc(16,!0);a.mg(d,!0);Bi(d,f==this.pb)}qk(this,a);b=z.h.yj();c=Ig(this);this.A.u?c.right+=25:c.left-=25;this.tg(a);f=z.h.bg.Hd(a);d=.45*document.documentElement.clientHeight;f.height>d&&(f.height=d);this.A.u&&z.h.bg.Yk(b,c,f);z.I.Xj(b,c,f,this.A.u);
a.H().focus()};function qk(a,b){S(b,"action",function(b){(b=b.target)&&a.vm(b);z.I.Jg(a);z.i.W(!1)})}e.tg=function(a){a.ba(z.I.Z);z.h.Ma(a.H(),"blocklyDropdownMenu");a.zh=!0;Si(a,!0)};e.vm=function(a){a=a.ab();this.A&&(a=Kd(this,a));null!==a&&this.xa(a)};function ng(a){return"function"==typeof a.Te?(a=a.Te.call(a),ok(a),a):a.Te}e.ab=function(){return this.pb};
e.xa=function(a){if(null!==a&&a!==this.pb){this.A&&z.i.isEnabled()&&z.i.O(new z.i.Tb(this.A,"field",this.name,this.pb,a));this.pb=a;for(var b=ng(this),c=0;c<b.length;c++)if(b[c][1]==a){a=b[c][0];"object"==typeof a?(this.od=a,this.oa=a.alt):(this.od=null,this.oa=a);this.yg();return}this.oa=a;this.yg()}};
e.rd=function(){if(this.Ea){this.A&&this.Wd&&(this.Wd.style.fill=this.A.ed);for(var a;a=this.na.firstChild;)this.na.removeChild(a);this.kc&&(this.kc.parentNode.removeChild(this.kc),this.kc=null);this.od?(this.kc=z.h.C("image",{y:5,height:this.od.height+"px",width:this.od.width+"px"},this.va),this.kc.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",this.od.src),this.na.appendChild(this.Wd),a=Hg(this.Wd),this.la.height=Number(this.od.height)+19,this.la.width=Number(this.od.width)+a,this.A.u?
(this.kc.setAttribute("x",a),this.na.setAttribute("x",-1)):(this.na.setAttribute("text-anchor","end"),this.na.setAttribute("x",this.la.width+1))):(this.na.appendChild(document.createTextNode(Gg(this))),this.A.u?this.na.insertBefore(this.Wd,this.na.firstChild):this.na.appendChild(this.Wd),this.na.setAttribute("text-anchor","start"),this.na.setAttribute("x",0),this.la.height=25,this.la.width=Hg(this.na));this.zc.setAttribute("height",this.la.height-9);this.zc.setAttribute("width",this.la.width+10)}else this.la.width=
0};e.mh=function(){if(this.od&&(C||cb)){var a=Hg(this.Wd);a=Number(this.od.width)+a+10;this.zc&&this.zc.setAttribute("width",a);this.la.width=a}else Bg.prototype.mh.call(this)};e.B=function(){z.I.Jg(this);Pg.o.B.call(this)};
function ok(a){if(!Array.isArray(a))throw TypeError("FieldDropdown options must be an array.");for(var b=!1,c=0;c<a.length;++c){var d=a[c];Array.isArray(a)?"string"!=typeof d[1]?(b=!0,console.error("Invalid option["+c+"]: Each FieldDropdown option id must be a string. Found "+d[1]+" in: ",d)):"string"!=typeof d[0]&&"string"!=typeof d[0].src&&(b=!0,console.error("Invalid option["+c+"]: Each FieldDropdown option must have a string label or image description. Found"+d[0]+" in: ",d)):(b=!0,console.error("Invalid option["+
c+"]: Each FieldDropdown option must be an array. Found: ",d))}if(b)throw TypeError("Found invalid FieldDropdown options.");}Dg("field_dropdown",Pg);function rk(a,b,c,d,f){this.A=null;this.wa=Number(c);this.ea=Number(b);this.la=new jc(this.ea,this.wa+10);this.oa=d||"";this.xa(a);"function"==typeof f&&(this.bj=f)}y(rk,Bg);rk.ca=function(a){var b=z.h.vb(a.src),c=Number(z.h.vb(a.width)),d=Number(z.h.vb(a.height));a=z.h.vb(a.alt);return new rk(b,c,d,a)};e=rk.prototype;e.Be=!1;
e.qa=function(){this.va||(this.va=z.h.C("g",{},null),this.Ea||(this.va.style.display="none"),this.kc=z.h.C("image",{height:this.wa+"px",width:this.ea+"px"},this.va),this.xa(this.Om),this.A.$().appendChild(this.va),this.xe(this.A),z.D.Fe(this.kc),this.bj&&(this.si=z.K(this.va,"mousedown",this,this.Ld)))};e.B=function(){this.va&&(this.va.parentNode.removeChild(this.va),this.va=null);this.kc=null};e.xe=function(a){this.kc.qc=a};e.ab=function(){return this.Om};
e.xa=function(a){null!==a&&(this.Om=a,this.kc&&this.kc.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a||""))};e.ob=function(a){null!==a&&(this.oa=a)};e.rd=function(){};e.yg=function(){};e.mh=function(){};e.ye=function(){this.bj&&this.bj(this)};Dg("field_image",rk);function sk(a,b,c,d,f){a=a&&!isNaN(a)?String(a):"0";sk.o.constructor.call(this,a,f);a=parseFloat(d);this.Yj=isNaN(a)?0:a;b=parseFloat(b);this.bp=isNaN(b)?-Infinity:b;c=parseFloat(c);this.ap=isNaN(c)?Infinity:c;this.xa(Kd(this,this.ab()))}y(sk,pj);sk.ca=function(a){return new sk(a.value,a.min,a.max,a.precision)};
sk.prototype.$i=function(a){if(null===a)return null;a=String(a);a=a.replace(/O/ig,"0");a=a.replace(/,/g,"");a=parseFloat(a||0);if(isNaN(a))return null;this.Yj&&isFinite(a)&&(a=Math.round(a/this.Yj)*this.Yj);a=Math.min(Math.max(a,this.bp),this.ap);return String(a)};Dg("field_number",sk);function tk(a,b,c,d){this.Te=uk;this.la=new jc(0,25);this.Li=b;this.co=a||"";a=d||"";if(null==c||void 0==c)c=null;else if(Array.isArray(c)){b=!1;for(d=0;d<c.length;d++)c[d]==a&&(b=!0);if(!b)throw Error("Invalid default type '"+a+"' in the definition of a FieldVariable");}else throw Error("'variableTypes' was not an array in the definition of a FieldVariable");this.bo=a;this.Wp=c;this.pb=null}y(tk,Pg);tk.ca=function(a){var b=z.h.vb(a.variable);return new tk(b,null,a.variableTypes,a.defaultType)};
e=tk.prototype;e.qa=function(){this.va||(tk.o.qa.call(this),this.Re())};e.Re=function(){if(!this.Yc){this.l=this.A.s;var a=z.L.Ml(this.l,null,this.co,this.bo);z.i.disable();try{this.xa(a.ha())}finally{z.i.enable()}}};e.B=function(){tk.o.B.call(this);this.ua=this.l=null};e.uk=function(a){if(a.Pa)throw Error("Variable fields are not allowed to exist on shadow blocks.");tk.o.uk.call(this,a)};e.ab=function(){return this.Yc?this.Yc.ha():null};e.mb=function(){return this.Yc?this.Yc.name:""};e.Oc=function(){return this.Yc};
e.xa=function(a){var b=z.L.Oc(this.A.s,a);if(!b)throw Error("Variable id doesn't point to a real variable!  ID was "+a);var c=b.type,d;a:if(d=vk(this)){for(var f=0;f<d.length;f++)if(c==d[f]){d=!0;break a}d=!1}else d=!0;if(!d)throw Error("Variable type doesn't match this field!  Type was "+c);this.A&&z.i.isEnabled()&&(c=this.Yc?this.Yc.ha():null,z.i.O(new z.i.Tb(this.A,"field",this.name,c,a)));this.Yc=b;this.pb=a;this.ob(b.name)};
function vk(a){var b=a.Wp;if(null===b&&a.A)return a.A.s.wj();b=b||[""];if(0==b.length)throw a=a.mb(),Error("'variableTypes' of field variable "+a+" was an empty list");return b}
function uk(){if(!this.Yc)throw Error("Tried to call dropdownCreate on a variable field with no variable selected.");var a=this.mb(),b=null;this.A&&(b=this.A.s);var c=[];if(b)for(var d=vk(this),f=0;f<d.length;f++)c=c.concat(b.Dg(d[f]));c.sort(Gf);b=[];for(f=0;f<c.length;f++)b[f]=[c[f].name,c[f].ha()];b.push([z.U.RENAME_VARIABLE,z.Sk]);z.U.DELETE_VARIABLE&&b.push([z.U.DELETE_VARIABLE.replace("%1",a),z.Nk]);return b}
e.vm=function(a){a=a.ab();if(this.A&&this.A.s){var b=this.A.s;if(a==z.Sk){z.L.bk(b,this.Yc);return}if(a==z.Nk){b.Je(this.Yc.ha());return}}this.xa(a)};e.Tf=function(){return!0};Dg("field_variable",tk);function Mg(){}Mg.prototype.qa=function(){};z.Ta={};z.Ta.on=z.Rk;z.Ta.un=function(a){a=fd(a);for(var b=[],c=[],d=0;d<a.length;d++)if(a[d].Ef){var f=a[d].Ef();f&&(f[2]?b.push(f):c.push(f))}c.sort(z.Ta.Cm);b.sort(z.Ta.Cm);return[c,b]};z.Ta.Cm=function(a,b){return a[0].toLowerCase().localeCompare(b[0].toLowerCase())};z.Ta.to=function(a,b){if(b.Zb)return a;for(;!z.Ta.Wo(a,b.s,b);){var c=a.match(/^(.*?)(\d+)$/);a=c?c[1]+(parseInt(c[2],10)+1):a+"2"}return a};z.Ta.Wo=function(a,b,c){return!z.Ta.Yo(a,b,c)};
z.Ta.Yo=function(a,b,c){b=fd(b);for(var d=0;d<b.length;d++)if(b[d]!=c&&b[d].Ef&&b[d].Ef()[0].toLowerCase()==a.toLowerCase())return!0;return!1};z.Ta.Rt=function(a){a=a.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"");var b=z.Ta.to(a,this.A),c=this.oa;if(c!=a&&c!=b){a=fd(this.A.s);for(var d=0;d<a.length;d++)a[d].Bp&&a[d].Bp(c,b)}return b};
z.Ta.be=function(a){function b(a,b){for(var d=0;d<a.length;d++){var f=a[d][0],h=a[d][1],k=H("block");k.setAttribute("type",b);k.setAttribute("gap",16);var r=H("mutation");r.setAttribute("name",f);k.appendChild(r);for(f=0;f<h.length;f++){var u=H("arg");u.setAttribute("name",h[f]);r.appendChild(u)}c.push(k)}}var c=[];if(z.ec.procedures_defnoreturn){var d=H("block");d.setAttribute("type","procedures_defnoreturn");d.setAttribute("gap",16);var f=H("field",null,z.U.PROCEDURES_DEFNORETURN_PROCEDURE);f.setAttribute("name",
"NAME");d.appendChild(f);c.push(d)}z.ec.procedures_defreturn&&(d=H("block"),d.setAttribute("type","procedures_defreturn"),d.setAttribute("gap",16),f=H("field",null,z.U.PROCEDURES_DEFRETURN_PROCEDURE),f.setAttribute("name","NAME"),d.appendChild(f),c.push(d));z.ec.procedures_ifreturn&&(d=H("block"),d.setAttribute("type","procedures_ifreturn"),d.setAttribute("gap",16),c.push(d));c.length&&c[c.length-1].setAttribute("gap",24);a=z.Ta.un(a);b(a[0],"procedures_callnoreturn");b(a[1],"procedures_callreturn");
return c};z.Ta.wo=function(a,b){var c=[];b=fd(b);for(var d=0;d<b.length;d++)if(b[d].Ao){var f=b[d].Ao();f&&f.toLowerCase()==a.toLowerCase()&&c.push(b[d])}return c};z.Ta.Nt=function(a){var b=z.i.Gb,c=a.Ef()[0],d=a.Fc(!0);a=z.Ta.wo(c,a.s);c=0;for(var f;f=a[c];c++){var h=f.Fc();h=h&&z.G.fd(h);f.ae(d);var k=f.Fc();k=k&&z.G.fd(k);h!=k&&(z.i.Gb=!1,z.i.O(new z.i.Tb(f,"mutation",null,h,k)),z.i.Gb=b)}};
z.Ta.Jt=function(a,b){b=sd(b,!1);for(var c=0;c<b.length;c++)if(b[c].Ef){var d=b[c].Ef();if(d&&d[0].toLowerCase()==a.toLowerCase())return b[c]}return null};function wk(a,b,c,d){this.l=a;this.ma=b;this.oa=c.getAttribute("text");this.ac=new G(0,0);this.g=d;this.j=null;a=c.getAttribute("callbackKey");this.g&&a?console.warn("Labels should not have callbacks. Label text: "+this.oa):this.g||a&&jg(b,a)?this.j=jg(b,a):console.warn("Buttons should have callbacks. Button text: "+this.oa);this.m=c.getAttribute("web-class")||null}e=wk.prototype;e.width=0;e.height=0;e.We=null;
e.S=function(){var a=this.g?"blocklyFlyoutLabel":"blocklyFlyoutButton";this.m&&(a+=" "+this.m);this.v=z.h.C("g",{"class":a},this.l.Da);if(!this.g)var b=z.h.C("rect",{"class":"blocklyFlyoutButtonShadow",rx:4,ry:4,x:1,y:1},this.v);a=z.h.C("rect",{"class":this.g?"blocklyFlyoutLabelBackground":"blocklyFlyoutButtonBackground",rx:4,ry:4},this.v);var c=z.h.C("text",{"class":this.g?"blocklyFlyoutLabelText":"blocklyText",x:0,y:0,"text-anchor":"middle"},this.v);c.textContent=z.h.vb(this.oa);this.width=Hg(c);
this.height=20;this.g||(this.width+=10,b.setAttribute("width",this.width),b.setAttribute("height",this.height));a.setAttribute("width",this.width);a.setAttribute("height",this.height);c.setAttribute("x",this.width/2);c.setAttribute("y",this.height-5);xk(this);this.We=z.K(this.v,"mouseup",this,this.yp);return this.v};e.show=function(){xk(this);this.v.setAttribute("display","block")};function xk(a){a.v.setAttribute("transform","translate("+a.ac.x+","+a.ac.y+")")}
e.moveTo=function(a,b){this.ac.x=a;this.ac.y=b;xk(this)};e.B=function(){this.We&&z.La(this.We);this.v&&(this.v.parentNode.removeChild(this.v),this.v=null);this.ma=this.l=null};e.yp=function(a){(a=this.ma.jd(a))&&a.cancel();this.j&&this.j(this)};function yk(a){a.$a=this.Gd.bind(this);a.we=this.Di.bind(this);this.l=new Vf(a);this.l.Jd=!0;this.u=!!a.u;this.Md=a.ta;this.oj=[];this.ri=[];this.og=[];this.Rb=[];this.Wj=[]}e=yk.prototype;e.uf=!0;e.Og=!1;e.He=!0;e.ga=8;e.vc=yk.prototype.ga;e.fn=3*yk.prototype.vc;e.gn=3*yk.prototype.vc;e.De=2;e.ea=0;e.wa=0;e.Bl=70;e.S=function(a){this.v=z.h.C(a,{"class":"blocklyFlyout",style:"display: none"},null);this.pc=z.h.C("path",{"class":"blocklyFlyoutBackground"},this.v);this.v.appendChild(this.l.S());return this.v};
e.qa=function(a){this.ma=a;this.l.hf=a;this.wb=new pf(this.l,this.Pc,!1,"blocklyFlyoutScrollbar");this.Aa();Array.prototype.push.apply(this.oj,z.K(this.v,"wheel",this,this.Ym));this.uf||(this.Oh=this.qj.bind(this),this.ma.xc(this.Oh));Array.prototype.push.apply(this.oj,z.K(this.pc,"mousedown",this,this.Ld));this.l.jd=this.ma.jd.bind(this.ma);this.l.ua=this.ma.ua;a=this.l;a.Sf=new ed(a)};
e.B=function(){this.Aa();z.La(this.oj);this.Oh&&(this.ma.qe(this.Oh),this.Oh=null);this.wb&&(this.wb.B(),this.wb=null);this.l&&(this.l.hf=null,this.l.B(),this.l=null);this.v&&(this.v.parentNode.removeChild(this.v),this.v=null);this.ma=this.pc=null};e.jc=function(){return this.ea};e.Df=function(){return this.wa};e.aa=function(){return this.Og};e.ja=function(a){var b=a!=this.aa();this.Og=a;b&&this.kh()};e.af=function(a){var b=a!=this.He;this.He=a;b&&this.kh()};
e.kh=function(){var a=this.He?this.aa():!1;this.v.style.display=a?"block":"none";this.wb.af(a)};function zk(a,b,c,d,f){a.v.setAttribute("width",b);a.v.setAttribute("height",c);"svg"==a.v.tagName?z.h.ah(a.v,"translate("+d+"px,"+f+"px)"):a.v.setAttribute("transform","translate("+d+","+f+")");a.wb&&(a.wb.Vj=new G(d,f),a.wb.resize())}e.Aa=function(){if(this.aa()){this.ja(!1);for(var a=0,b;b=this.Rb[a];a++)z.La(b);this.Rb.length=0;this.pe&&(this.l.qe(this.pe),this.pe=null)}};
e.show=function(a){this.l.nb(!1);this.Aa();Ak(this);if("string"==typeof a){a=kg(this.l.hf,a);if("function"!=typeof a)throw TypeError("Couldn't find a callback function when opening a toolbox category.");a=a(this.l.hf);if(!Array.isArray(a))throw TypeError("Result of toolbox category callback must be an array.");}this.ja(!0);for(var b=[],c=[],d=this.Wj.length=0,f;f=a[d];d++)if(f.tagName){var h=f.tagName.toUpperCase(),k=this.Pc?this.fn:this.gn;if("BLOCK"==h)h=z.G.yf(f,this.l),h.disabled&&this.Wj.push(h),
b.push({type:"block",block:h}),f=parseInt(f.getAttribute("gap"),10),c.push(isNaN(f)?k:f);else if("SEP"==f.tagName.toUpperCase())f=parseInt(f.getAttribute("gap"),10),!isNaN(f)&&0<c.length?c[c.length-1]=f:c.push(k);else if("BUTTON"==h||"LABEL"==h)f=new wk(this.l,this.ma,f,"LABEL"==h),b.push({type:"button",button:f}),c.push(k)}this.fm(b,c);this.Rb.push(z.K(this.pc,"mouseover",this,function(){for(var a=sd(this.l,!1),b=0,c;c=a[b];b++)c.Ye()}));this.Pc?this.wa=0:this.ea=0;this.l.nb(!0);this.$j();this.qj();
this.position();this.pe=this.$j.bind(this);this.l.xc(this.pe)};function Ak(a){for(var b=sd(a.l,!1),c=0,d;d=b[c];c++)d.s==a.l&&d.B(!1,!1);for(c=0;c<a.ri.length;c++)(b=a.ri[c])&&b.parentNode.removeChild(b);for(c=a.ri.length=0;b=a.og[c];c++)b.B();a.og.length=0;a.l.Sf.clear()}
function Bk(a,b,c,d){a.Rb.push(z.K(b,"mousedown",null,Ck(a,c)));a.Rb.push(z.K(d,"mousedown",null,Ck(a,c)));a.Rb.push(z.Lc(b,"mouseover",c,c.sf));a.Rb.push(z.Lc(b,"mouseout",c,c.Ye));a.Rb.push(z.Lc(d,"mouseover",c,c.sf));a.Rb.push(z.Lc(d,"mouseout",c,c.Ye))}function Ck(a,b){return function(c){var d=a.ma.jd(c);d&&(gf(d,b),ff(d,c,a))}}e.Ld=function(a){var b=this.ma.jd(a);b&&ff(b,a,this)};
function $e(a,b){var c=null;z.i.disable();var d=a.ma.Fd();a.ma.nb(!1);try{var f=a.ma;if(!b.$())throw Error("oldBlock is not rendered.");var h=z.G.Yd(b);f.nb(!1);var k=z.G.yf(h,f);if(!k.$())throw Error("block is not rendered.");var l=z.h.Xh(f.Da),m=z.h.Xh(a.l.Da),n=b.ia().scale(a.l.scale),q=hc(ic(m,n),l).scale(1/f.scale);k.moveBy(q.x,q.y);c=k;z.Eb()}finally{z.i.enable()}b=z.L.Jl(a.ma,d);if(z.i.isEnabled())for(z.i.W(!0),z.i.O(new Pc(c)),d=0;d<b.length;d++)z.i.O(new Tc(b[d]));a.uf?a.Aa():a.qj();return c}
function Dk(a,b,c,d){var f=b.S();b.moveTo(c,d);b.show();a.Rb.push(z.K(f,"mousedown",a,a.Ld));a.og.push(b)}function Ek(a,b,c,d,f,h){c=z.h.C("rect",{"fill-opacity":0,x:c,y:d,height:f.height,width:f.width},null);c.qc=b;z.D.Fe(c);a.l.Da.insertBefore(c,b.$());b.Qh=c;return a.ri[h]=c}function Fk(a,b,c){var d=c.lb();b.setAttribute("width",d.width);b.setAttribute("height",d.height);var f=c.F?15:0;f&&c.moveBy(0,f);f=c.V?P:0;c=c.ia();b.setAttribute("y",c.y);b.setAttribute("x",a.u?c.x-d.width+f:c.x-f)}
e.qj=function(){for(var a=vd(this.ma),b=sd(this.l,!1),c=0,d;d=b[c];c++)if(-1==this.Wj.indexOf(d)){var f=I(d,!1);d.ue(f.length>a)}};e.$j=function(){this.pe&&this.l.qe(this.pe);this.Fm();this.pe&&this.l.xc(this.pe)};function Ye(a){return a.wb?a.wb.aa():!1};function bg(a){a.$a=this.Gd.bind(this);a.we=this.Di.bind(this);bg.o.constructor.call(this,a);this.Pc=!0}y(bg,yk);e=bg.prototype;e.Gd=function(){if(!this.aa())return null;try{var a=this.l.Da.getBBox()}catch(f){a={height:0,y:0,width:0,x:0}}var b=this.De,c=this.De;this.Md==z.Ee&&(b=0);var d=this.wa;this.Md==z.Vd&&(d-=this.De);return{Qa:d,sa:this.ea-2*this.De,Lb:(a.height+2*this.vc)*this.l.scale,Xb:(a.width+2*this.vc)*this.l.scale,vd:-this.l.scrollY,eb:-this.l.scrollX,Wb:a.y,fc:a.x,Ya:b,Ra:c}};
e.Di=function(a){var b=this.Gd();b&&("number"==typeof a.x&&(this.l.scrollX=-b.Xb*a.x),this.l.translate(this.l.scrollX+b.Ra,this.l.scrollY+b.Ya))};
e.position=function(){if(this.aa()){var a=this.ma.$a();if(a){this.ea=a.sa;var b=a.sa-2*this.ga,c=this.wa-this.ga,d=this.Md==z.Vd,f=["M 0,"+(d?0:this.ga)];d?(f.push("h",b+2*this.ga),f.push("v",c),f.push("a",this.ga,this.ga,0,0,1,-this.ga,this.ga),f.push("h",-1*b),f.push("a",this.ga,this.ga,0,0,1,-this.ga,-this.ga)):(f.push("a",this.ga,this.ga,0,0,1,this.ga,-this.ga),f.push("h",b),f.push("a",this.ga,this.ga,0,0,1,this.ga,this.ga),f.push("v",c),f.push("h",-b-2*this.ga));f.push("z");this.pc.setAttribute("d",
f.join(" "));b=a.Ra;c=a.Ya;this.Md==z.Ee&&(c+=a.Qa-this.wa);zk(this,this.ea,this.wa,b,c)}}};e.ik=function(){this.wb.set(this.u?Infinity:0)};e.Ym=function(a){var b=a.deltaX;if(b){E&&1===a.deltaMode&&(b*=10);var c=this.Gd();b=c.eb+b;b=Math.min(b,c.Xb-c.sa);b=Math.max(b,0);this.wb.set(b);z.I.Aa()}a.preventDefault();a.stopPropagation()};
e.fm=function(a,b){this.l.scale=this.ma.scale;var c=this.vc,d=this.u?c:c+P;this.u&&(a=a.reverse());for(var f=0,h;h=a[f];f++)if("block"==h.type){h=h.block;for(var k=I(h,!1),l=0,m;m=k[l];l++)m.Zb=!0;h.ba();k=h.$();l=h.lb();m=h.V?P:0;m=this.u?d+l.width:d+m;h.moveBy(m,c);m=Ek(this,h,m,c,l,f);d+=l.width+b[f];Bk(this,k,h,m)}else"button"==h.type&&(Dk(this,h.button,d,c),d+=h.button.width+b[f])};e.bm=function(a){a=Math.atan2(a.y,a.x)/Math.PI*180;var b=this.Bl;return a<90+b&&a>90-b||a>-90-b&&a<-90+b?!0:!1};
e.Bf=function(){if(!this.v)return null;var a=this.v.getBoundingClientRect(),b=a.top;a=a.height;if(this.Md==z.Vd)return new Ef(-1E9,b-1E9,2E9,1E9+a);if(this.Md==z.Ee)return new Ef(-1E9,b,2E9,1E9+a)};e.Fm=function(){this.l.scale=this.ma.scale;for(var a=0,b=sd(this.l,!1),c=0,d;d=b[c];c++)a=Math.max(a,d.lb().height);a+=1.5*this.vc;a*=this.l.scale;a+=L;if(this.wa!=a){for(c=0;d=b[c];c++)d.Qh&&Fk(this,d.Qh,d);this.wa=a;this.ma.resize()}};function cg(a){a.$a=this.Gd.bind(this);a.we=this.Di.bind(this);cg.o.constructor.call(this,a);this.Pc=!1}y(cg,yk);e=cg.prototype;e.Gd=function(){if(!this.aa())return null;try{var a=this.l.Da.getBBox()}catch(f){a={height:0,y:0,width:0,x:0}}var b=this.De,c=this.wa-2*this.De,d=this.ea;this.u||(d-=this.De);return{Qa:c,sa:d,Lb:a.height*this.l.scale+2*this.vc,Xb:a.width*this.l.scale+2*this.vc,vd:-this.l.scrollY+a.y,eb:-this.l.scrollX,Wb:a.y,fc:a.x,Ya:b,Ra:0}};
e.Di=function(a){var b=this.Gd();b&&("number"==typeof a.y&&(this.l.scrollY=-b.Lb*a.y),this.l.translate(this.l.scrollX+b.Ra,this.l.scrollY+b.Ya))};
e.position=function(){if(this.aa()){var a=this.ma.$a();if(a){this.wa=a.Qa;var b=this.ea-this.ga,c=a.Qa-2*this.ga,d=this.Md==z.ad,f=b+this.ga;f=["M "+(d?f:0)+",0"];f.push("h",d?-b:b);f.push("a",this.ga,this.ga,0,0,d?0:1,d?-this.ga:this.ga,this.ga);f.push("v",Math.max(0,c));f.push("a",this.ga,this.ga,0,0,d?0:1,d?this.ga:-this.ga,this.ga);f.push("h",d?b:-b);f.push("z");this.pc.setAttribute("d",f.join(" "));b=a.Ya;c=a.Ra;this.Md==z.ad&&(this.g=c+=a.sa-this.ea);zk(this,this.ea,this.wa,c,b)}}};e.ik=function(){this.wb.set(0)};
e.Ym=function(a){var b=a.deltaY;if(b){E&&1===a.deltaMode&&(b*=10);var c=this.Gd();b=c.vd-c.Wb+b;b=Math.min(b,c.Lb-c.Qa);b=Math.max(b,0);this.wb.set(b);z.I.Aa()}a.preventDefault();a.stopPropagation()};
e.fm=function(a,b){this.l.scale=this.ma.scale;for(var c=this.vc,d=this.u?c:c+P,f=0,h;h=a[f];f++)if("block"==h.type){h=h.block;for(var k=I(h,!1),l=0,m;m=k[l];l++)m.Zb=!0;h.ba();k=h.$();l=h.lb();h.moveBy(d,c);m=Ek(this,h,this.u?d-l.width:d,c,l,f);Bk(this,k,h,m);c+=l.height+b[f]}else"button"==h.type&&(Dk(this,h.button,d,c),c+=h.button.height+b[f])};e.bm=function(a){a=Math.atan2(a.y,a.x)/Math.PI*180;var b=this.Bl;return a<b&&a>-b||a<-180+b||a>180-b?!0:!1};
e.Bf=function(){if(!this.v)return null;var a=this.v.getBoundingClientRect(),b=a.left;a=a.width;if(this.Md==z.Ud)return new Ef(b-1E9,-1E9,1E9+a,2E9);if(E&&this.ma&&this.ma.Mg){var c=this.ma.v.getBoundingClientRect().x;10>Math.abs(c-b)&&(b+=this.g*this.ma.options.lc.scale)}return new Ef(b,-1E9,1E9+a,2E9)};
e.Fm=function(){this.l.scale=this.ma.scale;for(var a=0,b=sd(this.l,!1),c=0,d;d=b[c];c++){var f=d.lb().width;d.V&&(f-=P);a=Math.max(a,f)}for(c=0;d=this.og[c];c++)a=Math.max(a,d.width);a+=1.5*this.vc+P;a*=this.l.scale;a+=L;if(this.ea!=a){for(c=0;d=b[c];c++)this.u&&(f=d.ia().x,d.moveBy(a/this.l.scale-this.vc-P-f,0)),d.Qh&&Fk(this,d.Qh,d);if(this.u)for(c=0;d=this.og[c];c++)d.moveTo(a/this.l.scale-d.width-this.vc-P,d.ac.y);this.ea=a;this.ma.resize()}};function Gk(a){Ch.call(this);this.M=a;a=C?"focusout":"blur";this.g=S(this.M,C?"focusin":"focus",this,!C);this.j=S(this.M,a,this,!C)}y(Gk,Ch);Gk.prototype.handleEvent=function(a){var b=new Xg(a.j);b.type="focusin"==a.type||"focus"==a.type?"focusin":"focusout";this.dispatchEvent(b)};Gk.prototype.Ha=function(){Gk.o.Ha.call(this);uh(this.g);uh(this.j);delete this.M};function Hk(a,b){null!=a&&this.Yb.apply(this,arguments)}e=Hk.prototype;e.Me="";e.set=function(a){this.Me=""+a};e.Yb=function(a,b,c){this.Me+=String(a);if(null!=b)for(var d=1;d<arguments.length;d++)this.Me+=arguments[d];return this};e.clear=function(){this.Me=""};e.toString=function(){return this.Me};function Ik(a,b,c){V.call(this,c);this.Ka=b||Jk;a instanceof Sb||(a=Vb(a),b=Ub(a).replace(/(\r\n|\r|\n)/g,"<br>"),a=Wb(b,a.g()));this.Kg=a;this.wg=this.jk=!1;this.Qp=null;this.sn=bc;this.Ng=!0;this.Lh=-1}y(Ik,V);var Kk={};e=Ik.prototype;e.Ha=function(){Ik.o.Ha.call(this);this.Ae&&(this.Ae.removeNode(this),this.Ae=null);this.M=null};
e.hi=function(){var a=this.H();if(a){var b=Lk(this);b&&!b.id&&(b.id=this.ha()+".label");Oh(a,"treeitem");Y(a,"selected",!1);Y(a,"level",this.Cf());b&&Y(a,"labelledby",b.id);(b=this.Wh())&&Oh(b,"presentation");(b=this.Vh())&&Oh(b,"presentation");if(b=Mk(this))if(Oh(b,"group"),b.hasChildNodes())for(Y(a,"expanded",!1),a=Jh(this),b=1;b<=a;b++){var c=X(this,b-1).H();Y(c,"setsize",a);Y(c,"posinset",b)}}};
e.S=function(){var a=this.Mb();var b=Nk(this);var c=a.g;a=c.createElement("DIV");C?(ec(a,ac(cc,b)),a.removeChild(a.firstChild)):ec(a,b);if(1==a.childNodes.length)b=a.removeChild(a.firstChild);else for(b=c.createDocumentFragment();a.firstChild;)b.appendChild(a.firstChild);this.M=b};e.gb=function(){Ik.o.gb.call(this);Kk[this.ha()]=this;this.hi()};e.Bc=function(){Ik.o.Bc.call(this);delete Kk[this.ha()]};
e.rf=function(a,b){var c=X(this,b-1),d=X(this,b);Ik.o.rf.call(this,a,b);a.Uc=c;a.Sc=d;c?c.Sc=a:this.Hl=a;d?d.Uc=a:this.dm=a;(b=this.Qb())&&Ok(a,b);Pk(a,this.Cf()+1);if(b=this.H())if(this.cg(),Y(b,"expanded",this.Nb()),this.Nb()){b=Mk(this);a.H()||a.S();var f=a.H(),h=d&&d.H();b.insertBefore(f,h);this.pa&&a.gb();d||(c?c.cg():(wg(b,!0),this.Vc(this.Nb())))}};e.add=function(a,b){a.getParent()&&a.getParent().removeChild(a);this.rf(a,b?Mh(this,b):Jh(this));return a};
e.removeChild=function(a){var b=this.Qb(),c=b?b.ld():null;if(c==a||a.contains(c))if(b.hasFocus()){this.select();c=this.Ap;if(fa(c))this&&(c=na(c,this));else if(c&&"function"==typeof c.handleEvent)c=na(c.handleEvent,c);else throw Error("Invalid listener argument");2147483647<Number(10)||g.setTimeout(c,10)}else this.select();Ik.o.removeChild.call(this,a);this.dm==a&&(this.dm=a.Uc);this.Hl==a&&(this.Hl=a.Sc);a.Uc&&(a.Uc.Sc=a.Sc);a.Sc&&(a.Sc.Uc=a.Uc);c=!a.Sc;a.Ae=null;a.Lh=-1;if(b&&(b.removeNode(a),this.pa)){b=
Mk(this);if(a.pa){var d=a.H();b.removeChild(d);a.Bc()}c&&(c=X(this,Jh(this)-1))&&c.cg();Lh(this)||(b.style.display="none",this.cg(),this.Wh().className=this.Sh(),(b=this.H())&&b.removeAttribute("aria-expanded"))}return a};e.remove=Ik.prototype.removeChild;e.Ap=function(){this.select()};e.Cf=function(){var a=this.Lh;0>a&&(a=(a=this.getParent())?a.Cf()+1:0,Pk(this,a));return a};
function Pk(a,b){if(b!=a.Lh){a.Lh=b;var c=Qk(a);if(c){var d=Rk(a)+"px";Kh(a)?c.style.paddingRight=d:c.style.paddingLeft=d}W(a,function(a){Pk(a,b+1)})}}e.contains=function(a){for(;a;){if(a==this)return!0;a=a.getParent()}return!1};e.ce=function(){var a=[];W(this,function(b){a.push(b)});return a};e.ki=function(){return this.jk};e.select=function(){var a=this.Qb();a&&a.nc(this)};
function Sk(a,b){if(a.jk!=b){a.jk=b;Tk(a);var c=a.H();c&&(Y(c,"selected",b),b&&(b=a.Qb().H(),Y(b,"activedescendant",a.ha())))}}e.Nb=function(){return this.wg};
e.Vc=function(a){var b=a!=this.wg;if(!b||this.dispatchEvent(a?"beforeexpand":"beforecollapse")){this.wg=a;var c=this.Qb();var d=this.H();if(Lh(this)){if(!a&&c&&this.contains(c.ld())&&this.select(),d){if(c=Mk(this))if(wg(c,a),Y(d,"expanded",a),a&&this.pa&&!c.hasChildNodes()){var f=[];W(this,function(a){f.push(Nk(a))});ec(c,ac(f));W(this,function(a){a.gb()})}this.cg()}}else(c=Mk(this))&&wg(c,!1);d&&(this.Wh().className=this.Sh());b&&this.dispatchEvent(a?"expand":"collapse")}};e.toggle=function(){this.Vc(!this.Nb())};
e.expand=function(){this.Vc(!0)};e.collapse=function(){this.Vc(!1)};e.hk=function(){var a=this.getParent();a&&(a.Vc(!0),a.hk())};function Nk(a){var b=!a.Qb().Sa||(a.getParent(),0)?a.Ka.ml:a.Ka.ll,c=a.Nb()&&Lh(a);b={"class":b,style:Uk(a)};var d=[];c&&W(a,function(a){d.push(Nk(a))});c=$b("div",b,d);return $b("div",{"class":a.Ka.ul,id:a.ha()},[Vk(a),c])}function Rk(a){return Math.max(0,(a.Cf()-1)*a.Ka.Ij)}
function Vk(a){var b={};b["padding-"+(Kh(a)?"right":"left")]=Rk(a)+"px";b={"class":a.Bg(),style:b};var c=a.tj(),d=$b("span",{style:{display:"inline-block"},"class":a.Sh()}),f=$b("span",{"class":a.Ka.vl,title:a.Qp||null},a.Kg);a=ac(f,$b("span",{},a.sn));return $b("div",b,[c,d,a])}e.Bg=function(){return this.Ka.gj+(this.ki()?" "+this.Ka.xl:"")};e.tj=function(){return $b("span",{type:"expand",style:{display:"inline-block"},"class":Wk(this)})};
function Wk(a){var b=a.Qb(),c=!b.Sa||b==a.getParent()&&!1,d=a.Ka,f=new Hk;f.Yb(d.Ie," ",d.Vn," ");if(Lh(a)){var h=0;b.Ub&&a.Ng&&(h=a.Nb()?2:1);c||(h=a.Sc?h+8:h+4);switch(h){case 1:f.Yb(d.Zn);break;case 2:f.Yb(d.Yn);break;case 4:f.Yb(d.ql);break;case 5:f.Yb(d.Xn);break;case 6:f.Yb(d.Wn);break;case 8:f.Yb(d.rl);break;case 9:f.Yb(d.ao);break;case 10:f.Yb(d.$n);break;default:f.Yb(d.pl)}}else c?f.Yb(d.pl):a.Sc?f.Yb(d.rl):f.Yb(d.ql);return f.toString()}
function Uk(a){var b=a.Nb()&&Lh(a);return Kb({"background-position":Xk(a),display:b?null:"none"})}function Xk(a){return(a.Sc?(a.Cf()-1)*a.Ka.Ij:"-100")+"px 0"}e.H=function(){var a=Ik.o.H.call(this);a||(this.M=a=this.Mb().H(this.ha()));return a};function Qk(a){return(a=a.H())?a.firstChild:null}e.Vh=function(){var a=Qk(this);return a?a.firstChild:null};e.Wh=function(){var a=Qk(this);return a?a.childNodes[1]:null};function Lk(a){return(a=Qk(a))&&a.lastChild?a.lastChild.previousSibling:null}
function Mk(a){return(a=a.H())?a.lastChild:null}e.ob=function(a){this.Kg=a=Vb(a);var b=Lk(this);b&&ec(b,a);(a=this.Qb())&&Yk(a,this)};e.mb=function(){var a=Ub(this.Kg);return-1!=a.indexOf("&")?"document"in g?Ma(a):Oa(a):a};function Tk(a){var b=Qk(a);b&&(b.className=a.Bg())}e.cg=function(){var a=this.Vh();a&&(a.className=Wk(this));if(a=Mk(this))a.style.backgroundPosition=Xk(this)};e.wm=function(a){"expand"==a.target.getAttribute("type")&&Lh(this)?this.Ng&&this.toggle():(this.select(),Tk(this))};
e.Sj=function(a){a.preventDefault()};e.tm=function(a){"expand"==a.target.getAttribute("type")&&Lh(this)||this.Ng&&this.toggle()};
e.Tj=function(a){var b=!0;switch(a.g){case 39:if(a.altKey)break;Lh(this)&&(this.Nb()?X(this,0).select():this.Vc(!0));break;case 37:if(a.altKey)break;if(Lh(this)&&this.Nb()&&this.Ng)this.Vc(!1);else{var c=this.getParent(),d=this.Qb();c&&(d.Ca||c!=d)&&c.select()}break;case 40:a:if(Lh(this)&&this.Nb())c=X(this,0);else{for(c=this;c!=this.Qb();){d=c.Sc;if(null!=d){c=d;break a}c=c.getParent()}c=null}c&&c.select();break;case 38:c=this.Uc;null!=c?c=Zk(c):(c=this.getParent(),d=this.Qb(),c=!d.Ca&&c==d||this==
d?null:c);c&&c.select();break;default:b=!1}b&&(a.preventDefault(),(d=this.Qb())&&d.sb.clear());return b};function Zk(a){return a.Nb()&&Lh(a)?Zk(X(a,Jh(a)-1)):a}function Ok(a,b){a.Ae!=b&&(a.Ae=b,Yk(b,a),W(a,function(a){Ok(a,b)}))}
var Jk={Ij:19,wl:"goog-tree-root goog-tree-item",tl:"goog-tree-hide-root",ul:"goog-tree-item",ll:"goog-tree-children",ml:"goog-tree-children-nolines",gj:"goog-tree-row",vl:"goog-tree-item-label",Ie:"goog-tree-icon",Vn:"goog-tree-expand-icon",Zn:"goog-tree-expand-icon-plus",Yn:"goog-tree-expand-icon-minus",ao:"goog-tree-expand-icon-tplus",$n:"goog-tree-expand-icon-tminus",Xn:"goog-tree-expand-icon-lplus",Wn:"goog-tree-expand-icon-lminus",rl:"goog-tree-expand-icon-t",ql:"goog-tree-expand-icon-l",pl:"goog-tree-expand-icon-blank",
ej:"goog-tree-expanded-folder-icon",nl:"goog-tree-collapsed-folder-icon",fj:"goog-tree-file-icon",sl:"goog-tree-expanded-folder-icon",ol:"goog-tree-collapsed-folder-icon",xl:"selected"};function $k(a,b,c){Ik.call(this,a,b,c)}y($k,Ik);$k.prototype.Qb=function(){if(this.Ae)return this.Ae;var a=this.getParent();return a&&(a=a.Qb())?(Ok(this,a),a):null};$k.prototype.Sh=function(){var a=this.Nb(),b=this.$c;if(a&&b)return b;b=this.yh;if(!a&&b)return b;b=this.Ka;if(Lh(this)){if(a&&b.ej)return b.Ie+" "+b.ej;if(!a&&b.nl)return b.Ie+" "+b.nl}else if(b.fj)return b.Ie+" "+b.fj;return""};function al(a){if(a.Cg&&"function"==typeof a.Cg)return a.Cg();if(t(a))return a.split("");if(ea(a)){for(var b=[],c=a.length,d=0;d<c;d++)b.push(a[d]);return b}b=[];c=0;for(d in a)b[c++]=a[d];return b};function bl(a){this.pb=void 0;this.Db={};if(a){if(a.Yh&&"function"==typeof a.Yh)var b=a.Yh();else if(a.Cg&&"function"==typeof a.Cg)b=void 0;else if(ea(a)||t(a)){b=[];for(var c=a.length,d=0;d<c;d++)b.push(d)}else for(d in b=[],c=0,a)b[c++]=d;a=al(a);for(c=0;c<b.length;c++)this.set(b[c],a[c])}}e=bl.prototype;e.set=function(a,b){cl(this,a,b,!1)};e.add=function(a,b){cl(this,a,b,!0)};
function cl(a,b,c,d){for(var f=0;f<b.length;f++){var h=b.charAt(f);a.Db[h]||(a.Db[h]=new bl);a=a.Db[h]}if(d&&void 0!==a.pb)throw Error('The collection already contains the key "'+b+'"');a.pb=c}e.get=function(a){a:{for(var b=this,c=0;c<a.length;c++)if(b=b.Db[a.charAt(c)],!b){a=void 0;break a}a=b}return a?a.pb:void 0};e.Cg=function(){var a=[];dl(this,a);return a};function dl(a,b){void 0!==a.pb&&b.push(a.pb);for(var c in a.Db)dl(a.Db[c],b)}
e.Yh=function(a){var b=[];if(a){for(var c=this,d=0;d<a.length;d++){var f=a.charAt(d);if(!c.Db[f])return[];c=c.Db[f]}el(c,a,b)}else el(this,"",b);return b};function el(a,b,c){void 0!==a.pb&&c.push(b);for(var d in a.Db)el(a.Db[d],b+d,c)}e.clear=function(){this.Db={};this.pb=void 0};
e.remove=function(a){for(var b=this,c=[],d=0;d<a.length;d++){var f=a.charAt(d);if(!b.Db[f])throw Error('The collection does not have the key "'+a+'"');c.push([b,f]);b=b.Db[f]}a=b.pb;for(delete b.pb;0<c.length;)if(f=c.pop(),b=f[0],f=f[1],b.Db[f].cm())delete b.Db[f];else break;return a};e.clone=function(){return new bl(this)};e.cm=function(){var a;if(a=void 0===this.pb)a:{for(var b in this.Db){a=!1;break a}a=!0}return a};function fl(){this.j=new bl;this.g="";this.F=this.P=null;this.m=this.w=0}function gl(a,b){var c=b.mb();if(c&&!/^[\s\xa0]*$/.test(null==c?"":String(c))){c=c.toLowerCase();var d=a.j.get(c);if(d){for(var f=Jh(b),h=0;h<f;h++)gl(a,X(b,h));va(d,b);d.length||a.j.remove(c)}}}function hl(a,b){var c=!1;(b=a.j.Yh(b))&&b.length&&(a.m=0,a.w=0,c=a.j.get(b[0]),c=il(a,c))&&(a.P=b);return c}function il(a,b){if(b){if(a.m<b.length){var c=b[a.m];a.F=b}c&&(c.hk(),c.select())}return!!c}
fl.prototype.clear=function(){this.g=""};function jl(a,b,c){Ik.call(this,a,b,c);this.wg=!0;Sk(this,!0);this.g=this;this.sb=new fl;this.Hb=this.Ib=null;this.xg=!1;this.Ca=this.Ub=this.Sa=!0;if(C)try{document.execCommand("BackgroundImageCache",!1,!0)}catch(d){}}y(jl,Ik);e=jl.prototype;e.Qb=function(){return this};e.Cf=function(){return 0};e.hk=function(){};e.Io=function(){this.xg=!0;di(this.H(),"focused");this.g&&this.g.select()};e.Eo=function(){this.xg=!1;fi(this.H(),"focused")};e.hasFocus=function(){return this.xg};
e.Nb=function(){return!this.Ca||jl.o.Nb.call(this)};e.Vc=function(a){this.Ca?jl.o.Vc.call(this,a):this.wg=a};e.tj=function(){return bc};e.Wh=function(){var a=Qk(this);return a?a.firstChild:null};e.Vh=function(){return null};e.cg=function(){};e.Bg=function(){return jl.o.Bg.call(this)+(this.Ca?"":" "+this.Ka.tl)};e.Sh=function(){var a=this.Nb(),b=this.$c;if(a&&b)return b;b=this.yh;if(!a&&b)return b;b=this.Ka;return a&&b.sl?b.Ie+" "+b.sl:!a&&b.ol?b.Ie+" "+b.ol:""};
e.nc=function(a){if(this.g!=a){var b=!1;this.g&&(b=null==this.g,Sk(this.g,!1));if(this.g=a)Sk(a,!0),b&&a.select();this.dispatchEvent("change")}};e.ld=function(){return this.g};function kl(a){0!=a.Sa&&(a.Sa=!1,a.pa&&ll(a))}function ll(a){function b(a){var d=Mk(a);if(d){var h=!c||(a.getParent(),0)?a.Ka.ml:a.Ka.ll;d.className=h;if(d=a.Vh())d.className=Wk(a)}W(a,b)}var c=a.Sa;b(a)}function ml(a){0!=a.Ub&&(a.Ub=!1,a.pa&&ll(a))}
function nl(a){if(0!=a.Ca){a.Ca=!1;if(a.pa){var b=Qk(a);b&&(b.className=a.Bg())}a.ld()==a&&X(a,0)&&a.nc(X(a,0))}}e.hi=function(){jl.o.hi.call(this);var a=this.H();Oh(a,"tree");Y(a,"labelledby",Lk(this).id)};
e.gb=function(){jl.o.gb.call(this);var a=this.H();a.className=this.Ka.wl;a.setAttribute("hideFocus","true");a=this.H();a.tabIndex=0;var b=this.Ib=new Uh(a),c=this.Hb=new Gk(a);U(U(U(U(U(U(Hh(this),c,"focusout",this.Eo),c,"focusin",this.Io),b,"key",this.Ec),a,"mousedown",this.Cj),a,"click",this.Cj),a,"dblclick",this.Cj);this.hi()};e.Bc=function(){jl.o.Bc.call(this);this.Ib.B();this.Ib=null;this.Hb.B();this.Hb=null};
e.Cj=function(a){var b=ol(this,a);if(b)switch(a.type){case "mousedown":b.wm(a);break;case "click":b.Sj(a);break;case "dblclick":b.tm(a)}};
e.Ec=function(a){var b=this.sb;var c=!1;switch(a.g){case 40:case 38:if(a.ctrlKey){c=40==a.g?1:-1;var d=b.P;if(d){var f=null,h=!1;if(b.F){var k=b.m+c;0<=k&&k<b.F.length?(b.m=k,f=b.F):h=!0}f||(k=b.w+c,0<=k&&k<d.length&&(b.w=k),d.length>b.w&&(f=b.j.get(d[b.w])),f&&f.length&&h&&(b.m=-1==c?f.length-1:0));il(b,f)&&(b.P=d)}c=!0}break;case 8:d=b.g.length-1;c=!0;0<d?(b.g=b.g.substring(0,d),hl(b,b.g)):0==d?b.g="":c=!1;break;case 27:b.g="",c=!0}(b=c||this.g&&this.g.Tj(a))||(b=this.sb,c=!1,a.ctrlKey||a.altKey||
(d=String.fromCharCode(a.F||a.g).toLowerCase(),(1==d.length&&" "<=d&&"~">=d||"\u0080"<=d&&"\ufffd">=d)&&(" "!=d||b.g)&&(b.g+=d,c=hl(b,b.g))),b=c);b&&a.preventDefault();return b};function ol(a,b){for(var c=b.target;null!=c;){if(b=Kk[c.id])return b;if(c==a.H())break;c=c.parentNode}return null}e.createNode=function(a){return new $k(a||bc,this.Ka,this.Mb())};
function Yk(a,b){a=a.sb;var c=b.mb();if(c&&!/^[\s\xa0]*$/.test(null==c?"":String(c))){c=c.toLowerCase();var d=a.j.get(c);d?d.push(b):a.j.set(c,[b])}}e.removeNode=function(a){gl(this.sb,a)};function Zf(a){this.l=a;this.u=a.options.u;this.Pc=a.options.nd;this.ta=a.options.ta;this.Ka={Ij:19,wl:"blocklyTreeRoot",tl:"blocklyHidden",ul:"",gj:"blocklyTreeRow",vl:"blocklyTreeLabel",Ie:"blocklyTreeIcon",ej:"blocklyTreeIconOpen",fj:"blocklyTreeIconNone",xl:"blocklyTreeSelected"};this.j={gj:"blocklyTreeSeparator"};this.Pc&&(this.Ka.cssTreeRow+=a.u?" blocklyHorizontalTreeRtl":" blocklyHorizontalTree",this.j.cssTreeRow="blocklyTreeSeparatorHorizontal "+(a.u?"blocklyHorizontalTreeRtl":"blocklyHorizontalTree"),
this.Ka.cssTreeIcon="")}e=Zf.prototype;e.width=0;e.height=0;e.Pg=null;
e.qa=function(){var a=this.l,b=O(this.l);this.Ab=document.createElement("div");this.Ab.className="blocklyToolboxDiv";this.Ab.setAttribute("dir",a.u?"RTL":"LTR");b.parentNode.insertBefore(this.Ab,b);z.K(this.Ab,"mousedown",this,function(a){z.h.Se(a)||a.target==this.Ab?z.Eb(!1):z.Eb(!0);z.Touch.Dd()},!1,!0);b={vg:a.options.vg,lc:a,u:a.u,vi:a.options.vi,nd:a.nd,ta:a.options.ta};this.J=null;a.nd?this.J=new bg(b):this.J=new cg(b);z.h.Of(this.J.S("svg"),O(this.l));this.J.qa(a);this.Ka.cleardotPath=a.options.Tc+
"1x1.gif";this.Ka.cssCollapsedFolderIcon="blocklyTreeIconClosed"+(a.u?"Rtl":"Ltr");this.Ic=b=new pl(this,this.Ka);nl(b);kl(b);ml(b);b.nc(null);a=this.xi(a.options.pd);b.ba(this.Ab);a&&b.nc(a);gg(this);this.position()};e.B=function(){this.J.B();this.Ic.B();this.Ab.parentNode.removeChild(this.Ab);this.Pg=this.l=null};e.jc=function(){return this.width};e.Df=function(){return this.height};
e.position=function(){var a=this.Ab;if(a){var b=O(this.l);b=z.Sm(b);this.Pc?(a.style.left="0",a.style.height="auto",a.style.width=b.width+"px",this.height=a.offsetHeight,this.ta==z.Vd?a.style.top="0":a.style.bottom="0"):(this.ta==z.ad?a.style.right="0":a.style.left="0",a.style.height=b.height+"px",this.width=a.offsetWidth);this.J.position()}};
e.xi=function(a){this.Ic.Gm();this.Ic.cd=[];this.g=!1;a=ql(this,a,this.Ic,this.l.options.Tc);if(this.Ic.cd.length)throw Error("Toolbox cannot have both blocks and categories in the root level.");Ke(this.l);return a};
function ql(a,b,c,d){for(var f=null,h=null,k=0,l;l=b.childNodes[k];k++)if(l.tagName)switch(l.tagName.toUpperCase()){case "CATEGORY":h=z.h.vb(l.getAttribute("name"));var m=a.Ic.createNode(h);m.cd=[];c.add(m);var n=l.getAttribute("custom");n?m.cd=n:(n=ql(a,l,m,d))&&(f=n);n=z.h.vb(l.getAttribute("colour"));null===n||""===n?m.Ig="":/^#[0-9a-fA-F]{6}$/.test(n)?(m.Ig=n,a.g=!0):"number"===typeof n||"string"===typeof n&&!isNaN(Number(n))?(m.Ig=z.Yl(Number(n)),a.g=!0):(m.Ig="",console.warn('Toolbox category "'+
h+'" has unrecognized colour attribute: '+n));"true"==l.getAttribute("expanded")?(m.cd.length&&(f=m),m.Vc(!0)):m.Vc(!1);h=l;break;case "SEP":h&&("CATEGORY"==h.tagName.toUpperCase()?c.add(new rl(a.j)):(l=parseFloat(l.getAttribute("gap")),!isNaN(l)&&h&&h.setAttribute("gap",l)));break;case "BLOCK":case "SHADOW":case "LABEL":case "BUTTON":c.cd.push(l),h=l}return f}
function gg(a,b){b=(b||a.Ic).ce(!1);for(var c=0,d;d=b[c];c++){var f=Qk(d);if(f){var h=a.g?"8px solid "+(d.Ig||"#ddd"):"none";a.l.u?f.style.borderRight=h:f.style.borderLeft=h}gg(a,d)}}e.Bf=function(){if(!this.Ab)return null;var a=this.Ab.getBoundingClientRect(),b=a.left,c=a.top,d=a.width;a=a.height;return this.ta==z.Ud?new Ef(-1E7,-1E7,1E7+b+d,2E7):this.ta==z.ad?new Ef(b,-1E7,1E7+d,2E7):this.ta==z.Vd?new Ef(-1E7,-1E7,2E7,1E7+c+a):new Ef(0,c,2E7,1E7+d)};
function pl(a,b){this.Y=a;jl.call(this,bc,b)}y(pl,jl);pl.prototype.gb=function(){pl.o.gb.call(this);if(Lc){var a=this.H();z.K(a,"touchend",this,this.xh)}};pl.prototype.xh=function(a){var b=ol(this,a);b&&"touchend"===a.type&&setTimeout(function(){b.Sj(a)},1)};pl.prototype.createNode=function(a){a=a?Vb(a):bc;return new sl(this.Y,a,this.Ka,this.Mb())};
pl.prototype.nc=function(a){var b=this.Y;if(a!=this.g&&a!=b.Ic){b.Pg&&(Qk(b.Pg).style.backgroundColor="");if(a){var c=a.Ig||"#57e";Qk(a).style.backgroundColor=c;gg(b,a)}c=this.ld();jl.prototype.nc.call(this,a);a&&a.cd&&a.cd.length?(b.J.show(a.cd),b.Pg!=a&&b.J.ik()):b.J.Aa();c!=a&&c!=this&&(c=new J(null,"category",c&&Ub(c.Kg),a&&Ub(a.Kg)),c.g=b.l.id,z.i.O(c));a&&(b.Pg=a)}};function sl(a,b,c,d){Ik.call(this,b,c,d);a&&(b=function(){z.Zf(a.l)},S(a.Ic,"expand",b),S(a.Ic,"collapse",b))}y(sl,$k);e=sl.prototype;
e.tj=function(){return $b("span")};e.Sj=function(){Lh(this)&&this.Ng?(this.toggle(),this.select()):this.ki()?this.Qb().nc(null):this.select();Tk(this)};e.wm=function(){};e.tm=function(){};e.Tj=function(a){if(this.Ae.Y.Pc){var b={};b[39]=this.qb?38:40;b[37]=this.qb?40:38;b[38]=37;b[40]=39;a.g=b[a.g]||a.g}return sl.o.Tj.call(this,a)};function rl(a){sl.call(this,null,bc,a)}y(rl,sl);z.uc={};z.uc.Et="";z.uc.Rm=null;z.uc.jm="";z.uc.Nf=function(a,b){if(!z.uc.Rm){var c=".blocklyDraggable {}\n";a&&(c+=z.uc.bn.join("\n"),z.en&&(c+=z.en.CSS.join("\n")));z.uc.jm=b.replace(/[\\\/]$/,"");c=c.replace(/<<<PATH>>>/g,z.uc.jm);a=document.createElement("style");document.head.insertBefore(a,document.head.firstChild);a.appendChild(document.createTextNode(c));z.uc.Rm=a.sheet}};z.uc.Tt=function(){console.warn("Deprecated call to Blockly.Css.setCursor.See https://github.com/google/blockly/issues/981 for context")};
z.uc.bn=[".blocklySvg {","background-color: #fff;","outline: none;","overflow: hidden;","position: absolute;","display: block;","}",".blocklyWidgetDiv {","display: none;","position: absolute;","z-index: 99999;","}",".injectionDiv {","height: 100%;","position: relative;","overflow: hidden;","touch-action: none","}",".blocklyNonSelectable {","user-select: none;","-moz-user-select: none;","-ms-user-select: none;","-webkit-user-select: none;","}",".blocklyWsDragSurface {","display: none;","position: absolute;",
"top: 0;","left: 0;","}",".blocklyWsDragSurface.blocklyOverflowVisible {","overflow: visible;","}",".blocklyBlockDragSurface {","display: none;","position: absolute;","top: 0;","left: 0;","right: 0;","bottom: 0;","overflow: visible !important;","z-index: 50;","}",".blocklyTooltipDiv {","background-color: #ffffc7;","border: 1px solid #ddc;","box-shadow: 4px 4px 20px 1px rgba(0,0,0,.15);","color: #000;","display: none;","font-family: sans-serif;","font-size: 9pt;","opacity: .9;","padding: 2px;","position: absolute;",
"z-index: 100000;","}",".blocklyResizeSE {","cursor: se-resize;","fill: #aaa;","}",".blocklyResizeSW {","cursor: sw-resize;","fill: #aaa;","}",".blocklyResizeLine {","stroke: #515A5A;","stroke-width: 1;","}",".blocklyHighlightedConnectionPath {","fill: none;","stroke: #fc3;","stroke-width: 4px;","}",".blocklyPathLight {","fill: none;","stroke-linecap: round;","stroke-width: 1;","}",".blocklySelected>.blocklyPath {","stroke: #fc3;","stroke-width: 3px;","}",".blocklySelected>.blocklyPathLight {","display: none;",
"}",".blocklyDraggable {",'cursor: url("<<<PATH>>>/handopen.cur"), auto;',"cursor: grab;","cursor: -webkit-grab;","}",".blocklyDragging {",'cursor: url("<<<PATH>>>/handclosed.cur"), auto;',"cursor: grabbing;","cursor: -webkit-grabbing;","}",".blocklyDraggable:active {",'cursor: url("<<<PATH>>>/handclosed.cur"), auto;',"cursor: grabbing;","cursor: -webkit-grabbing;","}",".blocklyBlockDragSurface .blocklyDraggable {",'cursor: url("<<<PATH>>>/handclosed.cur"), auto;',"cursor: grabbing;","cursor: -webkit-grabbing;",
"}",".blocklyDragging.blocklyDraggingDelete {",'cursor: url("<<<PATH>>>/handdelete.cur"), auto;',"}",".blocklyToolboxDelete {",'cursor: url("<<<PATH>>>/handdelete.cur"), auto;',"}",".blocklyToolboxGrab {",'cursor: url("<<<PATH>>>/handclosed.cur"), auto;',"cursor: grabbing;","cursor: -webkit-grabbing;","}",".blocklyDragging>.blocklyPath,",".blocklyDragging>.blocklyPathLight {","fill-opacity: .8;","stroke-opacity: .8;","}",".blocklyDragging>.blocklyPathDark {","display: none;","}",".blocklyDisabled>.blocklyPath {",
"fill-opacity: .5;","stroke-opacity: .5;","}",".blocklyDisabled>.blocklyPathLight,",".blocklyDisabled>.blocklyPathDark {","display: none;","}",".blocklyText {","cursor: default;","fill: #fff;","font-family: sans-serif;","font-size: 11pt;","}",".blocklyNonEditableText>text {","pointer-events: none;","}",".blocklyNonEditableText>rect,",".blocklyEditableText>rect {","fill: #fff;","fill-opacity: .6;","}",".blocklyNonEditableText>text,",".blocklyEditableText>text {","fill: #000;","}",".blocklyEditableText:hover>rect {",
"stroke: #fff;","stroke-width: 2;","}",".blocklyBubbleText {","fill: #000;","}",".blocklyFlyout {","position: absolute;","z-index: 20;","}",".blocklyFlyoutButton {","fill: #888;","cursor: default;","}",".blocklyFlyoutButtonShadow {","fill: #666;","}",".blocklyFlyoutButton:hover {","fill: #aaa;","}",".blocklyFlyoutLabel {","cursor: default;","}",".blocklyFlyoutLabelBackground {","opacity: 0;","}",".blocklyFlyoutLabelText {","fill: #000;","}",".blocklySvg text, .blocklyBlockDragSurface text {","user-select: none;",
"-moz-user-select: none;","-ms-user-select: none;","-webkit-user-select: none;","cursor: inherit;","}",".blocklyHidden {","display: none;","}",".blocklyFieldDropdown:not(.blocklyHidden) {","display: block;","}",".blocklyIconGroup {","cursor: default;","}",".blocklyIconGroup:not(:hover),",".blocklyIconGroupReadonly {","opacity: .6;","}",".blocklyIconShape {","fill: #00f;","stroke: #fff;","stroke-width: 1px;","}",".blocklyIconSymbol {","fill: #fff;","}",".blocklyMinimalBody {","margin: 0;","padding: 0;",
"}",".blocklyCommentForeignObject {","position: relative;","z-index: 0;","}",".blocklyCommentRect {","fill: #E7DE8E;","stroke: #bcA903;","stroke-width: 1px","}",".blocklyCommentTarget {","fill: transparent;","stroke: #bcA903;","}",".blocklyCommentTargetFocused {","fill: none;","}",".blocklyCommentHandleTarget {","fill: none;","}",".blocklyCommentHandleTargetFocused {","fill: transparent;","}",".blocklyFocused>.blocklyCommentRect {","fill: #B9B272;","stroke: #B9B272;","}",".blocklySelected>.blocklyCommentTarget {",
"stroke: #fc3;","stroke-width: 3px;","}",".blocklyCommentTextarea {","background-color: #fef49c;","border: 0;","outline: 0;","margin: 0;","padding: 3px;","resize: none;","display: block;","overflow: hidden;","}",".blocklyCommentDeleteIcon {","cursor: pointer;","fill: #000;","display: none","}",".blocklySelected > .blocklyCommentDeleteIcon {","display: block","}",".blocklyDeleteIconShape {","fill: #000;","stroke: #000;","stroke-width: 1px;","}",".blocklyDeleteIconShape.blocklyDeleteIconHighlighted {",
"stroke: #fc3;","}",".blocklyHtmlInput {","border: none;","border-radius: 4px;","font-family: sans-serif;","height: 100%;","margin: 0;","outline: none;","padding: 0 1px;","width: 100%","}",".blocklyMainBackground {","stroke-width: 1;","stroke: #c6c6c6;","}",".blocklyMutatorBackground {","fill: #fff;","stroke: #ddd;","stroke-width: 1;","}",".blocklyFlyoutBackground {","fill: #ddd;","fill-opacity: .8;","}",".blocklyTransparentBackground {","opacity: 0;","}",".blocklyMainWorkspaceScrollbar {","z-index: 20;",
"}",".blocklyFlyoutScrollbar {","z-index: 30;","}",".blocklyScrollbarHorizontal, .blocklyScrollbarVertical {","position: absolute;","outline: none;","}",".blocklyScrollbarBackground {","opacity: 0;","}",".blocklyScrollbarHandle {","fill: #ccc;","}",".blocklyScrollbarBackground:hover+.blocklyScrollbarHandle,",".blocklyScrollbarHandle:hover {","fill: #bbb;","}",".blocklyZoom>image {","opacity: .4;","}",".blocklyZoom>image:hover {","opacity: .6;","}",".blocklyZoom>image:active {","opacity: .8;","}",
".blocklyFlyout .blocklyScrollbarHandle {","fill: #bbb;","}",".blocklyFlyout .blocklyScrollbarBackground:hover+.blocklyScrollbarHandle,",".blocklyFlyout .blocklyScrollbarHandle:hover {","fill: #aaa;","}",".blocklyInvalidInput {","background: #faa;","}",".blocklyAngleCircle {","stroke: #444;","stroke-width: 1;","fill: #ddd;","fill-opacity: .8;","}",".blocklyAngleMarks {","stroke: #444;","stroke-width: 1;","}",".blocklyAngleGauge {","fill: #f88;","fill-opacity: .8;","}",".blocklyAngleLine {","stroke: #f00;",
"stroke-width: 2;","stroke-linecap: round;","pointer-events: none;","}",".blocklyContextMenu {","border-radius: 4px;","}",".blocklyDropdownMenu {","padding: 0 !important;","}",".blocklyWidgetDiv .goog-option-selected .goog-menuitem-checkbox,",".blocklyWidgetDiv .goog-option-selected .goog-menuitem-icon {","background: url(<<<PATH>>>/sprites.png) no-repeat -48px -16px !important;","}",".blocklyToolboxDiv {","background-color: #ddd;","overflow-x: visible;","overflow-y: auto;","position: absolute;",
"user-select: none;","-moz-user-select: none;","-ms-user-select: none;","-webkit-user-select: none;","z-index: 70;","-webkit-tap-highlight-color: transparent;","}",".blocklyTreeRoot {","padding: 4px 0;","}",".blocklyTreeRoot:focus {","outline: none;","}",".blocklyTreeRow {","height: 22px;","line-height: 22px;","margin-bottom: 3px;","padding-right: 8px;","white-space: nowrap;","}",".blocklyHorizontalTree {","float: left;","margin: 1px 5px 8px 0;","}",".blocklyHorizontalTreeRtl {","float: right;","margin: 1px 0 8px 5px;",
"}",'.blocklyToolboxDiv[dir="RTL"] .blocklyTreeRow {',"margin-left: 8px;","}",".blocklyTreeRow:not(.blocklyTreeSelected):hover {","background-color: #e4e4e4;","}",".blocklyTreeSeparator {","border-bottom: solid #e5e5e5 1px;","height: 0;","margin: 5px 0;","}",".blocklyTreeSeparatorHorizontal {","border-right: solid #e5e5e5 1px;","width: 0;","padding: 5px 0;","margin: 0 5px;","}",".blocklyTreeIcon {","background-image: url(<<<PATH>>>/sprites.png);","height: 16px;","vertical-align: middle;","width: 16px;",
"}",".blocklyTreeIconClosedLtr {","background-position: -32px -1px;","}",".blocklyTreeIconClosedRtl {","background-position: 0 -1px;","}",".blocklyTreeIconOpen {","background-position: -16px -1px;","}",".blocklyTreeSelected>.blocklyTreeIconClosedLtr {","background-position: -32px -17px;","}",".blocklyTreeSelected>.blocklyTreeIconClosedRtl {","background-position: 0 -17px;","}",".blocklyTreeSelected>.blocklyTreeIconOpen {","background-position: -16px -17px;","}",".blocklyTreeIconNone,",".blocklyTreeSelected>.blocklyTreeIconNone {",
"background-position: -48px -1px;","}",".blocklyTreeLabel {","cursor: default;","font-family: sans-serif;","font-size: 16px;","padding: 0 3px;","vertical-align: middle;","}",".blocklyToolboxDelete .blocklyTreeLabel {",'cursor: url("<<<PATH>>>/handdelete.cur"), auto;',"}",".blocklyTreeSelected .blocklyTreeLabel {","color: #fff;","}",".blocklyWidgetDiv .goog-palette {","outline: none;","cursor: default;","}",".blocklyWidgetDiv .goog-palette-table {","border: 1px solid #666;","border-collapse: collapse;",
"}",".blocklyWidgetDiv .goog-palette-cell {","height: 13px;","width: 15px;","margin: 0;","border: 0;","text-align: center;","vertical-align: middle;","border-right: 1px solid #666;","font-size: 1px;","}",".blocklyWidgetDiv .goog-palette-colorswatch {","position: relative;","height: 13px;","width: 15px;","border: 1px solid #666;","}",".blocklyWidgetDiv .goog-palette-cell-hover .goog-palette-colorswatch {","border: 1px solid #FFF;","}",".blocklyWidgetDiv .goog-palette-cell-selected .goog-palette-colorswatch {",
"border: 1px solid #000;","color: #fff;","}",".blocklyWidgetDiv .goog-menu {","background: #fff;","border-color: #ccc #666 #666 #ccc;","border-style: solid;","border-width: 1px;","cursor: default;","font: normal 13px Arial, sans-serif;","margin: 0;","outline: none;","padding: 4px 0;","position: absolute;","overflow-y: auto;","overflow-x: hidden;","max-height: 100%;","z-index: 20000;","}",".blocklyWidgetDiv .goog-menuitem {","color: #000;","font: normal 13px Arial, sans-serif;","list-style: none;",
"margin: 0;","padding: 4px 7em 4px 28px;","white-space: nowrap;","}",".blocklyWidgetDiv .goog-menuitem.goog-menuitem-rtl {","padding-left: 7em;","padding-right: 28px;","}",".blocklyWidgetDiv .goog-menu-nocheckbox .goog-menuitem,",".blocklyWidgetDiv .goog-menu-noicon .goog-menuitem {","padding-left: 12px;","}",".blocklyWidgetDiv .goog-menu-noaccel .goog-menuitem {","padding-right: 20px;","}",".blocklyWidgetDiv .goog-menuitem-content {","color: #000;","font: normal 13px Arial, sans-serif;","}",".blocklyWidgetDiv .goog-menuitem-disabled .goog-menuitem-accel,",
".blocklyWidgetDiv .goog-menuitem-disabled .goog-menuitem-content {","color: #ccc !important;","}",".blocklyWidgetDiv .goog-menuitem-disabled .goog-menuitem-icon {","opacity: 0.3;","filter: alpha(opacity=30);","}",".blocklyWidgetDiv .goog-menuitem-highlight,",".blocklyWidgetDiv .goog-menuitem-hover {","background-color: #d6e9f8;","border-color: #d6e9f8;","border-style: dotted;","border-width: 1px 0;","padding-bottom: 3px;","padding-top: 3px;","}",".blocklyWidgetDiv .goog-menuitem-checkbox,",".blocklyWidgetDiv .goog-menuitem-icon {",
"background-repeat: no-repeat;","height: 16px;","left: 6px;","position: absolute;","right: auto;","vertical-align: middle;","width: 16px;","}",".blocklyWidgetDiv .goog-menuitem-rtl .goog-menuitem-checkbox,",".blocklyWidgetDiv .goog-menuitem-rtl .goog-menuitem-icon {","left: auto;","right: 6px;","}",".blocklyWidgetDiv .goog-option-selected .goog-menuitem-checkbox,",".blocklyWidgetDiv .goog-option-selected .goog-menuitem-icon {","background: url(//ssl.gstatic.com/editor/editortoolbar.png) no-repeat -512px 0;",
"}",".blocklyWidgetDiv .goog-menuitem-accel {","color: #999;","direction: ltr;","left: auto;","padding: 0 6px;","position: absolute;","right: 0;","text-align: right;","}",".blocklyWidgetDiv .goog-menuitem-rtl .goog-menuitem-accel {","left: 0;","right: auto;","text-align: left;","}",".blocklyWidgetDiv .goog-menuitem-mnemonic-hint {","text-decoration: underline;","}",".blocklyWidgetDiv .goog-menuitem-mnemonic-separator {","color: #999;","font-size: 12px;","padding-left: 4px;","}",".blocklyWidgetDiv .goog-menuseparator {",
"border-top: 1px solid #ccc;","margin: 4px 0;","padding: 0;","}",""];z.I={};z.I.Z=null;z.I.Wg=null;z.I.xf=null;z.I.S=function(){z.I.Z||(z.I.Z=document.createElement("div"),z.I.Z.className="blocklyWidgetDiv",document.body.appendChild(z.I.Z))};z.I.show=function(a,b,c){z.I.Aa();z.I.Wg=a;z.I.xf=c;z.I.Z.style.top=Hc().y+"px";z.I.Z.style.direction=b?"rtl":"ltr";z.I.Z.style.display="block"};z.I.Aa=function(){z.I.Wg&&(z.I.Wg=null,z.I.Z.style.display="none",z.I.Z.style.left="",z.I.Z.style.top="",z.I.xf&&z.I.xf(),z.I.xf=null,z.I.Z.innerHTML="")};z.I.aa=function(){return!!z.I.Wg};
z.I.Jg=function(a){z.I.Wg==a&&z.I.Aa()};z.I.position=function(a,b,c,d,f){b<d.y&&(b=d.y);f?a>c.width+d.x&&(a=c.width+d.x):a<d.x&&(a=d.x);z.I.Bm(a,b,c.height)};z.I.Bm=function(a,b,c){z.I.Z.style.left=a+"px";z.I.Z.style.top=b+"px";z.I.Z.style.height=c+"px"};z.I.Xj=function(a,b,c,d){z.I.Bm(z.I.Dn(a,b,c,d),z.I.En(a,b,c),c.height)};z.I.Dn=function(a,b,c,d){if(d)return b=Math.max(b.right-c.width,a.left),Math.min(b,a.right-c.width);b=Math.min(b.left,a.right-c.width);return Math.max(b,a.left)};
z.I.En=function(a,b,c){return b.bottom+c.height>=a.bottom?b.top-c.height:b.bottom};function tl(a){this.Ek=a;this.S()}e=tl.prototype;e.Rd=null;e.Jc=null;e.Ek=null;e.gg=1;e.fh=null;e.S=function(){this.Rd||(this.Rd=z.h.C("svg",{xmlns:z.Si,"xmlns:html":z.Sd,"xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1","class":"blocklyBlockDragSurface"},this.Ek),this.Jc=z.h.C("g",{},this.Rd))};function Le(a,b){if(a.Jc.childNodes.length)throw Error("Already dragging a block.");a.Jc.appendChild(b);a.Rd.style.display="block";a.fh=new G(0,0)}
e.Nd=function(a,b){this.fh=new G(a*this.gg,b*this.gg);a=this.fh.x;b=this.fh.y;a=a.toFixed(0);b=b.toFixed(0);this.Rd.style.display="block";z.h.ah(this.Rd,"translate3d("+a+"px, "+b+"px, 0px)")};e.ai=function(){var a=z.h.Pb(this.Rd);return new G(a.x/this.gg,a.y/this.gg)};e.Ob=function(){return this.Jc};
e.pg=function(a){a?a.appendChild(this.Jc.firstChild):this.Jc.removeChild(this.Jc.firstChild);this.Rd.style.display="none";if(this.Jc.childNodes.length)throw Error("Drag group was not cleared.");this.fh=null};z.Nf=function(a,b){z.Fn();"string"==typeof a&&(a=document.getElementById(a)||document.querySelector(a));if(!z.h.containsNode(document,a))throw Error("Error: container is not in current document.");b=new mf(b||{});var c=document.createElement("div");c.className="injectionDiv";a.appendChild(c);a=z.rg(c,b);var d=new tl(c);c=new Lf(c);b=z.Tn(a,b,d,c);z.Uo(b);z.ne=b;z.Zf(b);return b};
z.rg=function(a,b){a.setAttribute("dir","LTR");Fh=b.u;z.uc.Nf(b.Qo,b.Tc);a=z.h.C("svg",{xmlns:"http://www.w3.org/2000/svg","xmlns:html":"http://www.w3.org/1999/xhtml","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1","class":"blocklySvg"},a);var c=z.h.C("defs",{},a),d=String(Math.random()).substring(2),f=z.h.C("filter",{id:"blocklyEmbossFilter"+d},c);z.h.C("feGaussianBlur",{"in":"SourceAlpha",stdDeviation:1,result:"blur"},f);var h=z.h.C("feSpecularLighting",{"in":"blur",surfaceScale:1,specularConstant:.5,
specularExponent:10,"lighting-color":"white",result:"specOut"},f);z.h.C("fePointLight",{x:-5E3,y:-1E4,z:2E4},h);z.h.C("feComposite",{"in":"specOut",in2:"SourceAlpha",operator:"in",result:"specOut"},f);z.h.C("feComposite",{"in":"SourceGraphic",in2:"specOut",operator:"arithmetic",k1:0,k2:1,k3:1,k4:0},f);b.po=f.id;f=z.h.C("pattern",{id:"blocklyDisabledPattern"+d,patternUnits:"userSpaceOnUse",width:10,height:10},c);z.h.C("rect",{width:10,height:10,fill:"#aaa"},f);z.h.C("path",{d:"M 0 0 L 10 10 M 10 0 L 0 10",
stroke:"#cc0"},f);b.vg=f.id;f=b.Rl;c=z.h.C("pattern",{id:"blocklyGridPattern"+d,patternUnits:"userSpaceOnUse"},c);0<f.length&&0<f.spacing?(z.h.C("line",{stroke:f.colour},c),1<f.length&&z.h.C("line",{stroke:f.colour},c)):z.h.C("line",{},c);b.Sl=c;return a};
z.Tn=function(a,b,c,d){b.lc=null;var f=new Vf(b,c,d);f.scale=b.zb.Qm;a.appendChild(f.S("blocklyMainBackground"));!b.Vl&&b.pd&&(c=ag(f,"svg"),z.h.Of(c,a));f.translate(0,0);z.ne=f;b.readOnly||b.Xl||f.xc(function(){if(!f.tb()){var a=f.$a(),c=a.eb+a.Ra,d=a.vd+a.Ya;if(a.Wb<d||a.Wb+a.Lb>a.Qa+d||a.fc<(b.u?a.eb:c)||a.fc+a.Xb>(b.u?a.sa:a.sa+c))for(var m=sd(f,!1),n=0,q;q=m[n];n++){var r=q.ia(),u=q.lb(),p=d+25-u.height-r.y;0<p&&q.moveBy(0,p);p=d+a.Qa-25-r.y;0>p&&q.moveBy(0,p);p=25+c-r.x-(b.u?0:u.width);0<p&&
q.moveBy(p,0);r=c+a.sa-25-r.x+(b.u?u.width:0);0>r&&q.moveBy(r,0)}}});z.Zf(f);z.I.S();z.D.S();return f};z.Uo=function(a){var b=a.options,c=O(a);z.K(c.parentNode,"contextmenu",null,function(a){z.h.li(a)||a.preventDefault()});c=z.K(window,"resize",null,function(){z.Eb(!0);z.Zf(a)});a.Bi=c;z.Nf.g();b.pd&&(a.Y?a.Y.qa(a):a.J&&(a.J.qa(a),a.J.show(b.pd.childNodes),a.J.ik(),a.scrollX=a.J.ea,b.ta==z.ad&&(a.scrollX*=-1),a.translate(a.scrollX,0)));b.Xl&&(a.Ua=new of(a),a.Ua.resize());b.Ro&&z.Nf.j(b.Tc,a)};
z.Nf.g=function(){z.lo||(z.K(document,"keydown",null,z.op),z.Lc(document,"touchend",null,z.me),z.Lc(document,"touchcancel",null,z.me),hb&&z.K(window,"orientationchange",document,function(){z.Zf(z.Ag())}));z.lo=!0};
z.Nf.j=function(a,b){function c(){for(;f.length;)z.La(f.pop());d.preload()}var d=b.Xd;d.load([a+"click.mp3",a+"click.wav",a+"click.ogg"],"click");d.load([a+"disconnect.wav",a+"disconnect.mp3",a+"disconnect.ogg"],"disconnect");d.load([a+"delete.mp3",a+"delete.ogg",a+"delete.wav"],"delete");var f=[];f.push(z.K(document,"mousemove",null,c,!0));f.push(z.K(document,"touchstart",null,c,!0))};
z.Vm=function(a){console.warn("Deprecated call to Blockly.updateToolbox, use workspace.updateToolbox instead.");z.Ag().Vm(a)};z.ne=null;z.selected=null;z.Nh=[];z.qg=null;z.Eh=null;z.zt=null;z.Yl=function(a){var b=z.jn,c=255*z.kn,d=0,f=0,h=0;if(0==b)h=f=d=c;else{var k=Math.floor(a/60),l=a/60-k;a=c*(1-b);var m=c*(1-b*l);b=c*(1-b*(1-l));switch(k){case 1:d=m;f=c;h=a;break;case 2:d=a;f=c;h=b;break;case 3:d=a;f=m;h=c;break;case 4:d=b;f=a;h=c;break;case 5:d=c;f=a;h=m;break;case 6:case 0:d=c,f=b,h=a}}return kj([Math.floor(d),Math.floor(f),Math.floor(h)])};z.Sm=function(a){return{width:a.al,height:a.$k}};z.St=function(a){Ke(a)};
z.Zf=function(a){for(;a.options.lc;)a=a.options.lc;var b=O(a),c=b.parentNode;if(c){var d=c.offsetWidth;c=c.offsetHeight;b.al!=d&&(b.setAttribute("width",d+"px"),b.al=d);b.$k!=c&&(b.setAttribute("height",c+"px"),b.$k=c);a.resize()}};
z.op=function(a){if(!z.ne.options.readOnly&&!z.h.li(a)){var b=!1;if(27==a.keyCode)z.Eb();else if(8==a.keyCode||46==a.keyCode){a.preventDefault();if(z.ne.tb())return;z.selected&&z.selected.Fb()&&(b=!0)}else if(a.altKey||a.ctrlKey||a.metaKey){if(z.ne.tb())return;z.selected&&z.selected.Fb()&&z.selected.Qc()&&(67==a.keyCode?(z.Eb(),z.dj(z.selected)):88!=a.keyCode||z.selected.s.Jd||(z.dj(z.selected),b=!0));86==a.keyCode?z.qg&&(z.i.W(!0),a=z.Eh,a.Jd&&(a=a.hf),dg(a),z.i.W(!1)):90==a.keyCode&&(z.Eb(),z.ne.Ck(a.shiftKey))}b&&
!z.selected.s.Jd&&(z.i.W(!0),z.Eb(),z.selected.B(!0,!0),z.i.W(!1))}};z.dj=function(a){if(a.am)var b=a.ih();else{b=z.G.Yd(a);z.G.io(b);var c=a.ia();b.setAttribute("x",a.u?-c.x:c.x);b.setAttribute("y",c.y)}z.qg=b;z.Eh=a.s};z.Dl=function(a){var b=z.qg,c=z.Eh;z.dj(a);dg(a.s);z.qg=b;z.Eh=c};z.Ot=function(a){z.h.li(a)||a.preventDefault()};z.Eb=function(a){z.D.Aa();z.I.Aa();a||(a=z.Ag(),a.Y&&a.Y.J&&a.Y.J.uf&&a.Y.Ic.nc(null))};
z.xc=function(a){console.warn("Deprecated call to Blockly.addChangeListener, use workspace.addChangeListener instead.");return z.Ag().xc(a)};z.Ag=function(){return z.ne};z.alert=function(a,b){window.alert(a);b&&b()};z.confirm=function(a,b){b(window.confirm(a))};z.prompt=function(a,b,c){c(window.prompt(a,b))};
z.Zo=function(a){return function(){var b=a.type?'Block "'+a.type+'": ':"";if(a.output&&a.previousStatement)throw Error(b+"Must not have both an output and a previousStatement.");if("colour"in a)if(void 0===a.colour)console.warn(b+"Undefined color value.");else{var c=a.colour;try{this.Zg(c)}catch(r){console.warn(b+"Illegal color value: ",c)}}for(c=0;void 0!==a["message"+c];){for(var d=a["args"+c]||[],f=a["lastDummyAlign"+c],h=z.h.Pp(a["message"+c]),k=[],l=0,m=[],n=0;n<h.length;n++){var q=h[n];if("number"==
typeof q){if(0>=q||q>d.length)throw Error('Block "'+this.type+'": Message index %'+q+" out of range.");if(k[q])throw Error('Block "'+this.type+'": Message index %'+q+" duplicated.");k[q]=!0;l++;m.push(d[q-1])}else(q=q.trim())&&m.push(q)}if(l!=d.length)throw Error('Block "'+this.type+'": Message does not reference all '+d.length+" arg(s).");m.length&&("string"==typeof m[m.length-1]||z.h.startsWith(m[m.length-1].type,"field_"))&&(n={type:"input_dummy"},f&&(n.align=f),m.push(n));f={LEFT:z.eg,RIGHT:z.ph,
CENTRE:z.oh};d=[];for(n=0;n<m.length;n++)if(k=m[n],"string"==typeof k)d.push([k,void 0]);else{h=q=null;do if(l=!1,"string"==typeof k)q=new Jg(k);else switch(k.type){case "input_value":h=this.tf(z.Wa,k.name);break;case "input_statement":h=this.tf(z.Xa,k.name);break;case "input_dummy":h=this.tf(z.Zc,k.name||"");break;default:q=(q=Cg[k.type])?q.ca(k):null,q||(k.alt?(k=k.alt,l=!0):console.warn("Blockly could not create a field of type "+k.type+". You may need to register your custom field.  See github.com/google/blockly/issues/1584"))}while(l);
if(q)d.push([q,k.name]);else if(h){k.check&&h.Wf(k.check);k.align&&(l=h,l.align=f[k.align],l.A.R&&l.A.ba());for(k=0;k<d.length;k++)l=h,Lg(l,l.Ia.length,d[k][0],d[k][1]);d.length=0}}c++}void 0!==a.inputsInline&&this.Xf(a.inputsInline);void 0!==a.output&&this.qk(!0,a.output);void 0!==a.previousStatement&&this.rk(!0,a.previousStatement);void 0!==a.nextStatement&&this.pk(!0,a.nextStatement);void 0!==a.tooltip&&(c=a.tooltip,c=z.h.vb(c),this.xe(c));void 0!==a.enableContextMenu&&(c=a.enableContextMenu,this.contextMenu=
!!c);void 0!==a.helpUrl&&(c=a.helpUrl,this.Mf=z.h.vb(c));"string"==typeof a.extensions&&(console.warn(b+"JSON attribute 'extensions' should be an array of strings. Found raw string in JSON for '"+a.type+"' block."),a.extensions=[a.extensions]);void 0!==a.mutator&&z.ka.apply(a.mutator,this,!0);if(Array.isArray(a.extensions))for(b=a.extensions,c=0;c<b.length;++c)z.ka.apply(b[c],this,!1)}};
z.Ft=function(a){for(var b=0;b<a.length;b++){var c=a[b];if(c){var d=c.type;null==d||""===d?console.warn("Block definition #"+b+" in JSON array is missing a type attribute. Skipping."):(z.ec[d]&&console.warn("Block definition #"+b+' in JSON array overwrites prior definition of "'+d+'".'),z.ec[d]={qa:z.Zo(c)})}else console.warn("Block definition #"+b+" in JSON array is "+c+". Skipping.")}};
z.K=function(a,b,c,d,f,h){function k(a){var b=!f;a=z.Touch.Hp(a);for(var h=0,k;k=a[h];h++)if(!b||z.Touch.wk(k))z.Touch.Ep(k),c?d.call(c,k):d(k),l=!0}var l=!1,m=[];if(g.PointerEvent&&b in z.Touch.bd)for(var n=0,q;q=z.Touch.bd[b][n];n++)a.addEventListener(q,k,!1),m.push([a,q,k]);else if(a.addEventListener(b,k,!1),m.push([a,b,k]),b in z.Touch.bd){var r=function(a){k(a);var b=!h;l&&b&&a.preventDefault()};for(n=0;q=z.Touch.bd[b][n];n++)a.addEventListener(q,r,!1),m.push([a,q,r])}return m};
z.Lc=function(a,b,c,d){function f(a){c?d.call(c,a):d(a)}var h=[],k=g.window;if(k&&k.PointerEvent&&b in z.Touch.bd){k=0;for(var l;l=z.Touch.bd[b][k];k++)a.addEventListener(l,f,!1),h.push([a,l,f])}else if(a.addEventListener(b,f,!1),h.push([a,b,f]),b in z.Touch.bd){var m=function(a){if(a.changedTouches&&1==a.changedTouches.length){var b=a.changedTouches[0];a.clientX=b.clientX;a.clientY=b.clientY}f(a);a.preventDefault()};for(k=0;l=z.Touch.bd[b][k];k++)a.addEventListener(l,m,!1),h.push([a,l,m])}return h};
z.La=function(a){for(;a.length;){var b=a.pop();b[0].removeEventListener(b[1],b[2],!1)}};z.Mt=function(a){return/^\s*-?\d+(\.\d+)?\s*$/.test(a)};
z.Fn=function(){z.Cb("LOGIC_HUE",["Blocks","logic","HUE"],void 0);z.Cb("LOGIC_HUE",["Constants","Logic","HUE"],210);z.Cb("LOOPS_HUE",["Blocks","loops","HUE"],void 0);z.Cb("LOOPS_HUE",["Constants","Loops","HUE"],120);z.Cb("MATH_HUE",["Blocks","math","HUE"],void 0);z.Cb("MATH_HUE",["Constants","Math","HUE"],230);z.Cb("TEXTS_HUE",["Blocks","texts","HUE"],void 0);z.Cb("TEXTS_HUE",["Constants","Text","HUE"],160);z.Cb("LISTS_HUE",["Blocks","lists","HUE"],void 0);z.Cb("LISTS_HUE",["Constants","Lists","HUE"],
260);z.Cb("COLOUR_HUE",["Blocks","colour","HUE"],void 0);z.Cb("COLOUR_HUE",["Constants","Colour","HUE"],20);z.Cb("VARIABLES_HUE",["Blocks","variables","HUE"],void 0);z.Cb("VARIABLES_HUE",["Constants","Variables","HUE"],330);z.Cb("VARIABLES_DYNAMIC_HUE",["Constants","VariablesDynamic","HUE"],310);z.Cb("PROCEDURES_HUE",["Blocks","procedures","HUE"],void 0)};
z.Cb=function(a,b,c){for(var d="Blockly",f=z,h=0;h<b.length;++h)d+="."+b[h],f&&(f=f[b[h]]);f&&f!==c&&(a=(void 0===c?'%1 has been removed. Use Blockly.Msg["%2"].':'%1 is deprecated and unused. Override Blockly.Msg["%2"].').replace("%1",d).replace("%2",a),console.warn(a))};g.console||(g.console={log:function(){},warn:function(){}});g.Blockly||(g.Blockly={});g.Blockly.getMainWorkspace=z.Ag;g.Blockly.addChangeListener=z.xc;
